import{c as Mt,q as Nt,h as ze,k as Ie,R as Se,K as ge}from"../chunks/store.b6cd891a.js";import{I as Ve,S as be,i as $e,s as we,P as Tt,k as C,a as N,l as D,m as q,c as T,h as p,n as M,p as Be,b as w,C as E,E as F,R as se,U as At,V as Ht,W as Rt,g as P,X as ye,a2 as _e,d as H,F as pe,q as j,r as W,u as x,_ as de,w as ee,M as ie,y as G,z as X,A as Q,N as oe,B as U,Q as ne,v as te,f as le,a6 as Ee,e as ae,x as Re,O as Dt,o as Fe,a5 as Ge,T as Ye,Z as Ot,H as Ue,G as Le,Y as It,a0 as St,a1 as Vt,a9 as Lt}from"../chunks/index.e9b9921d.js";import{r as je}from"../chunks/index.d7eb2526.js";import{M as Ke,b as ve,P as Te,a as Ae,d as He,u as Kt,o as We}from"../chunks/modal-service.de83e347.js";import{s as fe,P as ke,T as Qe,b as jt}from"../chunks/Toggle.ff516c6a.js";const Wt=!1;async function zt({params:i}){const e=i.id;let l,t;if(i.type=="class")throw je(302,`/${i.type}/${i.id}/edit`);if(i.type=="skill"){for(const n of Ve(ze))if(t||(t=n),n.name==e){l=n;break}}if(l)return Mt.set(l),Nt.set(i.type=="class"),{data:l};throw t?je(302,`/${i.type}/${t.name}`):je(302,"/")}const Tl=Object.freeze(Object.defineProperty({__proto__:null,load:zt,ssr:Wt},Symbol.toStringTag,{value:"Module"}));function Xe(i){let e,l;return{c(){e=C("span"),l=j(i[1]),this.h()},l(t){e=D(t,"SPAN",{class:!0});var n=q(e);l=W(n,i[1]),n.forEach(p),this.h()},h(){M(e,"class","material-symbols-rounded")},m(t,n){w(t,e,n),E(e,l)},p(t,n){n&2&&x(l,t[1])},d(t){t&&p(e)}}}function Bt(i){let e,l,t,n,o,s,f=i[1]&&Xe(i);const a=i[5].default,c=Tt(a,i,i[4],null);return{c(){e=C("div"),f&&f.c(),l=N(),c&&c.c(),this.h()},l(r){e=D(r,"DIV",{class:!0,title:!0});var u=q(e);f&&f.l(u),l=T(u),c&&c.l(u),u.forEach(p),this.h()},h(){M(e,"class","control svelte-1n1iox0"),M(e,"title",i[0]),Be(e,"--color",i[2])},m(r,u){w(r,e,u),f&&f.m(e,null),E(e,l),c&&c.m(e,null),n=!0,o||(s=[F(e,"click",se(i[6])),F(e,"keypress",se(i[3]))],o=!0)},p(r,[u]){r[1]?f?f.p(r,u):(f=Xe(r),f.c(),f.m(e,l)):f&&(f.d(1),f=null),c&&c.p&&(!n||u&16)&&At(c,a,r,r[4],n?Rt(a,r[4],u,null):Ht(r[4]),null),(!n||u&1)&&M(e,"title",r[0]),u&4&&Be(e,"--color",r[2])},i(r){n||(P(c,r),ye(()=>{n&&(t||(t=_e(e,fe,{},!0)),t.run(1))}),n=!0)},o(r){H(c,r),t||(t=_e(e,fe,{},!1)),t.run(0),n=!1},d(r){r&&p(e),f&&f.d(),c&&c.d(r),r&&t&&t.end(),o=!1,pe(s)}}}function Yt(i,e,l){let{$$slots:t={},$$scope:n}=e,{title:o=""}=e,{icon:s=""}=e,{color:f="red"}=e;const a=r=>r.key==="Enter"&&r.target.click();function c(r){de.call(this,i,r)}return i.$$set=r=>{"title"in r&&l(0,o=r.title),"icon"in r&&l(1,s=r.icon),"color"in r&&l(2,f=r.color),"$$scope"in r&&l(4,n=r.$$scope)},[o,s,f,a,n,t,c]}class Oe extends be{constructor(e){super(),$e(this,e,Yt,Bt,we,{title:0,icon:1,color:2})}}function Ze(i,e,l){const t=i.slice();return t[10]=e[l],t[11]=e,t[12]=l,t}function Je(i){let e,l=i[0].description+"",t;return{c(){e=C("div"),t=j(l),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=q(e);t=W(o,l),o.forEach(p),this.h()},h(){M(e,"class","modal-desc svelte-yfnt3o")},m(n,o){w(n,e,o),E(e,t)},p(n,o){o&1&&l!==(l=n[0].description+"")&&x(t,l)},d(n){n&&p(e)}}}function Ft(i){let e,l,t;function n(s){i[4](s)}let o={label:"Icon Key",tooltip:'[icon-key] The key used by the component in the Icon Lore. If this is set to "example" and has a value name of "value", it can be referenced using the string "{attr:example.value}"'};return i[0].iconKey!==void 0&&(o.value=i[0].iconKey),e=new ke({props:o}),ee.push(()=>ie(e,"value",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const a={};!l&&f&1&&(l=!0,a.value=s[0].iconKey,oe(()=>l=!1)),e.$set(a)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Gt(i){let e,l,t,n;return e=new ke({props:{label:"Mana",tooltip:"[mana] Whether this trigger requires the mana cost to activate",$$slots:{default:[Qt]},$$scope:{ctx:i}}}),t=new ke({props:{label:"Cooldown",tooltip:"[cooldown] Whether this trigger requires to be off cooldown to activate",$$slots:{default:[Ut]},$$scope:{ctx:i}}}),{c(){G(e.$$.fragment),l=N(),G(t.$$.fragment)},l(o){X(e.$$.fragment,o),l=T(o),X(t.$$.fragment,o)},m(o,s){Q(e,o,s),w(o,l,s),Q(t,o,s),n=!0},p(o,s){const f={};s&8193&&(f.$$scope={dirty:s,ctx:o}),e.$set(f);const a={};s&8193&&(a.$$scope={dirty:s,ctx:o}),t.$set(a)},i(o){n||(P(e.$$.fragment,o),P(t.$$.fragment,o),n=!0)},o(o){H(e.$$.fragment,o),H(t.$$.fragment,o),n=!1},d(o){U(e,o),o&&p(l),U(t,o)}}}function Qt(i){let e,l,t;function n(s){i[2](s)}let o={};return i[0].mana!==void 0&&(o.data=i[0].mana),e=new Qe({props:o}),ee.push(()=>ie(e,"data",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const a={};!l&&f&1&&(l=!0,a.data=s[0].mana,oe(()=>l=!1)),e.$set(a)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Ut(i){let e,l,t;function n(s){i[3](s)}let o={};return i[0].cooldown!==void 0&&(o.data=i[0].cooldown),e=new Qe({props:o}),ee.push(()=>ie(e,"data",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const a={};!l&&f&1&&(l=!0,a.data=s[0].cooldown,oe(()=>l=!1)),e.$set(a)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function xe(i){let e,l;return e=new ke({props:{label:"Counts as Cast",tooltip:'[counts] Whether this mechanic running treats the skill as "casted" and will consume mana and start the cooldown. Set to false if it is a mechanic applled when the skill fails such as cleanup or an error message"',$$slots:{default:[Xt]},$$scope:{ctx:i}}}),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p(t,n){const o={};n&8193&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Xt(i){let e,l,t;function n(s){i[5](s)}let o={};return i[0].countsAsCast!==void 0&&(o.data=i[0].countsAsCast),e=new Qe({props:o}),ee.push(()=>ie(e,"data",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const a={};!l&&f&1&&(l=!0,a.data=s[0].countsAsCast,oe(()=>l=!1)),e.$set(a)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function et(i){let e,l,t,n;function o(a){i[6](a,i[10])}var s=i[10].component;function f(a){let c={name:a[10].name,tooltip:(a[10].key?"["+a[10].key+"] ":"")+a[10].tooltip,multiple:a[10].multiple};return a[10].data!==void 0&&(c.data=a[10].data),{props:c}}return s&&(e=Re(s,f(i)),ee.push(()=>ie(e,"data",o)),e.$on("save",i[7])),{c(){e&&G(e.$$.fragment),t=ae()},l(a){e&&X(e.$$.fragment,a),t=ae()},m(a,c){e&&Q(e,a,c),w(a,t,c),n=!0},p(a,c){i=a;const r={};if(c&1&&(r.name=i[10].name),c&1&&(r.tooltip=(i[10].key?"["+i[10].key+"] ":"")+i[10].tooltip),c&1&&(r.multiple=i[10].multiple),!l&&c&1&&(l=!0,r.data=i[10].data,oe(()=>l=!1)),c&1&&s!==(s=i[10].component)){if(e){te();const u=e;H(u.$$.fragment,1,0,()=>{U(u,1)}),le()}s?(e=Re(s,f(i)),ee.push(()=>ie(e,"data",o)),e.$on("save",i[7]),G(e.$$.fragment),P(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else s&&e.$set(r)},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&H(e.$$.fragment,a),n=!1},d(a){a&&p(t),e&&U(e,a)}}}function tt(i){let e=i[10].meetsRequirements(i[0]),l,t,n=e&&et(i);return{c(){n&&n.c(),l=ae()},l(o){n&&n.l(o),l=ae()},m(o,s){n&&n.m(o,s),w(o,l,s),t=!0},p(o,s){s&1&&(e=o[10].meetsRequirements(o[0])),e?n?(n.p(o,s),s&1&&P(n,1)):(n=et(o),n.c(),P(n,1),n.m(l.parentNode,l)):n&&(te(),H(n,1,1,()=>{n=null}),le())},i(o){t||(P(n),t=!0)},o(o){H(n),t=!1},d(o){n&&n.d(o),o&&p(l)}}}function Zt(i){let e,l,t=i[0].name+"",n,o,s,f,a,c,r,u,_,h,k,V=i[0].description&&Je(i);const b=[Gt,Ft],S=[];function g(v,y){return v[0]instanceof Ie&&v[0].name!="Cast"&&v[0].name!="Initialize"&&v[0].name!="Cleanup"?0:v[0]instanceof Te||v[0]instanceof Ae||v[0]instanceof ve?1:-1}~(r=g(i))&&(u=S[r]=b[r](i));let $=i[0]instanceof ve&&xe(i),O=i[0].data,L=[];for(let v=0;v<O.length;v+=1)L[v]=tt(Ze(i,O,v));const Z=v=>H(L[v],1,1,()=>{L[v]=null});return{c(){e=C("h2"),l=C("span"),n=j(t),o=N(),V&&V.c(),s=N(),f=C("hr"),a=N(),c=C("div"),u&&u.c(),_=N(),$&&$.c(),h=N();for(let v=0;v<L.length;v+=1)L[v].c();this.h()},l(v){e=D(v,"H2",{class:!0});var y=q(e);l=D(y,"SPAN",{class:!0});var m=q(l);n=W(m,t),m.forEach(p),y.forEach(p),o=T(v),V&&V.l(v),s=T(v),f=D(v,"HR",{}),a=T(v),c=D(v,"DIV",{class:!0});var d=q(c);u&&u.l(d),_=T(d),$&&$.l(d),h=T(d);for(let I=0;I<L.length;I+=1)L[I].l(d);d.forEach(p),this.h()},h(){M(l,"class","svelte-yfnt3o"),M(e,"class","svelte-yfnt3o"),ne(e,"deprecated",i[0].isDeprecated),M(c,"class","component-entry svelte-yfnt3o")},m(v,y){w(v,e,y),E(e,l),E(l,n),w(v,o,y),V&&V.m(v,y),w(v,s,y),w(v,f,y),w(v,a,y),w(v,c,y),~r&&S[r].m(c,null),E(c,_),$&&$.m(c,null),E(c,h);for(let m=0;m<L.length;m+=1)L[m]&&L[m].m(c,null);k=!0},p(v,y){(!k||y&1)&&t!==(t=v[0].name+"")&&x(n,t),(!k||y&1)&&ne(e,"deprecated",v[0].isDeprecated),v[0].description?V?V.p(v,y):(V=Je(v),V.c(),V.m(s.parentNode,s)):V&&(V.d(1),V=null);let m=r;if(r=g(v),r===m?~r&&S[r].p(v,y):(u&&(te(),H(S[m],1,1,()=>{S[m]=null}),le()),~r?(u=S[r],u?u.p(v,y):(u=S[r]=b[r](v),u.c()),P(u,1),u.m(c,_)):u=null),v[0]instanceof ve?$?($.p(v,y),y&1&&P($,1)):($=xe(v),$.c(),P($,1),$.m(c,h)):$&&(te(),H($,1,1,()=>{$=null}),le()),y&1){O=v[0].data;let d;for(d=0;d<O.length;d+=1){const I=Ze(v,O,d);L[d]?(L[d].p(I,y),P(L[d],1)):(L[d]=tt(I),L[d].c(),P(L[d],1),L[d].m(c,null))}for(te(),d=O.length;d<L.length;d+=1)Z(d);le()}},i(v){if(!k){P(u),P($);for(let y=0;y<O.length;y+=1)P(L[y]);k=!0}},o(v){H(u),H($),L=L.filter(Boolean);for(let y=0;y<L.length;y+=1)H(L[y]);k=!1},d(v){v&&p(e),v&&p(o),V&&V.d(v),v&&p(s),v&&p(f),v&&p(a),v&&p(c),~r&&S[r].d(),$&&$.d(),Ee(L,v)}}}function Jt(i){let e,l,t;function n(s){i[8](s)}let o={width:"70%",$$slots:{default:[Zt]},$$scope:{ctx:i}};return i[1]!==void 0&&(o.open=i[1]),e=new Ke({props:o}),ee.push(()=>ie(e,"open",n)),e.$on("close",i[9]),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,[f]){const a={};f&8193&&(a.$$scope={dirty:f,ctx:s}),!l&&f&2&&(l=!0,a.open=s[1],oe(()=>l=!1)),e.$set(a)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function xt(i,e,l){let{data:t=void 0}=e,n=!0;function o(h){i.$$.not_equal(t.mana,h)&&(t.mana=h,l(0,t))}function s(h){i.$$.not_equal(t.cooldown,h)&&(t.cooldown=h,l(0,t))}function f(h){i.$$.not_equal(t.iconKey,h)&&(t.iconKey=h,l(0,t))}function a(h){i.$$.not_equal(t.countsAsCast,h)&&(t.countsAsCast=h,l(0,t))}function c(h,k){i.$$.not_equal(k.data,h)&&(k.data=h,l(0,t))}function r(h){de.call(this,i,h)}function u(h){n=h,l(1,n)}function _(h){de.call(this,i,h)}return i.$$set=h=>{"data"in h&&l(0,t=h.data)},i.$$.update=()=>{i.$$.dirty&3&&n&&t&&t.data.filter(h=>h.dataSource).forEach(h=>h.init())},[t,n,o,s,f,a,c,r,u,_]}class el extends be{constructor(e){super(),$e(this,e,xt,Jt,we,{data:0})}}function lt(i,e,l){const t=i.slice();return t[22]=e[l],t}function nt(i,e,l){const t=i.slice();return t[25]=e[l],t}function it(i,e,l){const t=i.slice();return t[28]=e[l],t}function st(i){let e,l,t,n,o,s,f,a=i[1],c=[];for(let r=0;r<a.length;r+=1)c[r]=ot(it(i,a,r));return{c(){e=C("hr"),l=N(),t=C("div"),n=C("h3"),o=j("Targets"),s=N(),f=C("div");for(let r=0;r<c.length;r+=1)c[r].c();this.h()},l(r){e=D(r,"HR",{}),l=T(r),t=D(r,"DIV",{class:!0});var u=q(t);n=D(u,"H3",{class:!0});var _=q(n);o=W(_,"Targets"),_.forEach(p),u.forEach(p),s=T(r),f=D(r,"DIV",{class:!0});var h=q(f);for(let k=0;k<c.length;k+=1)c[k].l(h);h.forEach(p),this.h()},h(){M(n,"class","svelte-14lpuu9"),M(t,"class","comp-modal-header svelte-14lpuu9"),M(f,"class","triggers")},m(r,u){w(r,e,u),w(r,l,u),w(r,t,u),E(t,n),E(n,o),w(r,s,u),w(r,f,u);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(f,null)},p(r,u){if(u[0]&18){a=r[1];let _;for(_=0;_<a.length;_+=1){const h=it(r,a,_);c[_]?c[_].p(h,u):(c[_]=ot(h),c[_].c(),c[_].m(f,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=a.length}},d(r){r&&p(e),r&&p(l),r&&p(t),r&&p(s),r&&p(f),Ee(c,r)}}}function tl(i){let e=i[28].name+"",l;return{c(){l=j(e)},l(t){l=W(t,e)},m(t,n){w(t,l,n)},p(t,n){n[0]&2&&e!==(e=t[28].name+"")&&x(l,e)},d(t){t&&p(l)}}}function ll(i){let e,l=i[28].name+"",t;return{c(){e=C("s"),t=j(l)},l(n){e=D(n,"S",{});var o=q(e);t=W(o,l),o.forEach(p)},m(n,o){w(n,e,o),E(e,t)},p(n,o){o[0]&2&&l!==(l=n[28].name+"")&&x(t,l)},d(n){n&&p(e)}}}function ot(i){let e,l,t,n,o;function s(u,_){return _[0]&2&&(l=null),l==null&&(l=!!u[28].component.new().isDeprecated),l?ll:tl}let f=s(i,[-1,-1]),a=f(i);function c(){return i[10](i[28])}function r(...u){return i[11](i[28],...u)}return{c(){e=C("div"),a.c(),t=N(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=q(e);a.l(_),t=T(_),_.forEach(p),this.h()},h(){M(e,"class","comp-select")},m(u,_){w(u,e,_),a.m(e,null),E(e,t),n||(o=[F(e,"click",c),F(e,"keypress",r)],n=!0)},p(u,_){i=u,f===(f=s(i,_))&&a?a.p(i,_):(a.d(1),a=f(i),a&&(a.c(),a.m(e,t)))},d(u){u&&p(e),a.d(),n=!1,pe(o)}}}function rt(i){let e,l,t,n,o,s,f,a=i[2],c=[];for(let r=0;r<a.length;r+=1)c[r]=at(nt(i,a,r));return{c(){e=C("hr"),l=N(),t=C("div"),n=C("h3"),o=j("Conditions"),s=N(),f=C("div");for(let r=0;r<c.length;r+=1)c[r].c();this.h()},l(r){e=D(r,"HR",{}),l=T(r),t=D(r,"DIV",{class:!0});var u=q(t);n=D(u,"H3",{class:!0});var _=q(n);o=W(_,"Conditions"),_.forEach(p),u.forEach(p),s=T(r),f=D(r,"DIV",{class:!0});var h=q(f);for(let k=0;k<c.length;k+=1)c[k].l(h);h.forEach(p),this.h()},h(){M(n,"class","svelte-14lpuu9"),M(t,"class","comp-modal-header svelte-14lpuu9"),M(f,"class","triggers")},m(r,u){w(r,e,u),w(r,l,u),w(r,t,u),E(t,n),E(n,o),w(r,s,u),w(r,f,u);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(f,null)},p(r,u){if(u[0]&20){a=r[2];let _;for(_=0;_<a.length;_+=1){const h=nt(r,a,_);c[_]?c[_].p(h,u):(c[_]=at(h),c[_].c(),c[_].m(f,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=a.length}},d(r){r&&p(e),r&&p(l),r&&p(t),r&&p(s),r&&p(f),Ee(c,r)}}}function nl(i){let e=i[25].name+"",l;return{c(){l=j(e)},l(t){l=W(t,e)},m(t,n){w(t,l,n)},p(t,n){n[0]&4&&e!==(e=t[25].name+"")&&x(l,e)},d(t){t&&p(l)}}}function il(i){let e,l=i[25].name+"",t;return{c(){e=C("s"),t=j(l)},l(n){e=D(n,"S",{});var o=q(e);t=W(o,l),o.forEach(p)},m(n,o){w(n,e,o),E(e,t)},p(n,o){o[0]&4&&l!==(l=n[25].name+"")&&x(t,l)},d(n){n&&p(e)}}}function at(i){let e,l,t,n,o;function s(u,_){return _[0]&4&&(l=null),l==null&&(l=!!u[25].component.new().isDeprecated),l?il:nl}let f=s(i,[-1,-1]),a=f(i);function c(){return i[12](i[25])}function r(...u){return i[13](i[25],...u)}return{c(){e=C("div"),a.c(),t=N(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=q(e);a.l(_),t=T(_),_.forEach(p),this.h()},h(){M(e,"class","comp-select")},m(u,_){w(u,e,_),a.m(e,null),E(e,t),n||(o=[F(e,"click",c),F(e,"keypress",r)],n=!0)},p(u,_){i=u,f===(f=s(i,_))&&a?a.p(i,_):(a.d(1),a=f(i),a&&(a.c(),a.m(e,t)))},d(u){u&&p(e),a.d(),n=!1,pe(o)}}}function ft(i){let e,l,t,n,o,s,f,a=i[3],c=[];for(let r=0;r<a.length;r+=1)c[r]=ct(lt(i,a,r));return{c(){e=C("hr"),l=N(),t=C("div"),n=C("h3"),o=j("Mechanics"),s=N(),f=C("div");for(let r=0;r<c.length;r+=1)c[r].c();this.h()},l(r){e=D(r,"HR",{}),l=T(r),t=D(r,"DIV",{class:!0});var u=q(t);n=D(u,"H3",{class:!0});var _=q(n);o=W(_,"Mechanics"),_.forEach(p),u.forEach(p),s=T(r),f=D(r,"DIV",{class:!0});var h=q(f);for(let k=0;k<c.length;k+=1)c[k].l(h);h.forEach(p),this.h()},h(){M(n,"class","svelte-14lpuu9"),M(t,"class","comp-modal-header svelte-14lpuu9"),M(f,"class","triggers")},m(r,u){w(r,e,u),w(r,l,u),w(r,t,u),E(t,n),E(n,o),w(r,s,u),w(r,f,u);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(f,null)},p(r,u){if(u[0]&24){a=r[3];let _;for(_=0;_<a.length;_+=1){const h=lt(r,a,_);c[_]?c[_].p(h,u):(c[_]=ct(h),c[_].c(),c[_].m(f,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=a.length}},d(r){r&&p(e),r&&p(l),r&&p(t),r&&p(s),r&&p(f),Ee(c,r)}}}function sl(i){let e=i[22].name+"",l;return{c(){l=j(e)},l(t){l=W(t,e)},m(t,n){w(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[22].name+"")&&x(l,e)},d(t){t&&p(l)}}}function ol(i){let e,l=i[22].name+"",t;return{c(){e=C("s"),t=j(l)},l(n){e=D(n,"S",{});var o=q(e);t=W(o,l),o.forEach(p)},m(n,o){w(n,e,o),E(e,t)},p(n,o){o[0]&8&&l!==(l=n[22].name+"")&&x(t,l)},d(n){n&&p(e)}}}function ct(i){let e,l,t,n,o;function s(u,_){return _[0]&8&&(l=null),l==null&&(l=!!u[22].component.new().isDeprecated),l?ol:sl}let f=s(i,[-1,-1]),a=f(i);function c(){return i[14](i[22])}function r(...u){return i[15](i[22],...u)}return{c(){e=C("div"),a.c(),t=N(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=q(e);a.l(_),t=T(_),_.forEach(p),this.h()},h(){M(e,"class","comp-select")},m(u,_){w(u,e,_),a.m(e,null),E(e,t),n||(o=[F(e,"click",c),F(e,"keypress",r)],n=!0)},p(u,_){i=u,f===(f=s(i,_))&&a?a.p(i,_):(a.d(1),a=f(i),a&&(a.c(),a.m(e,t)))},d(u){u&&p(e),a.d(),n=!1,pe(o)}}}function rl(i){let e,l,t,n,o,s,f,a,c,r,u,_,h,k,V,b,S,g,$,O;function L(d){i[9](d)}let Z={placeholder:"Search..."};i[0]!==void 0&&(Z.value=i[0]),a=new ke({props:Z}),ee.push(()=>ie(a,"value",L));let v=i[1].length>0&&st(i),y=i[2].length>0&&rt(i),m=i[3].length>0&&ft(i);return{c(){e=C("div"),l=C("div"),t=N(),n=C("h2"),o=j("Add a Component"),s=N(),f=C("div"),G(a.$$.fragment),r=N(),v&&v.c(),u=N(),y&&y.c(),_=N(),m&&m.c(),h=N(),k=C("hr"),V=N(),b=C("div"),S=j("Cancel"),this.h()},l(d){e=D(d,"DIV",{class:!0});var I=q(e);l=D(I,"DIV",{}),q(l).forEach(p),t=T(I),n=D(I,"H2",{});var z=q(n);o=W(z,"Add a Component"),z.forEach(p),s=T(I),f=D(I,"DIV",{class:!0});var B=q(f);X(a.$$.fragment,B),B.forEach(p),I.forEach(p),r=T(d),v&&v.l(d),u=T(d),y&&y.l(d),_=T(d),m&&m.l(d),h=T(d),k=D(d,"HR",{}),V=T(d),b=D(d,"DIV",{class:!0});var Y=q(b);S=W(Y,"Cancel"),Y.forEach(p),this.h()},h(){M(f,"class","search-bar"),M(e,"class","modal-header-wrapper"),M(b,"class","cancel")},m(d,I){w(d,e,I),E(e,l),E(e,t),E(e,n),E(n,o),E(e,s),E(e,f),Q(a,f,null),w(d,r,I),v&&v.m(d,I),w(d,u,I),y&&y.m(d,I),w(d,_,I),m&&m.m(d,I),w(d,h,I),w(d,k,I),w(d,V,I),w(d,b,I),E(b,S),g=!0,$||(O=[F(b,"click",i[16]),F(b,"keypress",i[17])],$=!0)},p(d,I){const z={};!c&&I[0]&1&&(c=!0,z.value=d[0],oe(()=>c=!1)),a.$set(z),d[1].length>0?v?v.p(d,I):(v=st(d),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null),d[2].length>0?y?y.p(d,I):(y=rt(d),y.c(),y.m(_.parentNode,_)):y&&(y.d(1),y=null),d[3].length>0?m?m.p(d,I):(m=ft(d),m.c(),m.m(h.parentNode,h)):m&&(m.d(1),m=null)},i(d){g||(P(a.$$.fragment,d),g=!0)},o(d){H(a.$$.fragment,d),g=!1},d(d){d&&p(e),U(a),d&&p(r),v&&v.d(d),d&&p(u),y&&y.d(d),d&&p(_),m&&m.d(d),d&&p(h),d&&p(k),d&&p(V),d&&p(b),$=!1,pe(O)}}}function al(i){let e,l;return e=new Ke({props:{width:"70%",open:!0,$$slots:{default:[rl]},$$scope:{ctx:i}}}),e.$on("close",He),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p(t,n){const o={};n[0]&15|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function fl(i,e,l){let{data:t}=e,n="",o={},s={},f={},a,c,r,u,_,h;const k=Dt();Fe(()=>{u=Se.targets.subscribe(m=>l(6,o=m)),_=Se.conditions.subscribe(m=>l(7,s=m)),h=Se.mechanics.subscribe(m=>l(8,f=m))}),Ge(()=>{u&&u(),_&&_(),h&&h()});const V=m=>{t.addComponent(m.new().defaultOpen()),l(0,n=""),k("save"),He()};function b(m){n=m,l(0,n)}const S=m=>V(m.component),g=(m,d)=>{d.key==="Enter"&&V(m.component)},$=m=>V(m.component),O=(m,d)=>{d.key==="Enter"&&V(m.component)},L=m=>V(m.component),Z=(m,d)=>{d.key==="Enter"&&V(m.component)},v=()=>He,y=m=>{m.key==="Enter"&&He()};return i.$$set=m=>{"data"in m&&l(5,t=m.data)},i.$$.update=()=>{i.$$.dirty[0]&449&&(l(1,a=Object.keys(o).filter(m=>o[m].name.toLowerCase().includes(n.toLowerCase())).sort((m,d)=>(o[m].component.new().isDeprecated?0:-1)-(o[d].component.new().isDeprecated?0:-1)).map(m=>o[m])),l(2,c=Object.keys(s).filter(m=>s[m].name.toLowerCase().includes(n.toLowerCase())).sort((m,d)=>(s[m].component.new().isDeprecated?0:-1)-(s[d].component.new().isDeprecated?0:-1)).map(m=>s[m])),l(3,r=Object.keys(f).filter(m=>f[m].name.toLowerCase().includes(n.toLowerCase())).sort((m,d)=>(f[m].component.new().isDeprecated?0:-1)-(f[d].component.new().isDeprecated?0:-1)).map(m=>f[m])))},[n,a,c,r,V,t,o,s,f,b,S,g,$,O,L,Z,v,y]}class cl extends be{constructor(e){super(),$e(this,e,fl,al,we,{data:5},null,[-1,-1])}}function ut(i,e,l){const t=i.slice();return t[6]=e[l],t[7]=e,t[8]=l,t}function _t(i){let e,l=i[0].description+"",t;return{c(){e=C("div"),t=j(l),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=q(e);t=W(o,l),o.forEach(p),this.h()},h(){M(e,"class","modal-desc svelte-yfnt3o")},m(n,o){w(n,e,o),E(e,t)},p(n,o){o&1&&l!==(l=n[0].description+"")&&x(t,l)},d(n){n&&p(e)}}}function dt(i){let e,l,t,n;function o(a){i[2](a,i[6])}var s=i[6].component;function f(a){let c={name:a[6].name,tooltip:(a[6].key?"["+a[6].key+"] ":"")+a[6].tooltip,multiple:a[6].multiple};return a[6].data!==void 0&&(c.data=a[6].data),{props:c}}return s&&(e=Re(s,f(i)),ee.push(()=>ie(e,"data",o)),e.$on("save",i[3])),{c(){e&&G(e.$$.fragment),t=ae()},l(a){e&&X(e.$$.fragment,a),t=ae()},m(a,c){e&&Q(e,a,c),w(a,t,c),n=!0},p(a,c){i=a;const r={};if(c&1&&(r.name=i[6].name),c&1&&(r.tooltip=(i[6].key?"["+i[6].key+"] ":"")+i[6].tooltip),c&1&&(r.multiple=i[6].multiple),!l&&c&1&&(l=!0,r.data=i[6].data,oe(()=>l=!1)),c&1&&s!==(s=i[6].component)){if(e){te();const u=e;H(u.$$.fragment,1,0,()=>{U(u,1)}),le()}s?(e=Re(s,f(i)),ee.push(()=>ie(e,"data",o)),e.$on("save",i[3]),G(e.$$.fragment),P(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else s&&e.$set(r)},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&H(e.$$.fragment,a),n=!1},d(a){a&&p(t),e&&U(e,a)}}}function pt(i){let e=i[6].meetsRequirements(i[0]),l,t,n=e&&dt(i);return{c(){n&&n.c(),l=ae()},l(o){n&&n.l(o),l=ae()},m(o,s){n&&n.m(o,s),w(o,l,s),t=!0},p(o,s){s&1&&(e=o[6].meetsRequirements(o[0])),e?n?(n.p(o,s),s&1&&P(n,1)):(n=dt(o),n.c(),P(n,1),n.m(l.parentNode,l)):n&&(te(),H(n,1,1,()=>{n=null}),le())},i(o){t||(P(n),t=!0)},o(o){H(n),t=!1},d(o){n&&n.d(o),o&&p(l)}}}function ul(i){let e,l,t=i[0].name+"",n,o,s,f,a,c,r,u,_=i[0].description&&_t(i),h=i[0].preview,k=[];for(let b=0;b<h.length;b+=1)k[b]=pt(ut(i,h,b));const V=b=>H(k[b],1,1,()=>{k[b]=null});return{c(){e=C("h2"),l=C("span"),n=j(t),o=j(" - Preview"),s=N(),_&&_.c(),f=N(),a=C("hr"),c=N(),r=C("div");for(let b=0;b<k.length;b+=1)k[b].c();this.h()},l(b){e=D(b,"H2",{class:!0});var S=q(e);l=D(S,"SPAN",{class:!0});var g=q(l);n=W(g,t),o=W(g," - Preview"),g.forEach(p),S.forEach(p),s=T(b),_&&_.l(b),f=T(b),a=D(b,"HR",{}),c=T(b),r=D(b,"DIV",{class:!0});var $=q(r);for(let O=0;O<k.length;O+=1)k[O].l($);$.forEach(p),this.h()},h(){M(l,"class","svelte-yfnt3o"),M(e,"class","svelte-yfnt3o"),ne(e,"deprecated",i[0].isDeprecated),M(r,"class","component-entry svelte-yfnt3o")},m(b,S){w(b,e,S),E(e,l),E(l,n),E(l,o),w(b,s,S),_&&_.m(b,S),w(b,f,S),w(b,a,S),w(b,c,S),w(b,r,S);for(let g=0;g<k.length;g+=1)k[g]&&k[g].m(r,null);u=!0},p(b,S){if((!u||S&1)&&t!==(t=b[0].name+"")&&x(n,t),(!u||S&1)&&ne(e,"deprecated",b[0].isDeprecated),b[0].description?_?_.p(b,S):(_=_t(b),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null),S&1){h=b[0].preview;let g;for(g=0;g<h.length;g+=1){const $=ut(b,h,g);k[g]?(k[g].p($,S),P(k[g],1)):(k[g]=pt($),k[g].c(),P(k[g],1),k[g].m(r,null))}for(te(),g=h.length;g<k.length;g+=1)V(g);le()}},i(b){if(!u){for(let S=0;S<h.length;S+=1)P(k[S]);u=!0}},o(b){k=k.filter(Boolean);for(let S=0;S<k.length;S+=1)H(k[S]);u=!1},d(b){b&&p(e),b&&p(s),_&&_.d(b),b&&p(f),b&&p(a),b&&p(c),b&&p(r),Ee(k,b)}}}function _l(i){let e,l,t;function n(s){i[4](s)}let o={width:"70%",$$slots:{default:[ul]},$$scope:{ctx:i}};return i[1]!==void 0&&(o.open=i[1]),e=new Ke({props:o}),ee.push(()=>ie(e,"open",n)),e.$on("close",i[5]),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,[f]){const a={};f&513&&(a.$$scope={dirty:f,ctx:s}),!l&&f&2&&(l=!0,a.open=s[1],oe(()=>l=!1)),e.$set(a)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function dl(i,e,l){let{data:t=void 0}=e,n=!0;function o(c,r){i.$$.not_equal(r.data,c)&&(r.data=c,l(0,t))}function s(c){de.call(this,i,c)}function f(c){n=c,l(1,n)}function a(c){de.call(this,i,c)}return i.$$set=c=>{"data"in c&&l(0,t=c.data)},i.$$.update=()=>{i.$$.dirty&3&&n&&t&&t.preview.filter(c=>c.dataSource).forEach(c=>c.init())},[t,n,o,s,f,a]}class pl extends be{constructor(e){super(),$e(this,e,dl,_l,we,{data:0})}}function mt(i,e,l){const t=i.slice();return t[39]=e[l],t[40]=e,t[41]=l,t}function ml(i){let e,l,t;return{c(){e=C("span"),l=j("expand_less"),this.h()},l(n){e=D(n,"SPAN",{class:!0});var o=q(e);l=W(o,"expand_less"),o.forEach(p),this.h()},h(){M(e,"class","material-symbols-rounded svelte-1yqmc80")},m(n,o){w(n,e,o),E(e,l)},i(n){n&&(t||ye(()=>{t=It(e,i[18],{duration:400}),t.start()}))},o:Le,d(n){n&&p(e)}}}function hl(i){let e,l,t;return{c(){e=C("span"),l=j("expand_more"),this.h()},l(n){e=D(n,"SPAN",{class:!0});var o=q(e);l=W(o,"expand_more"),o.forEach(p),this.h()},h(){M(e,"class","material-symbols-rounded svelte-1yqmc80")},m(n,o){w(n,e,o),E(e,l)},i(n){n&&(t||ye(()=>{t=It(e,i[18],{duration:400}),t.start()}))},o:Le,d(n){n&&p(e)}}}function gl(i){let e=i[1].name+"",l;return{c(){l=j(e)},l(t){l=W(t,e)},m(t,n){w(t,l,n)},p(t,n){n[0]&2&&e!==(e=t[1].name+"")&&x(l,e)},d(t){t&&p(l)}}}function vl(i){let e,l=i[1].name+"",t;return{c(){e=C("s"),t=j(l)},l(n){e=D(n,"S",{});var o=q(e);t=W(o,l),o.forEach(p)},m(n,o){w(n,e,o),E(e,t)},p(n,o){o[0]&2&&l!==(l=n[1].name+"")&&x(t,l)},d(n){n&&p(e)}}}function ht(i){let e,l,t,n,o,s,f,a,c,r,u,_,h=i[1].isParent&&gt(i),k=i[1].preview&&i[1].preview.length>0&&vt(i);n=new Oe({props:{title:"Copy",icon:"content_copy",color:"white"}}),n.$on("click",i[25]),s=new Oe({props:{title:"Delete",icon:"delete",color:"red"}}),s.$on("click",i[26]);const V=[bl,kl],b=[];function S(g,$){return g[4].length===0?0:1}return c=S(i),r=b[c]=V[c](i),{c(){e=C("div"),h&&h.c(),l=N(),k&&k.c(),t=N(),G(n.$$.fragment),o=N(),G(s.$$.fragment),f=N(),a=C("div"),r.c(),this.h()},l(g){e=D(g,"DIV",{class:!0});var $=q(e);h&&h.l($),l=T($),k&&k.l($),t=T($),X(n.$$.fragment,$),o=T($),X(s.$$.fragment,$),$.forEach(p),f=T(g),a=D(g,"DIV",{class:!0});var O=q(a);r.l(O),O.forEach(p),this.h()},h(){M(e,"class","controls svelte-1yqmc80"),M(a,"class","children svelte-1yqmc80")},m(g,$){w(g,e,$),h&&h.m(e,null),E(e,l),k&&k.m(e,null),E(e,t),Q(n,e,null),E(e,o),Q(s,e,null),w(g,f,$),w(g,a,$),b[c].m(a,null),_=!0},p(g,$){g[1].isParent?h?(h.p(g,$),$[0]&2&&P(h,1)):(h=gt(g),h.c(),P(h,1),h.m(e,l)):h&&(te(),H(h,1,1,()=>{h=null}),le()),g[1].preview&&g[1].preview.length>0?k?(k.p(g,$),$[0]&2&&P(k,1)):(k=vt(g),k.c(),P(k,1),k.m(e,t)):k&&(te(),H(k,1,1,()=>{k=null}),le());let O=c;c=S(g),c===O?b[c].p(g,$):(te(),H(b[O],1,1,()=>{b[O]=null}),le(),r=b[c],r?r.p(g,$):(r=b[c]=V[c](g),r.c()),P(r,1),r.m(a,null))},i(g){_||(P(h),P(k),P(n.$$.fragment,g),P(s.$$.fragment,g),P(r),g&&ye(()=>{_&&(u||(u=_e(a,fe,{},!0)),u.run(1))}),_=!0)},o(g){H(h),H(k),H(n.$$.fragment,g),H(s.$$.fragment,g),H(r),g&&(u||(u=_e(a,fe,{},!1)),u.run(0)),_=!1},d(g){g&&p(e),h&&h.d(),k&&k.d(),U(n),U(s),g&&p(f),g&&p(a),b[c].d(),g&&u&&u.end()}}}function gt(i){let e,l;return e=new Oe({props:{title:"Add Component",icon:"add",color:i[17]()}}),e.$on("click",i[14]),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p:Le,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function vt(i){let e,l;return e=new Oe({props:{title:"Preview Settings",icon:"visibility",color:"gray"}}),e.$on("click",i[15]),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p:Le,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function kl(i){let e,l=[],t=new Map,n,o=i[4];const s=f=>f[39].id;for(let f=0;f<o.length;f+=1){let a=mt(i,o,f),c=s(a);t.set(c,l[f]=kt(c,a))}return{c(){e=C("div");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=D(f,"DIV",{class:!0});var a=q(e);for(let c=0;c<l.length;c+=1)l[c].l(a);a.forEach(p),this.h()},h(){M(e,"class","child-wrapper")},m(f,a){w(f,e,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);i[32](e),n=!0},p(f,a){a[0]&4194321&&(o=f[4],te(),l=St(l,a,s,1,f,o,t,e,Vt,kt,null,mt),le())},i(f){if(!n){for(let a=0;a<o.length;a+=1)P(l[a]);n=!0}},o(f){for(let a=0;a<l.length;a+=1)H(l[a]);n=!1},d(f){f&&p(e);for(let a=0;a<l.length;a+=1)l[a].d();i[32](null)}}}function bl(i){let e,l,t=i[1].isParent&&(i[6]||i[7])&&bt(i);return{c(){t&&t.c(),e=ae()},l(n){t&&t.l(n),e=ae()},m(n,o){t&&t.m(n,o),w(n,e,o),l=!0},p(n,o){n[1].isParent&&(n[6]||n[7])?t?(t.p(n,o),o[0]&194&&P(t,1)):(t=bt(n),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(te(),H(t,1,1,()=>{t=null}),le())},i(n){l||(P(t),l=!0)},o(n){H(t),l=!1},d(n){t&&t.d(n),n&&p(e)}}}function kt(i,e){let l,t,n,o,s,f;function a(r){e[29](r,e[39],e[40],e[41])}let c={skill:e[0]};return e[39]!==void 0&&(c.component=e[39]),t=new Pt({props:c}),ee.push(()=>ie(t,"component",a)),t.$on("update",e[30]),t.$on("save",e[31]),t.$on("addskill",e[22]),{key:i,first:null,c(){l=C("span"),G(t.$$.fragment),o=N(),this.h()},l(r){l=D(r,"SPAN",{});var u=q(l);X(t.$$.fragment,u),o=T(u),u.forEach(p),this.h()},h(){this.first=l},m(r,u){w(r,l,u),Q(t,l,null),E(l,o),f=!0},p(r,u){e=r;const _={};u[0]&1&&(_.skill=e[0]),!n&&u[0]&16&&(n=!0,_.component=e[39],oe(()=>n=!1)),t.$set(_)},i(r){f||(P(t.$$.fragment,r),r&&ye(()=>{f&&(s||(s=_e(l,fe,{},!0)),s.run(1))}),f=!0)},o(r){H(t.$$.fragment,r),r&&(s||(s=_e(l,fe,{},!1)),s.run(0)),f=!1},d(r){r&&p(l),U(t),r&&s&&s.end()}}}function bt(i){let e,l,t,n,o;return{c(){e=C("div"),this.h()},l(s){e=D(s,"DIV",{class:!0}),q(e).forEach(p),this.h()},h(){M(e,"class","filler svelte-1yqmc80"),ne(e,"overChildren",i[7])},m(s,f){w(s,e,f),t=!0,n||(o=[F(e,"dragenter",se(i[27])),F(e,"dragover",se(Ye(wl))),F(e,"dragleave",i[20]),F(e,"drop",se(Ye(i[28])))],n=!0)},p(s,f){(!t||f[0]&128)&&ne(e,"overChildren",s[7])},i(s){t||(ye(()=>{t&&(l||(l=_e(e,fe,{},!0)),l.run(1))}),t=!0)},o(s){l||(l=_e(e,fe,{},!1)),l.run(0),t=!1},d(s){s&&p(e),s&&l&&l.end(),n=!1,pe(o)}}}function $l(i){let e,l,t,n,o,s,f,a=i[16](i[11])+"",c,r=i[11]?" ":": ",u,_,h,k,V,b,S;function g(m,d){return m[5]?hl:ml}let $=g(i),O=$(i);function L(m,d){return m[1].isDeprecated?vl:gl}let Z=L(i),v=Z(i),y=!i[5]&&ht(i);return{c(){e=C("div"),l=C("div"),O.c(),t=N(),n=C("div"),o=N(),s=C("div"),f=C("span"),c=j(a),u=j(r),_=N(),v.c(),h=N(),y&&y.c(),this.h()},l(m){e=D(m,"DIV",{class:!0});var d=q(e);l=D(d,"DIV",{draggable:!0,class:!0});var I=q(l);O.l(I),t=T(I),n=D(I,"DIV",{class:!0}),q(n).forEach(p),o=T(I),s=D(I,"DIV",{class:!0});var z=q(s);f=D(z,"SPAN",{class:!0});var B=q(f);c=W(B,a),B.forEach(p),u=W(z,r),_=T(z),v.l(z),z.forEach(p),h=T(I),y&&y.l(I),I.forEach(p),d.forEach(p),this.h()},h(){M(n,"class","corner svelte-1yqmc80"),M(f,"class","svelte-1yqmc80"),M(s,"class","name svelte-1yqmc80"),M(l,"draggable","true"),M(l,"class","comp-body svelte-1yqmc80"),ne(l,"over",i[6]),ne(l,"top",i[8]),ne(l,"bottom",i[9]),ne(l,"dragging",i[10]===i[1]),Be(l,"--comp-color",i[17]()),M(e,"class","wrapper svelte-1yqmc80")},m(m,d){w(m,e,d),E(e,l),O.m(l,null),E(l,t),E(l,n),E(l,o),E(l,s),E(s,f),E(f,c),E(s,u),E(s,_),v.m(s,null),E(l,h),y&&y.m(l,null),i[33](l),V=!0,b||(S=[F(n,"click",se(i[23])),F(n,"keypress",se(i[24])),F(l,"dragstart",se(i[34])),F(l,"dragend",i[35]),F(l,"drop",se(i[21])),F(l,"click",se(i[13])),F(l,"keypress",se(i[36])),F(l,"dragover",se(Ye(i[19]))),F(l,"dragleave",se(i[20]))],b=!0)},p(m,d){$!==($=g(m))&&(O.d(1),O=$(m),O&&(O.c(),P(O,1),O.m(l,t))),(!V||d[0]&2048)&&a!==(a=m[16](m[11])+"")&&x(c,a),(!V||d[0]&2048)&&r!==(r=m[11]?" ":": ")&&x(u,r),Z===(Z=L(m))&&v?v.p(m,d):(v.d(1),v=Z(m),v&&(v.c(),v.m(s,null))),m[5]?y&&(te(),H(y,1,1,()=>{y=null}),le()):y?(y.p(m,d),d[0]&32&&P(y,1)):(y=ht(m),y.c(),P(y,1),y.m(l,null)),(!V||d[0]&64)&&ne(l,"over",m[6]),(!V||d[0]&256)&&ne(l,"top",m[8]),(!V||d[0]&512)&&ne(l,"bottom",m[9]),(!V||d[0]&1026)&&ne(l,"dragging",m[10]===m[1])},i(m){V||(P(O),P(y),k&&k.end(1),V=!0)},o(m){H(y),k=Ot(l,fe,{}),V=!1},d(m){m&&p(e),O.d(),v.d(),y&&y.d(),i[33](null),m&&k&&k.end(),b=!1,pe(S)}}}const wl=()=>{};function yl(i,e,l){let t,n;Ue(i,ge,R=>l(10,t=R)),Ue(i,Kt,R=>l(11,n=R));let{skill:o}=e,{component:s}=e,f,a,c=[];const r=Dt();let u=!1,_=!1,h=!1,k=!1,V=!1,b;const S=()=>We(el,s),g=()=>We(cl,s),$=()=>We(pl,s);Fe(()=>{b=s.components.subscribe(R=>l(4,c=R)),s._defaultOpen&&S()}),Ge(()=>{b&&b()});const O=(R=!1)=>{if(R){if(s instanceof Ie)return"ðŸš©";if(s instanceof Ae)return"âš ";if(s instanceof Te)return"ðŸŽ¯";if(s instanceof ve)return"ðŸ”§"}return s instanceof Ie?"Trigger":s instanceof Ae?"Condition":s instanceof Te?"Target":s instanceof ve?"Mechanic":"???"},L=()=>s instanceof Ie?"#0083ef":s instanceof Ae?"#feac00":s instanceof Te?"#04af38":s instanceof ve?"#ff3a3a":"orange",Z=(R,{duration:re})=>({duration:re,css:De=>`transform: rotate(${180-jt(De)*180}deg);`}),v=R=>{if(s==Ve(ge)||(l(6,_=!0),s instanceof Ie))return;const re=f.getBoundingClientRect();l(8,k=R.clientY<re.height/2+re.top),l(9,V=R.clientY>=re.height/2+re.top)},y=()=>{l(6,_=!1),l(8,k=!1),l(9,V=!1)},m=R=>{(!R.relatedTarget||!(f!=null&&f.contains(R.relatedTarget))||a!=null&&a.contains(R.relatedTarget))&&y()},d=()=>{let R=Ve(ge);r("addskill",{comp:R,relativeTo:s,above:k}),y()},I=R=>{let re=R.detail.comp,De=R.detail.relativeTo,Ne=R.detail.above,qt=c.indexOf(De);o.removeComponent(re),s.addComponent(re,qt+(Ne?0:1)),r("save")},z=()=>l(5,u=!u),B=R=>{R.key==="Enter"&&l(5,u=!u)},Y=()=>console.log("clicked copy"),me=()=>{o.removeComponent(s),r("update")},ce=()=>{l(7,h=!0),l(6,_=!1)},A=()=>{l(7,h=!1);let R=Ve(ge);o.removeComponent(R),s.addComponent(R)};function K(R,re,De,Ne){De[Ne]=R,l(4,c)}function J(R){de.call(this,i,R)}function ue(R){de.call(this,i,R)}function Pe(R){ee[R?"unshift":"push"](()=>{a=R,l(3,a)})}function qe(R){ee[R?"unshift":"push"](()=>{f=R,l(2,f)})}const Me=()=>ge.set(s),he=()=>ge.set(void 0),Ce=R=>{R.key};return i.$$set=R=>{"skill"in R&&l(0,o=R.skill),"component"in R&&l(1,s=R.component)},i.$$.update=()=>{i.$$.dirty[0]&2&&s&&r("save")},[o,s,f,a,c,u,_,h,k,V,t,n,r,S,g,$,O,L,Z,v,m,d,I,z,B,Y,me,ce,A,K,J,ue,Pe,qe,Me,he,Ce]}class Pt extends be{constructor(e){super(),$e(this,e,yl,$l,we,{skill:0,component:1},null,[-1,-1])}}function $t(i,e,l){const t=i.slice();return t[17]=e[l],t}function wt(i,e,l){const t=i.slice();return t[20]=e[l],t}function yt(i,e){let l,t,n;return t=new Pt({props:{skill:e[1],component:e[20]}}),t.$on("update",e[5]),t.$on("save",e[6]),{key:i,first:null,c(){l=C("div"),G(t.$$.fragment),this.h()},l(o){l=D(o,"DIV",{class:!0});var s=q(l);X(t.$$.fragment,s),s.forEach(p),this.h()},h(){M(l,"class","widget svelte-187gm9u"),this.first=l},m(o,s){w(o,l,s),Q(t,l,null),n=!0},p(o,s){e=o;const f={};s&2&&(f.skill=e[1]),s&2&&(f.component=e[20]),t.$set(f)},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){H(t.$$.fragment,o),n=!1},d(o){o&&p(l),U(t)}}}function Et(i){let e,l;return{c(){e=C("div"),l=j("No triggers added yet.")},l(t){e=D(t,"DIV",{});var n=q(e);l=W(n,"No triggers added yet."),n.forEach(p)},m(t,n){w(t,e,n),E(e,l)},d(t){t&&p(e)}}}function El(i){let e=i[17].name+"",l;return{c(){l=j(e)},l(t){l=W(t,e)},m(t,n){w(t,l,n)},p(t,n){n&8&&e!==(e=t[17].name+"")&&x(l,e)},d(t){t&&p(l)}}}function Cl(i){let e,l=i[17].name+"",t;return{c(){e=C("s"),t=j(l)},l(n){e=D(n,"S",{});var o=q(e);t=W(o,l),o.forEach(p)},m(n,o){w(n,e,o),E(e,t)},p(n,o){o&8&&l!==(l=n[17].name+"")&&x(t,l)},d(n){n&&p(e)}}}function Ct(i){let e,l,t,n;function o(c,r){return c[17].isDeprecated?Cl:El}let s=o(i),f=s(i);function a(){return i[11](i[17])}return{c(){e=C("div"),f.c(),l=N(),this.h()},l(c){e=D(c,"DIV",{class:!0});var r=q(e);f.l(r),l=T(r),r.forEach(p),this.h()},h(){M(e,"class","comp-select")},m(c,r){w(c,e,r),f.m(e,null),E(e,l),t||(n=F(e,"click",a),t=!0)},p(c,r){i=c,s===(s=o(i))&&f?f.p(i,r):(f.d(1),f=s(i),f&&(f.c(),f.m(e,l)))},d(c){c&&p(e),f.d(),t=!1,n()}}}function Dl(i){let e,l,t,n,o,s,f,a,c,r,u,_,h,k,V,b,S,g,$,O,L;function Z(d){i[10](d)}let v={placeholder:"Search..."};i[0]!==void 0&&(v.value=i[0]),a=new ke({props:v}),ee.push(()=>ie(a,"value",Z));let y=i[3],m=[];for(let d=0;d<y.length;d+=1)m[d]=Ct($t(i,y,d));return{c(){e=C("div"),l=C("div"),t=N(),n=C("h2"),o=j("Select New Trigger"),s=N(),f=C("div"),G(a.$$.fragment),r=N(),u=C("hr"),_=N(),h=C("div");for(let d=0;d<m.length;d+=1)m[d].c();k=N(),V=C("hr"),b=N(),S=C("div"),g=j("Cancel"),this.h()},l(d){e=D(d,"DIV",{class:!0});var I=q(e);l=D(I,"DIV",{}),q(l).forEach(p),t=T(I),n=D(I,"H2",{class:!0});var z=q(n);o=W(z,"Select New Trigger"),z.forEach(p),s=T(I),f=D(I,"DIV",{class:!0});var B=q(f);X(a.$$.fragment,B),B.forEach(p),I.forEach(p),r=T(d),u=D(d,"HR",{}),_=T(d),h=D(d,"DIV",{class:!0});var Y=q(h);for(let ce=0;ce<m.length;ce+=1)m[ce].l(Y);Y.forEach(p),k=T(d),V=D(d,"HR",{}),b=T(d),S=D(d,"DIV",{class:!0});var me=q(S);g=W(me,"Cancel"),me.forEach(p),this.h()},h(){M(n,"class","modal-header svelte-187gm9u"),M(f,"class","search-bar"),M(e,"class","modal-header-wrapper"),M(h,"class","triggers"),M(S,"class","cancel")},m(d,I){w(d,e,I),E(e,l),E(e,t),E(e,n),E(n,o),E(e,s),E(e,f),Q(a,f,null),w(d,r,I),w(d,u,I),w(d,_,I),w(d,h,I);for(let z=0;z<m.length;z+=1)m[z]&&m[z].m(h,null);w(d,k,I),w(d,V,I),w(d,b,I),w(d,S,I),E(S,g),$=!0,O||(L=F(S,"click",i[12]),O=!0)},p(d,I){const z={};if(!c&&I&1&&(c=!0,z.value=d[0],oe(()=>c=!1)),a.$set(z),I&24){y=d[3];let B;for(B=0;B<y.length;B+=1){const Y=$t(d,y,B);m[B]?m[B].p(Y,I):(m[B]=Ct(Y),m[B].c(),m[B].m(h,null))}for(;B<m.length;B+=1)m[B].d(1);m.length=y.length}},i(d){$||(P(a.$$.fragment,d),$=!0)},o(d){H(a.$$.fragment,d),$=!1},d(d){d&&p(e),U(a),d&&p(r),d&&p(u),d&&p(_),d&&p(h),Ee(m,d),d&&p(k),d&&p(V),d&&p(b),d&&p(S),O=!1,L()}}}function Il(i){let e,l,t,n,o=i[1].name+"",s,f,a,c,r,u,_,h,k,V,b,S,g,$=[],O=new Map,L,Z,v,y,m,d,I;document.title=e="ProSkillAPI Dynamic Editor - "+i[1].name;let z=i[1].triggers;const B=A=>A[20].id;for(let A=0;A<z.length;A+=1){let K=wt(i,z,A),J=B(K);O.set(J,$[A]=yt(J,K))}let Y=i[1].triggers.length==0&&Et();function me(A){i[13](A)}let ce={$$slots:{default:[Dl]},$$scope:{ctx:i}};return i[2]!==void 0&&(ce.open=i[2]),v=new Ke({props:ce}),ee.push(()=>ie(v,"open",me)),{c(){l=N(),t=C("div"),n=C("h2"),s=j(o),f=N(),a=C("a"),c=j("edit"),u=N(),_=C("div"),h=C("span"),k=j("new_label"),V=N(),b=C("hr"),S=N(),g=C("div");for(let A=0;A<$.length;A+=1)$[A].c();L=N(),Y&&Y.c(),Z=N(),G(v.$$.fragment),this.h()},l(A){Lt("svelte-r5m1v8",document.head).forEach(p),l=T(A),t=D(A,"DIV",{class:!0});var J=q(t);n=D(J,"H2",{class:!0});var ue=q(n);s=W(ue,o),f=T(ue),a=D(ue,"A",{class:!0,title:!0,href:!0});var Pe=q(a);c=W(Pe,"edit"),Pe.forEach(p),u=T(ue),_=D(ue,"DIV",{class:!0,title:!0});var qe=q(_);h=D(qe,"SPAN",{class:!0});var Me=q(h);k=W(Me,"new_label"),Me.forEach(p),qe.forEach(p),ue.forEach(p),V=T(J),b=D(J,"HR",{}),J.forEach(p),S=T(A),g=D(A,"DIV",{class:!0});var he=q(g);for(let Ce=0;Ce<$.length;Ce+=1)$[Ce].l(he);L=T(he),Y&&Y.l(he),he.forEach(p),Z=T(A),X(v.$$.fragment,A),this.h()},h(){M(a,"class","material-symbols-rounded edit-skill chip svelte-187gm9u"),M(a,"title","Edit"),M(a,"href",r="/skill/"+i[1].name+"/edit"),M(h,"class","material-symbols-rounded"),M(_,"class","add-trigger chip svelte-187gm9u"),M(_,"title","Add Trigger"),M(n,"class","svelte-187gm9u"),M(t,"class","header svelte-187gm9u"),M(g,"class","container svelte-187gm9u")},m(A,K){w(A,l,K),w(A,t,K),E(t,n),E(n,s),E(n,f),E(n,a),E(a,c),E(n,u),E(n,_),E(_,h),E(h,k),E(t,V),E(t,b),w(A,S,K),w(A,g,K);for(let J=0;J<$.length;J+=1)$[J]&&$[J].m(g,null);E(g,L),Y&&Y.m(g,null),w(A,Z,K),Q(v,A,K),m=!0,d||(I=F(_,"click",i[9]),d=!0)},p(A,[K]){(!m||K&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+A[1].name)&&(document.title=e),(!m||K&2)&&o!==(o=A[1].name+"")&&x(s,o),(!m||K&2&&r!==(r="/skill/"+A[1].name+"/edit"))&&M(a,"href",r),K&98&&(z=A[1].triggers,te(),$=St($,K,B,1,A,z,O,g,Vt,yt,L,wt),le()),A[1].triggers.length==0?Y||(Y=Et(),Y.c(),Y.m(g,null)):Y&&(Y.d(1),Y=null);const J={};K&8388621&&(J.$$scope={dirty:K,ctx:A}),!y&&K&4&&(y=!0,J.open=A[2],oe(()=>y=!1)),v.$set(J)},i(A){if(!m){for(let K=0;K<z.length;K+=1)P($[K]);P(v.$$.fragment,A),m=!0}},o(A){for(let K=0;K<$.length;K+=1)H($[K]);H(v.$$.fragment,A),m=!1},d(A){A&&p(l),A&&p(t),A&&p(S),A&&p(g);for(let K=0;K<$.length;K+=1)$[K].d();Y&&Y.d(),A&&p(Z),U(v,A),d=!1,I()}}}function Sl(i,e,l){let{data:t}=e,n,o=!1,s="",f=[],a,c={};Fe(()=>{a=Se.triggers.subscribe($=>l(8,c=$));let g;g=Se.initialized.subscribe($=>{$&&(g&&g(),u())})}),Ge(()=>{a&&a()});const r=g=>{n.triggers.push(g.detail),u(),setTimeout(()=>l(2,o=!1))},u=()=>{l(1,n.triggers=[...n.triggers],n),_()},_=()=>ze.set([...Ve(ze)]),h=()=>l(2,o=!0);function k(g){s=g,l(0,s)}const V=g=>r({detail:g.clone()}),b=()=>l(2,o=!1);function S(g){o=g,l(2,o)}return i.$$set=g=>{"data"in g&&l(7,t=g.data)},i.$$.update=()=>{i.$$.dirty&128&&t&&l(1,n=t.data),i.$$.dirty&257&&l(3,f=Object.keys(c).filter(g=>g.toLowerCase().includes(s.toLowerCase())).sort((g,$)=>(c[g].component.new().isDeprecated?0:-1)-(c[$].component.new().isDeprecated?0:-1)).map(g=>c[g].component.new()))},[s,n,o,f,r,u,_,t,c,h,k,V,b,S]}class Al extends be{constructor(e){super(),$e(this,e,Sl,Il,we,{data:7})}}export{Al as component,Tl as universal};
