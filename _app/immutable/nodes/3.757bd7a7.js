import{c as qt,q as Nt,h as ze,k as Ie,R as Se,K as ve}from"../chunks/store.ac855bc9.js";import{I as Ve,S as be,i as $e,s as we,P as Tt,k as y,a as T,l as C,m as V,c as A,h as d,n as N,p as Be,b as k,C as w,E as F,R as ie,U as At,V as Ht,W as Rt,g as P,X as Ee,a2 as _e,d as R,F as pe,q as j,r as K,u as Z,_ as de,w as ee,M as ne,y as G,z as X,A as Q,N as se,B as U,v as te,f as le,a6 as ye,e as ae,x as Re,O as Dt,o as Fe,a5 as Ge,Q as re,T as Ye,Z as Lt,H as Ue,G as Oe,Y as It,a0 as St,a1 as Vt,a9 as Ot}from"../chunks/index.e9b9921d.js";import{r as Ke}from"../chunks/index.d7eb2526.js";import{M as je,b as ge,P as Te,a as Ae,d as He,u as jt,o as We}from"../chunks/modal-service.d9e32f44.js";import{s as fe,P as ke,T as Qe,b as Kt}from"../chunks/Toggle.ff516c6a.js";const Wt=!1;async function zt({params:i}){const e=i.id;let l,t;if(i.type=="class")throw Ke(302,`/${i.type}/${i.id}/edit`);if(i.type=="skill"){for(const n of Ve(ze))if(t||(t=n),n.name==e){l=n;break}}if(l)return qt.set(l),Nt.set(i.type=="class"),{data:l};throw t?Ke(302,`/${i.type}/${t.name}`):Ke(302,"/")}const Ll=Object.freeze(Object.defineProperty({__proto__:null,load:zt,ssr:Wt},Symbol.toStringTag,{value:"Module"}));function Xe(i){let e,l;return{c(){e=y("span"),l=j(i[1]),this.h()},l(t){e=C(t,"SPAN",{class:!0});var n=V(e);l=K(n,i[1]),n.forEach(d),this.h()},h(){N(e,"class","material-symbols-rounded")},m(t,n){k(t,e,n),w(e,l)},p(t,n){n&2&&Z(l,t[1])},d(t){t&&d(e)}}}function Bt(i){let e,l,t,n,o,s,f=i[1]&&Xe(i);const r=i[5].default,c=Tt(r,i,i[4],null);return{c(){e=y("div"),f&&f.c(),l=T(),c&&c.c(),this.h()},l(a){e=C(a,"DIV",{class:!0,title:!0});var _=V(e);f&&f.l(_),l=A(_),c&&c.l(_),_.forEach(d),this.h()},h(){N(e,"class","control svelte-1n1iox0"),N(e,"title",i[0]),Be(e,"--color",i[2])},m(a,_){k(a,e,_),f&&f.m(e,null),w(e,l),c&&c.m(e,null),n=!0,o||(s=[F(e,"click",ie(i[6])),F(e,"keypress",ie(i[3]))],o=!0)},p(a,[_]){a[1]?f?f.p(a,_):(f=Xe(a),f.c(),f.m(e,l)):f&&(f.d(1),f=null),c&&c.p&&(!n||_&16)&&At(c,r,a,a[4],n?Rt(r,a[4],_,null):Ht(a[4]),null),(!n||_&1)&&N(e,"title",a[0]),_&4&&Be(e,"--color",a[2])},i(a){n||(P(c,a),Ee(()=>{n&&(t||(t=_e(e,fe,{},!0)),t.run(1))}),n=!0)},o(a){R(c,a),t||(t=_e(e,fe,{},!1)),t.run(0),n=!1},d(a){a&&d(e),f&&f.d(),c&&c.d(a),a&&t&&t.end(),o=!1,pe(s)}}}function Yt(i,e,l){let{$$slots:t={},$$scope:n}=e,{title:o=""}=e,{icon:s=""}=e,{color:f="red"}=e;const r=a=>a.key==="Enter"&&a.target.click();function c(a){de.call(this,i,a)}return i.$$set=a=>{"title"in a&&l(0,o=a.title),"icon"in a&&l(1,s=a.icon),"color"in a&&l(2,f=a.color),"$$scope"in a&&l(4,n=a.$$scope)},[o,s,f,r,n,t,c]}class Le extends be{constructor(e){super(),$e(this,e,Yt,Bt,we,{title:0,icon:1,color:2})}}function Ze(i,e,l){const t=i.slice();return t[10]=e[l],t[11]=e,t[12]=l,t}function Ft(i){let e,l=i[0].name+"",t;return{c(){e=y("h2"),t=j(l)},l(n){e=C(n,"H2",{});var o=V(e);t=K(o,l),o.forEach(d)},m(n,o){k(n,e,o),w(e,t)},p(n,o){o&1&&l!==(l=n[0].name+"")&&Z(t,l)},d(n){n&&d(e)}}}function Gt(i){let e,l,t=i[0].name+"",n,o,s,f;return{c(){e=y("h2"),l=y("s"),n=j(t),o=T(),s=y("small"),f=j("deprecated")},l(r){e=C(r,"H2",{});var c=V(e);l=C(c,"S",{});var a=V(l);n=K(a,t),a.forEach(d),o=A(c),s=C(c,"SMALL",{});var _=V(s);f=K(_,"deprecated"),_.forEach(d),c.forEach(d)},m(r,c){k(r,e,c),w(e,l),w(l,n),w(e,o),w(e,s),w(s,f)},p(r,c){c&1&&t!==(t=r[0].name+"")&&Z(n,t)},d(r){r&&d(e)}}}function Je(i){let e,l=i[0].description+"",t;return{c(){e=y("div"),t=j(l),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=V(e);t=K(o,l),o.forEach(d),this.h()},h(){N(e,"class","modal-desc svelte-jw4vat")},m(n,o){k(n,e,o),w(e,t)},p(n,o){o&1&&l!==(l=n[0].description+"")&&Z(t,l)},d(n){n&&d(e)}}}function Qt(i){let e,l,t;function n(s){i[4](s)}let o={label:"Icon Key",tooltip:'[icon-key] The key used by the component in the Icon Lore. If this is set to "example" and has a value name of "value", it can be referenced using the string "{attr:example.value}"'};return i[0].iconKey!==void 0&&(o.value=i[0].iconKey),e=new ke({props:o}),ee.push(()=>ne(e,"value",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const r={};!l&&f&1&&(l=!0,r.value=s[0].iconKey,se(()=>l=!1)),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Ut(i){let e,l,t,n;return e=new ke({props:{label:"Mana",tooltip:"[mana] Whether this trigger requires the mana cost to activate",$$slots:{default:[Xt]},$$scope:{ctx:i}}}),t=new ke({props:{label:"Cooldown",tooltip:"[cooldown] Whether this trigger requires to be off cooldown to activate",$$slots:{default:[Zt]},$$scope:{ctx:i}}}),{c(){G(e.$$.fragment),l=T(),G(t.$$.fragment)},l(o){X(e.$$.fragment,o),l=A(o),X(t.$$.fragment,o)},m(o,s){Q(e,o,s),k(o,l,s),Q(t,o,s),n=!0},p(o,s){const f={};s&8193&&(f.$$scope={dirty:s,ctx:o}),e.$set(f);const r={};s&8193&&(r.$$scope={dirty:s,ctx:o}),t.$set(r)},i(o){n||(P(e.$$.fragment,o),P(t.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),R(t.$$.fragment,o),n=!1},d(o){U(e,o),o&&d(l),U(t,o)}}}function Xt(i){let e,l,t;function n(s){i[2](s)}let o={};return i[0].mana!==void 0&&(o.data=i[0].mana),e=new Qe({props:o}),ee.push(()=>ne(e,"data",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const r={};!l&&f&1&&(l=!0,r.data=s[0].mana,se(()=>l=!1)),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Zt(i){let e,l,t;function n(s){i[3](s)}let o={};return i[0].cooldown!==void 0&&(o.data=i[0].cooldown),e=new Qe({props:o}),ee.push(()=>ne(e,"data",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const r={};!l&&f&1&&(l=!0,r.data=s[0].cooldown,se(()=>l=!1)),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function xe(i){let e,l;return e=new ke({props:{label:"Counts as Cast",tooltip:'[counts] Whether this mechanic running treats the skill as "casted" and will consume mana and start the cooldown. Set to false if it is a mechanic applled when the skill fails such as cleanup or an error message"',$$slots:{default:[Jt]},$$scope:{ctx:i}}}),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p(t,n){const o={};n&8193&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Jt(i){let e,l,t;function n(s){i[5](s)}let o={};return i[0].countsAsCast!==void 0&&(o.data=i[0].countsAsCast),e=new Qe({props:o}),ee.push(()=>ne(e,"data",n)),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,f){const r={};!l&&f&1&&(l=!0,r.data=s[0].countsAsCast,se(()=>l=!1)),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function et(i){let e,l,t,n;function o(r){i[6](r,i[10])}var s=i[10].component;function f(r){let c={name:r[10].name,tooltip:(r[10].key?"["+r[10].key+"] ":"")+r[10].tooltip,multiple:r[10].multiple};return r[10].data!==void 0&&(c.data=r[10].data),{props:c}}return s&&(e=Re(s,f(i)),ee.push(()=>ne(e,"data",o)),e.$on("save",i[7])),{c(){e&&G(e.$$.fragment),t=ae()},l(r){e&&X(e.$$.fragment,r),t=ae()},m(r,c){e&&Q(e,r,c),k(r,t,c),n=!0},p(r,c){i=r;const a={};if(c&1&&(a.name=i[10].name),c&1&&(a.tooltip=(i[10].key?"["+i[10].key+"] ":"")+i[10].tooltip),c&1&&(a.multiple=i[10].multiple),!l&&c&1&&(l=!0,a.data=i[10].data,se(()=>l=!1)),c&1&&s!==(s=i[10].component)){if(e){te();const _=e;R(_.$$.fragment,1,0,()=>{U(_,1)}),le()}s?(e=Re(s,f(i)),ee.push(()=>ne(e,"data",o)),e.$on("save",i[7]),G(e.$$.fragment),P(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(r){n||(e&&P(e.$$.fragment,r),n=!0)},o(r){e&&R(e.$$.fragment,r),n=!1},d(r){r&&d(t),e&&U(e,r)}}}function tt(i){let e=i[10].meetsRequirements(i[0]),l,t,n=e&&et(i);return{c(){n&&n.c(),l=ae()},l(o){n&&n.l(o),l=ae()},m(o,s){n&&n.m(o,s),k(o,l,s),t=!0},p(o,s){s&1&&(e=o[10].meetsRequirements(o[0])),e?n?(n.p(o,s),s&1&&P(n,1)):(n=et(o),n.c(),P(n,1),n.m(l.parentNode,l)):n&&(te(),R(n,1,1,()=>{n=null}),le())},i(o){t||(P(n),t=!0)},o(o){R(n),t=!1},d(o){n&&n.d(o),o&&d(l)}}}function xt(i){let e,l,t,n,o,s,f,r,c,a;function _(b,$){return b[0].isDeprecated?Gt:Ft}let u=_(i),v=u(i),h=i[0].description&&Je(i);const D=[Ut,Qt],E=[];function O(b,$){return b[0]instanceof Ie&&b[0].name!="Cast"&&b[0].name!="Initialize"&&b[0].name!="Cleanup"?0:b[0]instanceof Te||b[0]instanceof Ae||b[0]instanceof ge?1:-1}~(s=O(i))&&(f=E[s]=D[s](i));let g=i[0]instanceof ge&&xe(i),I=i[0].data,q=[];for(let b=0;b<I.length;b+=1)q[b]=tt(Ze(i,I,b));const J=b=>R(q[b],1,1,()=>{q[b]=null});return{c(){v.c(),e=T(),h&&h.c(),l=T(),t=y("hr"),n=T(),o=y("div"),f&&f.c(),r=T(),g&&g.c(),c=T();for(let b=0;b<q.length;b+=1)q[b].c();this.h()},l(b){v.l(b),e=A(b),h&&h.l(b),l=A(b),t=C(b,"HR",{}),n=A(b),o=C(b,"DIV",{class:!0});var $=V(o);f&&f.l($),r=A($),g&&g.l($),c=A($);for(let S=0;S<q.length;S+=1)q[S].l($);$.forEach(d),this.h()},h(){N(o,"class","component-entry svelte-jw4vat")},m(b,$){v.m(b,$),k(b,e,$),h&&h.m(b,$),k(b,l,$),k(b,t,$),k(b,n,$),k(b,o,$),~s&&E[s].m(o,null),w(o,r),g&&g.m(o,null),w(o,c);for(let S=0;S<q.length;S+=1)q[S]&&q[S].m(o,null);a=!0},p(b,$){u===(u=_(b))&&v?v.p(b,$):(v.d(1),v=u(b),v&&(v.c(),v.m(e.parentNode,e))),b[0].description?h?h.p(b,$):(h=Je(b),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null);let S=s;if(s=O(b),s===S?~s&&E[s].p(b,$):(f&&(te(),R(E[S],1,1,()=>{E[S]=null}),le()),~s?(f=E[s],f?f.p(b,$):(f=E[s]=D[s](b),f.c()),P(f,1),f.m(o,r)):f=null),b[0]instanceof ge?g?(g.p(b,$),$&1&&P(g,1)):(g=xe(b),g.c(),P(g,1),g.m(o,c)):g&&(te(),R(g,1,1,()=>{g=null}),le()),$&1){I=b[0].data;let m;for(m=0;m<I.length;m+=1){const p=Ze(b,I,m);q[m]?(q[m].p(p,$),P(q[m],1)):(q[m]=tt(p),q[m].c(),P(q[m],1),q[m].m(o,null))}for(te(),m=I.length;m<q.length;m+=1)J(m);le()}},i(b){if(!a){P(f),P(g);for(let $=0;$<I.length;$+=1)P(q[$]);a=!0}},o(b){R(f),R(g),q=q.filter(Boolean);for(let $=0;$<q.length;$+=1)R(q[$]);a=!1},d(b){v.d(b),b&&d(e),h&&h.d(b),b&&d(l),b&&d(t),b&&d(n),b&&d(o),~s&&E[s].d(),g&&g.d(),ye(q,b)}}}function el(i){let e,l,t;function n(s){i[8](s)}let o={width:"70%",$$slots:{default:[xt]},$$scope:{ctx:i}};return i[1]!==void 0&&(o.open=i[1]),e=new je({props:o}),ee.push(()=>ne(e,"open",n)),e.$on("close",i[9]),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,[f]){const r={};f&8193&&(r.$$scope={dirty:f,ctx:s}),!l&&f&2&&(l=!0,r.open=s[1],se(()=>l=!1)),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function tl(i,e,l){let{data:t=void 0}=e,n=!0;function o(v){i.$$.not_equal(t.mana,v)&&(t.mana=v,l(0,t))}function s(v){i.$$.not_equal(t.cooldown,v)&&(t.cooldown=v,l(0,t))}function f(v){i.$$.not_equal(t.iconKey,v)&&(t.iconKey=v,l(0,t))}function r(v){i.$$.not_equal(t.countsAsCast,v)&&(t.countsAsCast=v,l(0,t))}function c(v,h){i.$$.not_equal(h.data,v)&&(h.data=v,l(0,t))}function a(v){de.call(this,i,v)}function _(v){n=v,l(1,n)}function u(v){de.call(this,i,v)}return i.$$set=v=>{"data"in v&&l(0,t=v.data)},i.$$.update=()=>{i.$$.dirty&3&&n&&t&&t.data.filter(v=>v.dataSource).forEach(v=>v.init())},[t,n,o,s,f,r,c,a,_,u]}class ll extends be{constructor(e){super(),$e(this,e,tl,el,we,{data:0})}}function lt(i,e,l){const t=i.slice();return t[22]=e[l],t}function nt(i,e,l){const t=i.slice();return t[25]=e[l],t}function it(i,e,l){const t=i.slice();return t[28]=e[l],t}function st(i){let e,l,t,n,o,s,f,r=i[1],c=[];for(let a=0;a<r.length;a+=1)c[a]=ot(it(i,r,a));return{c(){e=y("hr"),l=T(),t=y("div"),n=y("h3"),o=j("Targets"),s=T(),f=y("div");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){e=C(a,"HR",{}),l=A(a),t=C(a,"DIV",{class:!0});var _=V(t);n=C(_,"H3",{class:!0});var u=V(n);o=K(u,"Targets"),u.forEach(d),_.forEach(d),s=A(a),f=C(a,"DIV",{class:!0});var v=V(f);for(let h=0;h<c.length;h+=1)c[h].l(v);v.forEach(d),this.h()},h(){N(n,"class","svelte-14lpuu9"),N(t,"class","comp-modal-header svelte-14lpuu9"),N(f,"class","triggers")},m(a,_){k(a,e,_),k(a,l,_),k(a,t,_),w(t,n),w(n,o),k(a,s,_),k(a,f,_);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(f,null)},p(a,_){if(_[0]&18){r=a[1];let u;for(u=0;u<r.length;u+=1){const v=it(a,r,u);c[u]?c[u].p(v,_):(c[u]=ot(v),c[u].c(),c[u].m(f,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=r.length}},d(a){a&&d(e),a&&d(l),a&&d(t),a&&d(s),a&&d(f),ye(c,a)}}}function nl(i){let e=i[28].name+"",l;return{c(){l=j(e)},l(t){l=K(t,e)},m(t,n){k(t,l,n)},p(t,n){n[0]&2&&e!==(e=t[28].name+"")&&Z(l,e)},d(t){t&&d(l)}}}function il(i){let e,l=i[28].name+"",t;return{c(){e=y("s"),t=j(l)},l(n){e=C(n,"S",{});var o=V(e);t=K(o,l),o.forEach(d)},m(n,o){k(n,e,o),w(e,t)},p(n,o){o[0]&2&&l!==(l=n[28].name+"")&&Z(t,l)},d(n){n&&d(e)}}}function ot(i){let e,l,t,n,o;function s(_,u){return u[0]&2&&(l=null),l==null&&(l=!!_[28].component.new().isDeprecated),l?il:nl}let f=s(i,[-1,-1]),r=f(i);function c(){return i[10](i[28])}function a(..._){return i[11](i[28],..._)}return{c(){e=y("div"),r.c(),t=T(),this.h()},l(_){e=C(_,"DIV",{class:!0});var u=V(e);r.l(u),t=A(u),u.forEach(d),this.h()},h(){N(e,"class","comp-select")},m(_,u){k(_,e,u),r.m(e,null),w(e,t),n||(o=[F(e,"click",c),F(e,"keypress",a)],n=!0)},p(_,u){i=_,f===(f=s(i,u))&&r?r.p(i,u):(r.d(1),r=f(i),r&&(r.c(),r.m(e,t)))},d(_){_&&d(e),r.d(),n=!1,pe(o)}}}function rt(i){let e,l,t,n,o,s,f,r=i[2],c=[];for(let a=0;a<r.length;a+=1)c[a]=at(nt(i,r,a));return{c(){e=y("hr"),l=T(),t=y("div"),n=y("h3"),o=j("Conditions"),s=T(),f=y("div");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){e=C(a,"HR",{}),l=A(a),t=C(a,"DIV",{class:!0});var _=V(t);n=C(_,"H3",{class:!0});var u=V(n);o=K(u,"Conditions"),u.forEach(d),_.forEach(d),s=A(a),f=C(a,"DIV",{class:!0});var v=V(f);for(let h=0;h<c.length;h+=1)c[h].l(v);v.forEach(d),this.h()},h(){N(n,"class","svelte-14lpuu9"),N(t,"class","comp-modal-header svelte-14lpuu9"),N(f,"class","triggers")},m(a,_){k(a,e,_),k(a,l,_),k(a,t,_),w(t,n),w(n,o),k(a,s,_),k(a,f,_);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(f,null)},p(a,_){if(_[0]&20){r=a[2];let u;for(u=0;u<r.length;u+=1){const v=nt(a,r,u);c[u]?c[u].p(v,_):(c[u]=at(v),c[u].c(),c[u].m(f,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=r.length}},d(a){a&&d(e),a&&d(l),a&&d(t),a&&d(s),a&&d(f),ye(c,a)}}}function sl(i){let e=i[25].name+"",l;return{c(){l=j(e)},l(t){l=K(t,e)},m(t,n){k(t,l,n)},p(t,n){n[0]&4&&e!==(e=t[25].name+"")&&Z(l,e)},d(t){t&&d(l)}}}function ol(i){let e,l=i[25].name+"",t;return{c(){e=y("s"),t=j(l)},l(n){e=C(n,"S",{});var o=V(e);t=K(o,l),o.forEach(d)},m(n,o){k(n,e,o),w(e,t)},p(n,o){o[0]&4&&l!==(l=n[25].name+"")&&Z(t,l)},d(n){n&&d(e)}}}function at(i){let e,l,t,n,o;function s(_,u){return u[0]&4&&(l=null),l==null&&(l=!!_[25].component.new().isDeprecated),l?ol:sl}let f=s(i,[-1,-1]),r=f(i);function c(){return i[12](i[25])}function a(..._){return i[13](i[25],..._)}return{c(){e=y("div"),r.c(),t=T(),this.h()},l(_){e=C(_,"DIV",{class:!0});var u=V(e);r.l(u),t=A(u),u.forEach(d),this.h()},h(){N(e,"class","comp-select")},m(_,u){k(_,e,u),r.m(e,null),w(e,t),n||(o=[F(e,"click",c),F(e,"keypress",a)],n=!0)},p(_,u){i=_,f===(f=s(i,u))&&r?r.p(i,u):(r.d(1),r=f(i),r&&(r.c(),r.m(e,t)))},d(_){_&&d(e),r.d(),n=!1,pe(o)}}}function ft(i){let e,l,t,n,o,s,f,r=i[3],c=[];for(let a=0;a<r.length;a+=1)c[a]=ct(lt(i,r,a));return{c(){e=y("hr"),l=T(),t=y("div"),n=y("h3"),o=j("Mechanics"),s=T(),f=y("div");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){e=C(a,"HR",{}),l=A(a),t=C(a,"DIV",{class:!0});var _=V(t);n=C(_,"H3",{class:!0});var u=V(n);o=K(u,"Mechanics"),u.forEach(d),_.forEach(d),s=A(a),f=C(a,"DIV",{class:!0});var v=V(f);for(let h=0;h<c.length;h+=1)c[h].l(v);v.forEach(d),this.h()},h(){N(n,"class","svelte-14lpuu9"),N(t,"class","comp-modal-header svelte-14lpuu9"),N(f,"class","triggers")},m(a,_){k(a,e,_),k(a,l,_),k(a,t,_),w(t,n),w(n,o),k(a,s,_),k(a,f,_);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(f,null)},p(a,_){if(_[0]&24){r=a[3];let u;for(u=0;u<r.length;u+=1){const v=lt(a,r,u);c[u]?c[u].p(v,_):(c[u]=ct(v),c[u].c(),c[u].m(f,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=r.length}},d(a){a&&d(e),a&&d(l),a&&d(t),a&&d(s),a&&d(f),ye(c,a)}}}function rl(i){let e=i[22].name+"",l;return{c(){l=j(e)},l(t){l=K(t,e)},m(t,n){k(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[22].name+"")&&Z(l,e)},d(t){t&&d(l)}}}function al(i){let e,l=i[22].name+"",t;return{c(){e=y("s"),t=j(l)},l(n){e=C(n,"S",{});var o=V(e);t=K(o,l),o.forEach(d)},m(n,o){k(n,e,o),w(e,t)},p(n,o){o[0]&8&&l!==(l=n[22].name+"")&&Z(t,l)},d(n){n&&d(e)}}}function ct(i){let e,l,t,n,o;function s(_,u){return u[0]&8&&(l=null),l==null&&(l=!!_[22].component.new().isDeprecated),l?al:rl}let f=s(i,[-1,-1]),r=f(i);function c(){return i[14](i[22])}function a(..._){return i[15](i[22],..._)}return{c(){e=y("div"),r.c(),t=T(),this.h()},l(_){e=C(_,"DIV",{class:!0});var u=V(e);r.l(u),t=A(u),u.forEach(d),this.h()},h(){N(e,"class","comp-select")},m(_,u){k(_,e,u),r.m(e,null),w(e,t),n||(o=[F(e,"click",c),F(e,"keypress",a)],n=!0)},p(_,u){i=_,f===(f=s(i,u))&&r?r.p(i,u):(r.d(1),r=f(i),r&&(r.c(),r.m(e,t)))},d(_){_&&d(e),r.d(),n=!1,pe(o)}}}function fl(i){let e,l,t,n,o,s,f,r,c,a,_,u,v,h,D,E,O,g,I,q;function J(p){i[9](p)}let b={placeholder:"Search..."};i[0]!==void 0&&(b.value=i[0]),r=new ke({props:b}),ee.push(()=>ne(r,"value",J));let $=i[1].length>0&&st(i),S=i[2].length>0&&rt(i),m=i[3].length>0&&ft(i);return{c(){e=y("div"),l=y("div"),t=T(),n=y("h2"),o=j("Add a Component"),s=T(),f=y("div"),G(r.$$.fragment),a=T(),$&&$.c(),_=T(),S&&S.c(),u=T(),m&&m.c(),v=T(),h=y("hr"),D=T(),E=y("div"),O=j("Cancel"),this.h()},l(p){e=C(p,"DIV",{class:!0});var M=V(e);l=C(M,"DIV",{}),V(l).forEach(d),t=A(M),n=C(M,"H2",{});var z=V(n);o=K(z,"Add a Component"),z.forEach(d),s=A(M),f=C(M,"DIV",{class:!0});var B=V(f);X(r.$$.fragment,B),B.forEach(d),M.forEach(d),a=A(p),$&&$.l(p),_=A(p),S&&S.l(p),u=A(p),m&&m.l(p),v=A(p),h=C(p,"HR",{}),D=A(p),E=C(p,"DIV",{class:!0});var Y=V(E);O=K(Y,"Cancel"),Y.forEach(d),this.h()},h(){N(f,"class","search-bar"),N(e,"class","modal-header-wrapper"),N(E,"class","cancel")},m(p,M){k(p,e,M),w(e,l),w(e,t),w(e,n),w(n,o),w(e,s),w(e,f),Q(r,f,null),k(p,a,M),$&&$.m(p,M),k(p,_,M),S&&S.m(p,M),k(p,u,M),m&&m.m(p,M),k(p,v,M),k(p,h,M),k(p,D,M),k(p,E,M),w(E,O),g=!0,I||(q=[F(E,"click",i[16]),F(E,"keypress",i[17])],I=!0)},p(p,M){const z={};!c&&M[0]&1&&(c=!0,z.value=p[0],se(()=>c=!1)),r.$set(z),p[1].length>0?$?$.p(p,M):($=st(p),$.c(),$.m(_.parentNode,_)):$&&($.d(1),$=null),p[2].length>0?S?S.p(p,M):(S=rt(p),S.c(),S.m(u.parentNode,u)):S&&(S.d(1),S=null),p[3].length>0?m?m.p(p,M):(m=ft(p),m.c(),m.m(v.parentNode,v)):m&&(m.d(1),m=null)},i(p){g||(P(r.$$.fragment,p),g=!0)},o(p){R(r.$$.fragment,p),g=!1},d(p){p&&d(e),U(r),p&&d(a),$&&$.d(p),p&&d(_),S&&S.d(p),p&&d(u),m&&m.d(p),p&&d(v),p&&d(h),p&&d(D),p&&d(E),I=!1,pe(q)}}}function cl(i){let e,l;return e=new je({props:{width:"70%",open:!0,$$slots:{default:[fl]},$$scope:{ctx:i}}}),e.$on("close",He),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p(t,n){const o={};n[0]&15|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ul(i,e,l){let{data:t}=e,n="",o={},s={},f={},r,c,a,_,u,v;const h=Dt();Fe(()=>{_=Se.targets.subscribe(m=>l(6,o=m)),u=Se.conditions.subscribe(m=>l(7,s=m)),v=Se.mechanics.subscribe(m=>l(8,f=m))}),Ge(()=>{_&&_(),u&&u(),v&&v()});const D=m=>{t.addComponent(m.new().defaultOpen()),l(0,n=""),h("save"),He()};function E(m){n=m,l(0,n)}const O=m=>D(m.component),g=(m,p)=>{p.key==="Enter"&&D(m.component)},I=m=>D(m.component),q=(m,p)=>{p.key==="Enter"&&D(m.component)},J=m=>D(m.component),b=(m,p)=>{p.key==="Enter"&&D(m.component)},$=()=>He,S=m=>{m.key==="Enter"&&He()};return i.$$set=m=>{"data"in m&&l(5,t=m.data)},i.$$.update=()=>{i.$$.dirty[0]&449&&(l(1,r=Object.keys(o).filter(m=>o[m].name.toLowerCase().includes(n.toLowerCase())).sort((m,p)=>(o[m].component.new().isDeprecated?0:-1)-(o[p].component.new().isDeprecated?0:-1)).map(m=>o[m])),l(2,c=Object.keys(s).filter(m=>s[m].name.toLowerCase().includes(n.toLowerCase())).sort((m,p)=>(s[m].component.new().isDeprecated?0:-1)-(s[p].component.new().isDeprecated?0:-1)).map(m=>s[m])),l(3,a=Object.keys(f).filter(m=>f[m].name.toLowerCase().includes(n.toLowerCase())).sort((m,p)=>(f[m].component.new().isDeprecated?0:-1)-(f[p].component.new().isDeprecated?0:-1)).map(m=>f[m])))},[n,r,c,a,D,t,o,s,f,E,O,g,I,q,J,b,$,S]}class _l extends be{constructor(e){super(),$e(this,e,ul,cl,we,{data:5},null,[-1,-1])}}function ut(i,e,l){const t=i.slice();return t[6]=e[l],t[7]=e,t[8]=l,t}function dl(i){let e,l=i[0].name+"",t;return{c(){e=y("h2"),t=j(l)},l(n){e=C(n,"H2",{});var o=V(e);t=K(o,l),o.forEach(d)},m(n,o){k(n,e,o),w(e,t)},p(n,o){o&1&&l!==(l=n[0].name+"")&&Z(t,l)},d(n){n&&d(e)}}}function pl(i){let e,l,t=i[0].name+"",n,o,s,f;return{c(){e=y("h2"),l=y("s"),n=j(t),o=T(),s=y("small"),f=j("deprecated")},l(r){e=C(r,"H2",{});var c=V(e);l=C(c,"S",{});var a=V(l);n=K(a,t),a.forEach(d),o=A(c),s=C(c,"SMALL",{});var _=V(s);f=K(_,"deprecated"),_.forEach(d),c.forEach(d)},m(r,c){k(r,e,c),w(e,l),w(l,n),w(e,o),w(e,s),w(s,f)},p(r,c){c&1&&t!==(t=r[0].name+"")&&Z(n,t)},d(r){r&&d(e)}}}function _t(i){let e,l=i[0].description+"",t;return{c(){e=y("div"),t=j(l),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=V(e);t=K(o,l),o.forEach(d),this.h()},h(){N(e,"class","modal-desc svelte-jw4vat")},m(n,o){k(n,e,o),w(e,t)},p(n,o){o&1&&l!==(l=n[0].description+"")&&Z(t,l)},d(n){n&&d(e)}}}function dt(i){let e,l,t,n;function o(r){i[2](r,i[6])}var s=i[6].component;function f(r){let c={name:r[6].name,tooltip:(r[6].key?"["+r[6].key+"] ":"")+r[6].tooltip,multiple:r[6].multiple};return r[6].data!==void 0&&(c.data=r[6].data),{props:c}}return s&&(e=Re(s,f(i)),ee.push(()=>ne(e,"data",o)),e.$on("save",i[3])),{c(){e&&G(e.$$.fragment),t=ae()},l(r){e&&X(e.$$.fragment,r),t=ae()},m(r,c){e&&Q(e,r,c),k(r,t,c),n=!0},p(r,c){i=r;const a={};if(c&1&&(a.name=i[6].name),c&1&&(a.tooltip=(i[6].key?"["+i[6].key+"] ":"")+i[6].tooltip),c&1&&(a.multiple=i[6].multiple),!l&&c&1&&(l=!0,a.data=i[6].data,se(()=>l=!1)),c&1&&s!==(s=i[6].component)){if(e){te();const _=e;R(_.$$.fragment,1,0,()=>{U(_,1)}),le()}s?(e=Re(s,f(i)),ee.push(()=>ne(e,"data",o)),e.$on("save",i[3]),G(e.$$.fragment),P(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(r){n||(e&&P(e.$$.fragment,r),n=!0)},o(r){e&&R(e.$$.fragment,r),n=!1},d(r){r&&d(t),e&&U(e,r)}}}function pt(i){let e=i[6].meetsRequirements(i[0]),l,t,n=e&&dt(i);return{c(){n&&n.c(),l=ae()},l(o){n&&n.l(o),l=ae()},m(o,s){n&&n.m(o,s),k(o,l,s),t=!0},p(o,s){s&1&&(e=o[6].meetsRequirements(o[0])),e?n?(n.p(o,s),s&1&&P(n,1)):(n=dt(o),n.c(),P(n,1),n.m(l.parentNode,l)):n&&(te(),R(n,1,1,()=>{n=null}),le())},i(o){t||(P(n),t=!0)},o(o){R(n),t=!1},d(o){n&&n.d(o),o&&d(l)}}}function ml(i){let e,l,t,n,o,s;function f(h,D){return h[0].isDeprecated?pl:dl}let r=f(i),c=r(i),a=i[0].description&&_t(i),_=i[0].preview,u=[];for(let h=0;h<_.length;h+=1)u[h]=pt(ut(i,_,h));const v=h=>R(u[h],1,1,()=>{u[h]=null});return{c(){c.c(),e=T(),a&&a.c(),l=T(),t=y("hr"),n=T(),o=y("div");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){c.l(h),e=A(h),a&&a.l(h),l=A(h),t=C(h,"HR",{}),n=A(h),o=C(h,"DIV",{class:!0});var D=V(o);for(let E=0;E<u.length;E+=1)u[E].l(D);D.forEach(d),this.h()},h(){N(o,"class","component-entry svelte-jw4vat")},m(h,D){c.m(h,D),k(h,e,D),a&&a.m(h,D),k(h,l,D),k(h,t,D),k(h,n,D),k(h,o,D);for(let E=0;E<u.length;E+=1)u[E]&&u[E].m(o,null);s=!0},p(h,D){if(r===(r=f(h))&&c?c.p(h,D):(c.d(1),c=r(h),c&&(c.c(),c.m(e.parentNode,e))),h[0].description?a?a.p(h,D):(a=_t(h),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),D&1){_=h[0].preview;let E;for(E=0;E<_.length;E+=1){const O=ut(h,_,E);u[E]?(u[E].p(O,D),P(u[E],1)):(u[E]=pt(O),u[E].c(),P(u[E],1),u[E].m(o,null))}for(te(),E=_.length;E<u.length;E+=1)v(E);le()}},i(h){if(!s){for(let D=0;D<_.length;D+=1)P(u[D]);s=!0}},o(h){u=u.filter(Boolean);for(let D=0;D<u.length;D+=1)R(u[D]);s=!1},d(h){c.d(h),h&&d(e),a&&a.d(h),h&&d(l),h&&d(t),h&&d(n),h&&d(o),ye(u,h)}}}function hl(i){let e,l,t;function n(s){i[4](s)}let o={width:"70%",$$slots:{default:[ml]},$$scope:{ctx:i}};return i[1]!==void 0&&(o.open=i[1]),e=new je({props:o}),ee.push(()=>ne(e,"open",n)),e.$on("close",i[5]),{c(){G(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){Q(e,s,f),t=!0},p(s,[f]){const r={};f&513&&(r.$$scope={dirty:f,ctx:s}),!l&&f&2&&(l=!0,r.open=s[1],se(()=>l=!1)),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function vl(i,e,l){let{data:t=void 0}=e,n=!0;function o(c,a){i.$$.not_equal(a.data,c)&&(a.data=c,l(0,t))}function s(c){de.call(this,i,c)}function f(c){n=c,l(1,n)}function r(c){de.call(this,i,c)}return i.$$set=c=>{"data"in c&&l(0,t=c.data)},i.$$.update=()=>{i.$$.dirty&3&&n&&t&&t.preview.filter(c=>c.dataSource).forEach(c=>c.init())},[t,n,o,s,f,r]}class gl extends be{constructor(e){super(),$e(this,e,vl,hl,we,{data:0})}}function mt(i,e,l){const t=i.slice();return t[39]=e[l],t[40]=e,t[41]=l,t}function kl(i){let e,l,t;return{c(){e=y("span"),l=j("expand_less"),this.h()},l(n){e=C(n,"SPAN",{class:!0});var o=V(e);l=K(o,"expand_less"),o.forEach(d),this.h()},h(){N(e,"class","material-symbols-rounded svelte-1yqmc80")},m(n,o){k(n,e,o),w(e,l)},i(n){n&&(t||Ee(()=>{t=It(e,i[18],{duration:400}),t.start()}))},o:Oe,d(n){n&&d(e)}}}function bl(i){let e,l,t;return{c(){e=y("span"),l=j("expand_more"),this.h()},l(n){e=C(n,"SPAN",{class:!0});var o=V(e);l=K(o,"expand_more"),o.forEach(d),this.h()},h(){N(e,"class","material-symbols-rounded svelte-1yqmc80")},m(n,o){k(n,e,o),w(e,l)},i(n){n&&(t||Ee(()=>{t=It(e,i[18],{duration:400}),t.start()}))},o:Oe,d(n){n&&d(e)}}}function $l(i){let e=i[1].name+"",l;return{c(){l=j(e)},l(t){l=K(t,e)},m(t,n){k(t,l,n)},p(t,n){n[0]&2&&e!==(e=t[1].name+"")&&Z(l,e)},d(t){t&&d(l)}}}function wl(i){let e,l=i[1].name+"",t;return{c(){e=y("s"),t=j(l)},l(n){e=C(n,"S",{});var o=V(e);t=K(o,l),o.forEach(d)},m(n,o){k(n,e,o),w(e,t)},p(n,o){o[0]&2&&l!==(l=n[1].name+"")&&Z(t,l)},d(n){n&&d(e)}}}function ht(i){let e,l,t,n,o,s,f,r,c,a,_,u,v=i[1].isParent&&vt(i),h=i[1].preview&&i[1].preview.length>0&&gt(i);n=new Le({props:{title:"Copy",icon:"content_copy",color:"white"}}),n.$on("click",i[25]),s=new Le({props:{title:"Delete",icon:"delete",color:"red"}}),s.$on("click",i[26]);const D=[yl,El],E=[];function O(g,I){return g[4].length===0?0:1}return c=O(i),a=E[c]=D[c](i),{c(){e=y("div"),v&&v.c(),l=T(),h&&h.c(),t=T(),G(n.$$.fragment),o=T(),G(s.$$.fragment),f=T(),r=y("div"),a.c(),this.h()},l(g){e=C(g,"DIV",{class:!0});var I=V(e);v&&v.l(I),l=A(I),h&&h.l(I),t=A(I),X(n.$$.fragment,I),o=A(I),X(s.$$.fragment,I),I.forEach(d),f=A(g),r=C(g,"DIV",{class:!0});var q=V(r);a.l(q),q.forEach(d),this.h()},h(){N(e,"class","controls svelte-1yqmc80"),N(r,"class","children svelte-1yqmc80")},m(g,I){k(g,e,I),v&&v.m(e,null),w(e,l),h&&h.m(e,null),w(e,t),Q(n,e,null),w(e,o),Q(s,e,null),k(g,f,I),k(g,r,I),E[c].m(r,null),u=!0},p(g,I){g[1].isParent?v?(v.p(g,I),I[0]&2&&P(v,1)):(v=vt(g),v.c(),P(v,1),v.m(e,l)):v&&(te(),R(v,1,1,()=>{v=null}),le()),g[1].preview&&g[1].preview.length>0?h?(h.p(g,I),I[0]&2&&P(h,1)):(h=gt(g),h.c(),P(h,1),h.m(e,t)):h&&(te(),R(h,1,1,()=>{h=null}),le());let q=c;c=O(g),c===q?E[c].p(g,I):(te(),R(E[q],1,1,()=>{E[q]=null}),le(),a=E[c],a?a.p(g,I):(a=E[c]=D[c](g),a.c()),P(a,1),a.m(r,null))},i(g){u||(P(v),P(h),P(n.$$.fragment,g),P(s.$$.fragment,g),P(a),g&&Ee(()=>{u&&(_||(_=_e(r,fe,{},!0)),_.run(1))}),u=!0)},o(g){R(v),R(h),R(n.$$.fragment,g),R(s.$$.fragment,g),R(a),g&&(_||(_=_e(r,fe,{},!1)),_.run(0)),u=!1},d(g){g&&d(e),v&&v.d(),h&&h.d(),U(n),U(s),g&&d(f),g&&d(r),E[c].d(),g&&_&&_.end()}}}function vt(i){let e,l;return e=new Le({props:{title:"Add Component",icon:"add",color:i[17]()}}),e.$on("click",i[14]),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p:Oe,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function gt(i){let e,l;return e=new Le({props:{title:"Preview Settings",icon:"visibility",color:"gray"}}),e.$on("click",i[15]),{c(){G(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p:Oe,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function El(i){let e,l=[],t=new Map,n,o=i[4];const s=f=>f[39].id;for(let f=0;f<o.length;f+=1){let r=mt(i,o,f),c=s(r);t.set(c,l[f]=kt(c,r))}return{c(){e=y("div");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=C(f,"DIV",{class:!0});var r=V(e);for(let c=0;c<l.length;c+=1)l[c].l(r);r.forEach(d),this.h()},h(){N(e,"class","child-wrapper")},m(f,r){k(f,e,r);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);i[32](e),n=!0},p(f,r){r[0]&4194321&&(o=f[4],te(),l=St(l,r,s,1,f,o,t,e,Vt,kt,null,mt),le())},i(f){if(!n){for(let r=0;r<o.length;r+=1)P(l[r]);n=!0}},o(f){for(let r=0;r<l.length;r+=1)R(l[r]);n=!1},d(f){f&&d(e);for(let r=0;r<l.length;r+=1)l[r].d();i[32](null)}}}function yl(i){let e,l,t=i[1].isParent&&(i[6]||i[7])&&bt(i);return{c(){t&&t.c(),e=ae()},l(n){t&&t.l(n),e=ae()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,o){n[1].isParent&&(n[6]||n[7])?t?(t.p(n,o),o[0]&194&&P(t,1)):(t=bt(n),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(te(),R(t,1,1,()=>{t=null}),le())},i(n){l||(P(t),l=!0)},o(n){R(t),l=!1},d(n){t&&t.d(n),n&&d(e)}}}function kt(i,e){let l,t,n,o,s,f;function r(a){e[29](a,e[39],e[40],e[41])}let c={skill:e[0]};return e[39]!==void 0&&(c.component=e[39]),t=new Pt({props:c}),ee.push(()=>ne(t,"component",r)),t.$on("update",e[30]),t.$on("save",e[31]),t.$on("addskill",e[22]),{key:i,first:null,c(){l=y("span"),G(t.$$.fragment),o=T(),this.h()},l(a){l=C(a,"SPAN",{});var _=V(l);X(t.$$.fragment,_),o=A(_),_.forEach(d),this.h()},h(){this.first=l},m(a,_){k(a,l,_),Q(t,l,null),w(l,o),f=!0},p(a,_){e=a;const u={};_[0]&1&&(u.skill=e[0]),!n&&_[0]&16&&(n=!0,u.component=e[39],se(()=>n=!1)),t.$set(u)},i(a){f||(P(t.$$.fragment,a),a&&Ee(()=>{f&&(s||(s=_e(l,fe,{},!0)),s.run(1))}),f=!0)},o(a){R(t.$$.fragment,a),a&&(s||(s=_e(l,fe,{},!1)),s.run(0)),f=!1},d(a){a&&d(l),U(t),a&&s&&s.end()}}}function bt(i){let e,l,t,n,o;return{c(){e=y("div"),this.h()},l(s){e=C(s,"DIV",{class:!0}),V(e).forEach(d),this.h()},h(){N(e,"class","filler svelte-1yqmc80"),re(e,"overChildren",i[7])},m(s,f){k(s,e,f),t=!0,n||(o=[F(e,"dragenter",ie(i[27])),F(e,"dragover",ie(Ye(Dl))),F(e,"dragleave",i[20]),F(e,"drop",ie(Ye(i[28])))],n=!0)},p(s,f){(!t||f[0]&128)&&re(e,"overChildren",s[7])},i(s){t||(Ee(()=>{t&&(l||(l=_e(e,fe,{},!0)),l.run(1))}),t=!0)},o(s){l||(l=_e(e,fe,{},!1)),l.run(0),t=!1},d(s){s&&d(e),s&&l&&l.end(),n=!1,pe(o)}}}function Cl(i){let e,l,t,n,o,s,f,r=i[16](i[11])+"",c,a=i[11]?" ":": ",_,u,v,h,D,E,O;function g(m,p){return m[5]?bl:kl}let I=g(i),q=I(i);function J(m,p){return m[1].isDeprecated?wl:$l}let b=J(i),$=b(i),S=!i[5]&&ht(i);return{c(){e=y("div"),l=y("div"),q.c(),t=T(),n=y("div"),o=T(),s=y("div"),f=y("span"),c=j(r),_=j(a),u=T(),$.c(),v=T(),S&&S.c(),this.h()},l(m){e=C(m,"DIV",{class:!0});var p=V(e);l=C(p,"DIV",{draggable:!0,class:!0});var M=V(l);q.l(M),t=A(M),n=C(M,"DIV",{class:!0}),V(n).forEach(d),o=A(M),s=C(M,"DIV",{class:!0});var z=V(s);f=C(z,"SPAN",{class:!0});var B=V(f);c=K(B,r),B.forEach(d),_=K(z,a),u=A(z),$.l(z),z.forEach(d),v=A(M),S&&S.l(M),M.forEach(d),p.forEach(d),this.h()},h(){N(n,"class","corner svelte-1yqmc80"),N(f,"class","svelte-1yqmc80"),N(s,"class","name svelte-1yqmc80"),N(l,"draggable","true"),N(l,"class","comp-body svelte-1yqmc80"),re(l,"over",i[6]),re(l,"top",i[8]),re(l,"bottom",i[9]),re(l,"dragging",i[10]===i[1]),Be(l,"--comp-color",i[17]()),N(e,"class","wrapper svelte-1yqmc80")},m(m,p){k(m,e,p),w(e,l),q.m(l,null),w(l,t),w(l,n),w(l,o),w(l,s),w(s,f),w(f,c),w(s,_),w(s,u),$.m(s,null),w(l,v),S&&S.m(l,null),i[33](l),D=!0,E||(O=[F(n,"click",ie(i[23])),F(n,"keypress",ie(i[24])),F(l,"dragstart",ie(i[34])),F(l,"dragend",i[35]),F(l,"drop",ie(i[21])),F(l,"click",ie(i[13])),F(l,"keypress",ie(i[36])),F(l,"dragover",ie(Ye(i[19]))),F(l,"dragleave",ie(i[20]))],E=!0)},p(m,p){I!==(I=g(m))&&(q.d(1),q=I(m),q&&(q.c(),P(q,1),q.m(l,t))),(!D||p[0]&2048)&&r!==(r=m[16](m[11])+"")&&Z(c,r),(!D||p[0]&2048)&&a!==(a=m[11]?" ":": ")&&Z(_,a),b===(b=J(m))&&$?$.p(m,p):($.d(1),$=b(m),$&&($.c(),$.m(s,null))),m[5]?S&&(te(),R(S,1,1,()=>{S=null}),le()):S?(S.p(m,p),p[0]&32&&P(S,1)):(S=ht(m),S.c(),P(S,1),S.m(l,null)),(!D||p[0]&64)&&re(l,"over",m[6]),(!D||p[0]&256)&&re(l,"top",m[8]),(!D||p[0]&512)&&re(l,"bottom",m[9]),(!D||p[0]&1026)&&re(l,"dragging",m[10]===m[1])},i(m){D||(P(q),P(S),h&&h.end(1),D=!0)},o(m){R(S),h=Lt(l,fe,{}),D=!1},d(m){m&&d(e),q.d(),$.d(),S&&S.d(),i[33](null),m&&h&&h.end(),E=!1,pe(O)}}}const Dl=()=>{};function Il(i,e,l){let t,n;Ue(i,ve,L=>l(10,t=L)),Ue(i,jt,L=>l(11,n=L));let{skill:o}=e,{component:s}=e,f,r,c=[];const a=Dt();let _=!1,u=!1,v=!1,h=!1,D=!1,E;const O=()=>We(ll,s),g=()=>We(_l,s),I=()=>We(gl,s);Fe(()=>{E=s.components.subscribe(L=>l(4,c=L)),s._defaultOpen&&O()}),Ge(()=>{E&&E()});const q=(L=!1)=>{if(L){if(s instanceof Ie)return"🚩";if(s instanceof Ae)return"⚠";if(s instanceof Te)return"🎯";if(s instanceof ge)return"🔧"}return s instanceof Ie?"Trigger":s instanceof Ae?"Condition":s instanceof Te?"Target":s instanceof ge?"Mechanic":"???"},J=()=>s instanceof Ie?"#0083ef":s instanceof Ae?"#feac00":s instanceof Te?"#04af38":s instanceof ge?"#ff3a3a":"orange",b=(L,{duration:oe})=>({duration:oe,css:De=>`transform: rotate(${180-Kt(De)*180}deg);`}),$=L=>{if(s==Ve(ve)||(l(6,u=!0),s instanceof Ie))return;const oe=f.getBoundingClientRect();l(8,h=L.clientY<oe.height/2+oe.top),l(9,D=L.clientY>=oe.height/2+oe.top)},S=()=>{l(6,u=!1),l(8,h=!1),l(9,D=!1)},m=L=>{(!L.relatedTarget||!(f!=null&&f.contains(L.relatedTarget))||r!=null&&r.contains(L.relatedTarget))&&S()},p=()=>{let L=Ve(ve);a("addskill",{comp:L,relativeTo:s,above:h}),S()},M=L=>{let oe=L.detail.comp,De=L.detail.relativeTo,Ne=L.detail.above,Mt=c.indexOf(De);o.removeComponent(oe),s.addComponent(oe,Mt+(Ne?0:1)),a("save")},z=()=>l(5,_=!_),B=L=>{L.key==="Enter"&&l(5,_=!_)},Y=()=>console.log("clicked copy"),me=()=>{o.removeComponent(s),a("update")},ce=()=>{l(7,v=!0),l(6,u=!1)},H=()=>{l(7,v=!1);let L=Ve(ve);o.removeComponent(L),s.addComponent(L)};function W(L,oe,De,Ne){De[Ne]=L,l(4,c)}function x(L){de.call(this,i,L)}function ue(L){de.call(this,i,L)}function Pe(L){ee[L?"unshift":"push"](()=>{r=L,l(3,r)})}function Me(L){ee[L?"unshift":"push"](()=>{f=L,l(2,f)})}const qe=()=>ve.set(s),he=()=>ve.set(void 0),Ce=L=>{L.key};return i.$$set=L=>{"skill"in L&&l(0,o=L.skill),"component"in L&&l(1,s=L.component)},i.$$.update=()=>{i.$$.dirty[0]&2&&s&&a("save")},[o,s,f,r,c,_,u,v,h,D,t,n,a,O,g,I,q,J,b,$,m,p,M,z,B,Y,me,ce,H,W,x,ue,Pe,Me,qe,he,Ce]}class Pt extends be{constructor(e){super(),$e(this,e,Il,Cl,we,{skill:0,component:1},null,[-1,-1])}}function $t(i,e,l){const t=i.slice();return t[17]=e[l],t}function wt(i,e,l){const t=i.slice();return t[20]=e[l],t}function Et(i,e){let l,t,n;return t=new Pt({props:{skill:e[1],component:e[20]}}),t.$on("update",e[5]),t.$on("save",e[6]),{key:i,first:null,c(){l=y("div"),G(t.$$.fragment),this.h()},l(o){l=C(o,"DIV",{class:!0});var s=V(l);X(t.$$.fragment,s),s.forEach(d),this.h()},h(){N(l,"class","widget svelte-187gm9u"),this.first=l},m(o,s){k(o,l,s),Q(t,l,null),n=!0},p(o,s){e=o;const f={};s&2&&(f.skill=e[1]),s&2&&(f.component=e[20]),t.$set(f)},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){R(t.$$.fragment,o),n=!1},d(o){o&&d(l),U(t)}}}function yt(i){let e,l;return{c(){e=y("div"),l=j("No triggers added yet.")},l(t){e=C(t,"DIV",{});var n=V(e);l=K(n,"No triggers added yet."),n.forEach(d)},m(t,n){k(t,e,n),w(e,l)},d(t){t&&d(e)}}}function Sl(i){let e=i[17].name+"",l;return{c(){l=j(e)},l(t){l=K(t,e)},m(t,n){k(t,l,n)},p(t,n){n&8&&e!==(e=t[17].name+"")&&Z(l,e)},d(t){t&&d(l)}}}function Vl(i){let e,l=i[17].name+"",t;return{c(){e=y("s"),t=j(l)},l(n){e=C(n,"S",{});var o=V(e);t=K(o,l),o.forEach(d)},m(n,o){k(n,e,o),w(e,t)},p(n,o){o&8&&l!==(l=n[17].name+"")&&Z(t,l)},d(n){n&&d(e)}}}function Ct(i){let e,l,t,n;function o(c,a){return c[17].isDeprecated?Vl:Sl}let s=o(i),f=s(i);function r(){return i[11](i[17])}return{c(){e=y("div"),f.c(),l=T(),this.h()},l(c){e=C(c,"DIV",{class:!0});var a=V(e);f.l(a),l=A(a),a.forEach(d),this.h()},h(){N(e,"class","comp-select")},m(c,a){k(c,e,a),f.m(e,null),w(e,l),t||(n=F(e,"click",r),t=!0)},p(c,a){i=c,s===(s=o(i))&&f?f.p(i,a):(f.d(1),f=s(i),f&&(f.c(),f.m(e,l)))},d(c){c&&d(e),f.d(),t=!1,n()}}}function Pl(i){let e,l,t,n,o,s,f,r,c,a,_,u,v,h,D,E,O,g,I,q,J;function b(p){i[10](p)}let $={placeholder:"Search..."};i[0]!==void 0&&($.value=i[0]),r=new ke({props:$}),ee.push(()=>ne(r,"value",b));let S=i[3],m=[];for(let p=0;p<S.length;p+=1)m[p]=Ct($t(i,S,p));return{c(){e=y("div"),l=y("div"),t=T(),n=y("h2"),o=j("Select New Trigger"),s=T(),f=y("div"),G(r.$$.fragment),a=T(),_=y("hr"),u=T(),v=y("div");for(let p=0;p<m.length;p+=1)m[p].c();h=T(),D=y("hr"),E=T(),O=y("div"),g=j("Cancel"),this.h()},l(p){e=C(p,"DIV",{class:!0});var M=V(e);l=C(M,"DIV",{}),V(l).forEach(d),t=A(M),n=C(M,"H2",{class:!0});var z=V(n);o=K(z,"Select New Trigger"),z.forEach(d),s=A(M),f=C(M,"DIV",{class:!0});var B=V(f);X(r.$$.fragment,B),B.forEach(d),M.forEach(d),a=A(p),_=C(p,"HR",{}),u=A(p),v=C(p,"DIV",{class:!0});var Y=V(v);for(let ce=0;ce<m.length;ce+=1)m[ce].l(Y);Y.forEach(d),h=A(p),D=C(p,"HR",{}),E=A(p),O=C(p,"DIV",{class:!0});var me=V(O);g=K(me,"Cancel"),me.forEach(d),this.h()},h(){N(n,"class","modal-header svelte-187gm9u"),N(f,"class","search-bar"),N(e,"class","modal-header-wrapper"),N(v,"class","triggers"),N(O,"class","cancel")},m(p,M){k(p,e,M),w(e,l),w(e,t),w(e,n),w(n,o),w(e,s),w(e,f),Q(r,f,null),k(p,a,M),k(p,_,M),k(p,u,M),k(p,v,M);for(let z=0;z<m.length;z+=1)m[z]&&m[z].m(v,null);k(p,h,M),k(p,D,M),k(p,E,M),k(p,O,M),w(O,g),I=!0,q||(J=F(O,"click",i[12]),q=!0)},p(p,M){const z={};if(!c&&M&1&&(c=!0,z.value=p[0],se(()=>c=!1)),r.$set(z),M&24){S=p[3];let B;for(B=0;B<S.length;B+=1){const Y=$t(p,S,B);m[B]?m[B].p(Y,M):(m[B]=Ct(Y),m[B].c(),m[B].m(v,null))}for(;B<m.length;B+=1)m[B].d(1);m.length=S.length}},i(p){I||(P(r.$$.fragment,p),I=!0)},o(p){R(r.$$.fragment,p),I=!1},d(p){p&&d(e),U(r),p&&d(a),p&&d(_),p&&d(u),p&&d(v),ye(m,p),p&&d(h),p&&d(D),p&&d(E),p&&d(O),q=!1,J()}}}function Ml(i){let e,l,t,n,o=i[1].name+"",s,f,r,c,a,_,u,v,h,D,E,O,g,I=[],q=new Map,J,b,$,S,m,p,M;document.title=e="ProSkillAPI Dynamic Editor - "+i[1].name;let z=i[1].triggers;const B=H=>H[20].id;for(let H=0;H<z.length;H+=1){let W=wt(i,z,H),x=B(W);q.set(x,I[H]=Et(x,W))}let Y=i[1].triggers.length==0&&yt();function me(H){i[13](H)}let ce={$$slots:{default:[Pl]},$$scope:{ctx:i}};return i[2]!==void 0&&(ce.open=i[2]),$=new je({props:ce}),ee.push(()=>ne($,"open",me)),{c(){l=T(),t=y("div"),n=y("h2"),s=j(o),f=T(),r=y("a"),c=j("edit"),_=T(),u=y("div"),v=y("span"),h=j("new_label"),D=T(),E=y("hr"),O=T(),g=y("div");for(let H=0;H<I.length;H+=1)I[H].c();J=T(),Y&&Y.c(),b=T(),G($.$$.fragment),this.h()},l(H){Ot("svelte-r5m1v8",document.head).forEach(d),l=A(H),t=C(H,"DIV",{class:!0});var x=V(t);n=C(x,"H2",{class:!0});var ue=V(n);s=K(ue,o),f=A(ue),r=C(ue,"A",{class:!0,title:!0,href:!0});var Pe=V(r);c=K(Pe,"edit"),Pe.forEach(d),_=A(ue),u=C(ue,"DIV",{class:!0,title:!0});var Me=V(u);v=C(Me,"SPAN",{class:!0});var qe=V(v);h=K(qe,"new_label"),qe.forEach(d),Me.forEach(d),ue.forEach(d),D=A(x),E=C(x,"HR",{}),x.forEach(d),O=A(H),g=C(H,"DIV",{class:!0});var he=V(g);for(let Ce=0;Ce<I.length;Ce+=1)I[Ce].l(he);J=A(he),Y&&Y.l(he),he.forEach(d),b=A(H),X($.$$.fragment,H),this.h()},h(){N(r,"class","material-symbols-rounded edit-skill chip svelte-187gm9u"),N(r,"title","Edit"),N(r,"href",a="/skill/"+i[1].name+"/edit"),N(v,"class","material-symbols-rounded"),N(u,"class","add-trigger chip svelte-187gm9u"),N(u,"title","Add Trigger"),N(n,"class","svelte-187gm9u"),N(t,"class","header svelte-187gm9u"),N(g,"class","container svelte-187gm9u")},m(H,W){k(H,l,W),k(H,t,W),w(t,n),w(n,s),w(n,f),w(n,r),w(r,c),w(n,_),w(n,u),w(u,v),w(v,h),w(t,D),w(t,E),k(H,O,W),k(H,g,W);for(let x=0;x<I.length;x+=1)I[x]&&I[x].m(g,null);w(g,J),Y&&Y.m(g,null),k(H,b,W),Q($,H,W),m=!0,p||(M=F(u,"click",i[9]),p=!0)},p(H,[W]){(!m||W&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+H[1].name)&&(document.title=e),(!m||W&2)&&o!==(o=H[1].name+"")&&Z(s,o),(!m||W&2&&a!==(a="/skill/"+H[1].name+"/edit"))&&N(r,"href",a),W&98&&(z=H[1].triggers,te(),I=St(I,W,B,1,H,z,q,g,Vt,Et,J,wt),le()),H[1].triggers.length==0?Y||(Y=yt(),Y.c(),Y.m(g,null)):Y&&(Y.d(1),Y=null);const x={};W&8388621&&(x.$$scope={dirty:W,ctx:H}),!S&&W&4&&(S=!0,x.open=H[2],se(()=>S=!1)),$.$set(x)},i(H){if(!m){for(let W=0;W<z.length;W+=1)P(I[W]);P($.$$.fragment,H),m=!0}},o(H){for(let W=0;W<I.length;W+=1)R(I[W]);R($.$$.fragment,H),m=!1},d(H){H&&d(l),H&&d(t),H&&d(O),H&&d(g);for(let W=0;W<I.length;W+=1)I[W].d();Y&&Y.d(),H&&d(b),U($,H),p=!1,M()}}}function ql(i,e,l){let{data:t}=e,n,o=!1,s="",f=[],r,c={};Fe(()=>{r=Se.triggers.subscribe(I=>l(8,c=I));let g;g=Se.initialized.subscribe(I=>{I&&(g&&g(),_())})}),Ge(()=>{r&&r()});const a=g=>{n.triggers.push(g.detail),_(),setTimeout(()=>l(2,o=!1))},_=()=>{l(1,n.triggers=[...n.triggers],n),u()},u=()=>ze.set([...Ve(ze)]),v=()=>l(2,o=!0);function h(g){s=g,l(0,s)}const D=g=>a({detail:g.clone()}),E=()=>l(2,o=!1);function O(g){o=g,l(2,o)}return i.$$set=g=>{"data"in g&&l(7,t=g.data)},i.$$.update=()=>{i.$$.dirty&128&&t&&l(1,n=t.data),i.$$.dirty&257&&l(3,f=Object.keys(c).filter(g=>g.toLowerCase().includes(s.toLowerCase())).sort((g,I)=>(c[g].component.new().isDeprecated?0:-1)-(c[I].component.new().isDeprecated?0:-1)).map(g=>c[g].component.new()))},[s,n,o,f,a,_,u,t,c,v,h,D,E,O]}class Ol extends be{constructor(e){super(),$e(this,e,ql,Ml,we,{data:7})}}export{Ol as component,Ll as universal};
