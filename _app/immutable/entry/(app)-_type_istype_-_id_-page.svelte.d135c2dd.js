import{S as tt,i as lt,s as nt,w as le,H as ne,k as V,a as M,q as F,y as Z,l as C,m as N,c as R,h as _,r as J,z as x,n as S,p as ft,b,C as D,A as G,E as Y,J as fe,g as z,u as re,v as ue,d as U,f as _e,O as se,R as ct,B as K,F as it,a8 as ut,o as st,X as _t,P as ce,Z as oe,a2 as De,V as we,Q as ot,Y as dt,a1 as de,x as Ve,e as Ce,a9 as pt,a0 as mt,U as ht}from"../chunks/index.238df454.js";import{R as he,C as ke,E as Pe,t as He}from"../chunks/store.5c0409ba.js";import{M as Ee,b as Se,a as Ne,P as Te}from"../chunks/targets.0ec76563.js";import{s as ie,P as be,b as vt,T as rt}from"../chunks/ProInput.9b00df2a.js";function Ae(i,e,t){const n=i.slice();return n[41]=e[t],n}function Me(i,e,t){const n=i.slice();return n[44]=e[t],n}function Re(i,e,t){const n=i.slice();return n[47]=e[t],n}function Le(i,e,t){const n=i.slice();return n[50]=e[t],n[51]=e,n[52]=t,n}function Oe(i,e,t){const n=i.slice();return n[53]=e[t],n[54]=e,n[55]=t,n}function gt(i){let e,t,n;return{c(){e=V("span"),t=F("expand_less"),this.h()},l(l){e=C(l,"SPAN",{class:!0});var r=N(e);t=J(r,"expand_less"),r.forEach(_),this.h()},h(){S(e,"class","material-symbols-rounded svelte-3kwxiu")},m(l,r){b(l,e,r),D(e,t)},i(l){l&&(n||ce(()=>{n=ot(e,i[13],{duration:400}),n.start()}))},o:De,d(l){l&&_(e)}}}function kt(i){let e,t,n;return{c(){e=V("span"),t=F("expand_more"),this.h()},l(l){e=C(l,"SPAN",{class:!0});var r=N(e);t=J(r,"expand_more"),r.forEach(_),this.h()},h(){S(e,"class","material-symbols-rounded svelte-3kwxiu")},m(l,r){b(l,e,r),D(e,t)},i(l){l&&(n||ce(()=>{n=ot(e,i[13],{duration:400}),n.start()}))},o:De,d(l){l&&_(e)}}}function qe(i){let e,t,n,l,r,a,d,o,f,s,p=[],u=new Map,$,k,y,v,I,g=i[0].components;const L=w=>w[53].id;for(let w=0;w<g.length;w+=1){let A=Oe(i,g,w),T=L(A);u.set(T,p[w]=ye(T,A))}let j=i[0].isParent&&je(i);return{c(){e=V("div"),t=V("div"),n=F("content_copy"),r=M(),a=V("div"),d=F("delete"),f=M(),s=V("div");for(let w=0;w<p.length;w+=1)p[w].c();$=M(),j&&j.c(),this.h()},l(w){e=C(w,"DIV",{class:!0});var A=N(e);t=C(A,"DIV",{class:!0,title:!0});var T=N(t);n=J(T,"content_copy"),T.forEach(_),r=R(A),a=C(A,"DIV",{class:!0,title:!0});var q=N(a);d=J(q,"delete"),q.forEach(_),A.forEach(_),f=R(w),s=C(w,"DIV",{class:!0});var H=N(s);for(let c=0;c<p.length;c+=1)p[c].l(H);$=R(H),j&&j.l(H),H.forEach(_),this.h()},h(){S(t,"class","material-symbols-rounded control copy svelte-3kwxiu"),S(t,"title","Copy"),S(a,"class","material-symbols-rounded control delete svelte-3kwxiu"),S(a,"title","Delete"),S(e,"class","controls svelte-3kwxiu"),S(s,"class","children svelte-3kwxiu")},m(w,A){b(w,e,A),D(e,t),D(t,n),D(e,r),D(e,a),D(a,d),b(w,f,A),b(w,s,A);for(let T=0;T<p.length;T+=1)p[T]&&p[T].m(s,null);D(s,$),j&&j.m(s,null),y=!0,v||(I=[Y(t,"click",fe(i[18])),Y(a,"click",fe(i[19]))],v=!0)},p(w,A){A[0]&3&&(g=w[0].components,ue(),p=_t(p,A,L,1,w,g,u,s,dt,ye,$,Oe),_e()),w[0].isParent?j?j.p(w,A):(j=je(w),j.c(),j.m(s,null)):j&&(j.d(1),j=null)},i(w){if(!y){ce(()=>{y&&(l||(l=oe(t,ie,{},!0)),l.run(1))}),ce(()=>{y&&(o||(o=oe(a,ie,{},!0)),o.run(1))});for(let A=0;A<g.length;A+=1)z(p[A]);w&&ce(()=>{y&&(k||(k=oe(s,ie,{},!0)),k.run(1))}),y=!0}},o(w){l||(l=oe(t,ie,{},!1)),l.run(0),o||(o=oe(a,ie,{},!1)),o.run(0);for(let A=0;A<p.length;A+=1)U(p[A]);w&&(k||(k=oe(s,ie,{},!1)),k.run(0)),y=!1},d(w){w&&_(e),w&&l&&l.end(),w&&o&&o.end(),w&&_(f),w&&_(s);for(let A=0;A<p.length;A+=1)p[A].d();j&&j.d(),w&&k&&k.end(),v=!1,it(I)}}}function ye(i,e){let t,n,l,r,a;function d(f){e[20](f,e[53],e[54],e[55])}let o={skill:e[1]};return e[53]!==void 0&&(o.component=e[53]),n=new at({props:o}),le.push(()=>ne(n,"component",d)),n.$on("update",e[21]),n.$on("save",e[22]),{key:i,first:null,c(){t=V("span"),Z(n.$$.fragment),this.h()},l(f){t=C(f,"SPAN",{});var s=N(t);x(n.$$.fragment,s),s.forEach(_),this.h()},h(){this.first=t},m(f,s){b(f,t,s),G(n,t,null),a=!0},p(f,s){e=f;const p={};s[0]&2&&(p.skill=e[1]),!l&&s[0]&1&&(l=!0,p.component=e[53],se(()=>l=!1)),n.$set(p)},i(f){a||(z(n.$$.fragment,f),f&&ce(()=>{a&&(r||(r=oe(t,ie,{},!0)),r.run(1))}),a=!0)},o(f){U(n.$$.fragment,f),f&&(r||(r=oe(t,ie,{},!1)),r.run(0)),a=!1},d(f){f&&_(t),K(n),f&&r&&r.end()}}}function je(i){let e,t,n,l;return{c(){e=V("div"),t=F("+ Add Component"),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=N(e);t=J(a,"+ Add Component"),a.forEach(_),this.h()},h(){S(e,"class","chip svelte-3kwxiu")},m(r,a){b(r,e,a),D(e,t),n||(l=Y(e,"click",fe(i[23])),n=!0)},p:De,d(r){r&&_(e),n=!1,l()}}}function Be(i){let e,t=i[0].description+"",n;return{c(){e=V("div"),n=F(t)},l(l){e=C(l,"DIV",{});var r=N(e);n=J(r,t),r.forEach(_)},m(l,r){b(l,e,r),D(e,n)},p(l,r){r[0]&1&&t!==(t=l[0].description+"")&&re(n,t)},d(l){l&&_(e)}}}function ze(i){let e,t,n,l;return e=new be({props:{label:"Mana",$$slots:{default:[bt]},$$scope:{ctx:i}}}),n=new be({props:{label:"Cooldown",$$slots:{default:[$t]},$$scope:{ctx:i}}}),{c(){Z(e.$$.fragment),t=M(),Z(n.$$.fragment)},l(r){x(e.$$.fragment,r),t=R(r),x(n.$$.fragment,r)},m(r,a){G(e,r,a),b(r,t,a),G(n,r,a),l=!0},p(r,a){const d={};a[0]&1|a[1]&33554432&&(d.$$scope={dirty:a,ctx:r}),e.$set(d);const o={};a[0]&1|a[1]&33554432&&(o.$$scope={dirty:a,ctx:r}),n.$set(o)},i(r){l||(z(e.$$.fragment,r),z(n.$$.fragment,r),l=!0)},o(r){U(e.$$.fragment,r),U(n.$$.fragment,r),l=!1},d(r){K(e,r),r&&_(t),K(n,r)}}}function bt(i){let e,t,n;function l(a){i[27](a)}let r={};return i[0].mana!==void 0&&(r.data=i[0].mana),e=new rt({props:r}),le.push(()=>ne(e,"data",l)),{c(){Z(e.$$.fragment)},l(a){x(e.$$.fragment,a)},m(a,d){G(e,a,d),n=!0},p(a,d){const o={};!t&&d[0]&1&&(t=!0,o.data=a[0].mana,se(()=>t=!1)),e.$set(o)},i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){U(e.$$.fragment,a),n=!1},d(a){K(e,a)}}}function $t(i){let e,t,n;function l(a){i[28](a)}let r={};return i[0].cooldown!==void 0&&(r.data=i[0].cooldown),e=new rt({props:r}),le.push(()=>ne(e,"data",l)),{c(){Z(e.$$.fragment)},l(a){x(e.$$.fragment,a)},m(a,d){G(e,a,d),n=!0},p(a,d){const o={};!t&&d[0]&1&&(t=!0,o.data=a[0].cooldown,se(()=>t=!1)),e.$set(o)},i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){U(e.$$.fragment,a),n=!1},d(a){K(e,a)}}}function We(i){let e,t,n,l;function r(o){i[29](o,i[50])}var a=i[50].component;function d(o){let f={name:o[50].name,tooltip:o[50].tooltip};return o[50].data!==void 0&&(f.data=o[50].data),{props:f}}return a&&(e=Ve(a,d(i)),le.push(()=>ne(e,"data",r)),e.$on("save",i[30])),{c(){e&&Z(e.$$.fragment),n=Ce()},l(o){e&&x(e.$$.fragment,o),n=Ce()},m(o,f){e&&G(e,o,f),b(o,n,f),l=!0},p(o,f){i=o;const s={};if(f[0]&1&&(s.name=i[50].name),f[0]&1&&(s.tooltip=i[50].tooltip),!t&&f[0]&1&&(t=!0,s.data=i[50].data,se(()=>t=!1)),f[0]&1&&a!==(a=i[50].component)){if(e){ue();const p=e;U(p.$$.fragment,1,0,()=>{K(p,1)}),_e()}a?(e=Ve(a,d(i)),le.push(()=>ne(e,"data",r)),e.$on("save",i[30]),Z(e.$$.fragment),z(e.$$.fragment,1),G(e,n.parentNode,n)):e=null}else a&&e.$set(s)},i(o){l||(e&&z(e.$$.fragment,o),l=!0)},o(o){e&&U(e.$$.fragment,o),l=!1},d(o){o&&_(n),e&&K(e,o)}}}function wt(i){let e,t=i[0].name+"",n,l,r,a,d,o,f,s,p=i[0].description&&Be(i),u=i[0]instanceof ke&&ze(i),$=i[0].data,k=[];for(let v=0;v<$.length;v+=1)k[v]=We(Le(i,$,v));const y=v=>U(k[v],1,1,()=>{k[v]=null});return{c(){e=V("h2"),n=F(t),l=M(),p&&p.c(),r=M(),a=V("hr"),d=M(),o=V("div"),u&&u.c(),f=M();for(let v=0;v<k.length;v+=1)k[v].c();this.h()},l(v){e=C(v,"H2",{});var I=N(e);n=J(I,t),I.forEach(_),l=R(v),p&&p.l(v),r=R(v),a=C(v,"HR",{}),d=R(v),o=C(v,"DIV",{class:!0});var g=N(o);u&&u.l(g),f=R(g);for(let L=0;L<k.length;L+=1)k[L].l(g);g.forEach(_),this.h()},h(){S(o,"class","component-entry svelte-3kwxiu")},m(v,I){b(v,e,I),D(e,n),b(v,l,I),p&&p.m(v,I),b(v,r,I),b(v,a,I),b(v,d,I),b(v,o,I),u&&u.m(o,null),D(o,f);for(let g=0;g<k.length;g+=1)k[g]&&k[g].m(o,null);s=!0},p(v,I){if((!s||I[0]&1)&&t!==(t=v[0].name+"")&&re(n,t),v[0].description?p?p.p(v,I):(p=Be(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null),v[0]instanceof ke?u?(u.p(v,I),I[0]&1&&z(u,1)):(u=ze(v),u.c(),z(u,1),u.m(o,f)):u&&(ue(),U(u,1,1,()=>{u=null}),_e()),I[0]&1){$=v[0].data;let g;for(g=0;g<$.length;g+=1){const L=Le(v,$,g);k[g]?(k[g].p(L,I),z(k[g],1)):(k[g]=We(L),k[g].c(),z(k[g],1),k[g].m(o,null))}for(ue(),g=$.length;g<k.length;g+=1)y(g);_e()}},i(v){if(!s){z(u);for(let I=0;I<$.length;I+=1)z(k[I]);s=!0}},o(v){U(u),k=k.filter(Boolean);for(let I=0;I<k.length;I+=1)U(k[I]);s=!1},d(v){v&&_(e),v&&_(l),p&&p.d(v),v&&_(r),v&&_(a),v&&_(d),v&&_(o),u&&u.d(),de(k,v)}}}function Fe(i){let e,t,n,l,r,a,d,o=i[7],f=[];for(let s=0;s<o.length;s+=1)f[s]=Je(Re(i,o,s));return{c(){e=V("hr"),t=M(),n=V("div"),l=V("h3"),r=F("Conditions"),a=M(),d=V("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){e=C(s,"HR",{}),t=R(s),n=C(s,"DIV",{class:!0});var p=N(n);l=C(p,"H3",{class:!0});var u=N(l);r=J(u,"Conditions"),u.forEach(_),p.forEach(_),a=R(s),d=C(s,"DIV",{class:!0});var $=N(d);for(let k=0;k<f.length;k+=1)f[k].l($);$.forEach(_),this.h()},h(){S(l,"class","svelte-3kwxiu"),S(n,"class","comp-modal-header svelte-3kwxiu"),S(d,"class","triggers")},m(s,p){b(s,e,p),b(s,t,p),b(s,n,p),D(n,l),D(l,r),b(s,a,p),b(s,d,p);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(d,null)},p(s,p){if(p[0]&2176){o=s[7];let u;for(u=0;u<o.length;u+=1){const $=Re(s,o,u);f[u]?f[u].p($,p):(f[u]=Je($),f[u].c(),f[u].m(d,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(a),s&&_(d),de(f,s)}}}function Je(i){let e,t=i[47].name+"",n,l,r;function a(){return i[33](i[47])}return{c(){e=V("div"),n=F(t),this.h()},l(d){e=C(d,"DIV",{class:!0});var o=N(e);n=J(o,t),o.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(d,o){b(d,e,o),D(e,n),l||(r=Y(e,"click",a),l=!0)},p(d,o){i=d,o[0]&128&&t!==(t=i[47].name+"")&&re(n,t)},d(d){d&&_(e),l=!1,r()}}}function Qe(i){let e,t,n,l,r,a,d,o=i[6],f=[];for(let s=0;s<o.length;s+=1)f[s]=Ue(Me(i,o,s));return{c(){e=V("hr"),t=M(),n=V("div"),l=V("h3"),r=F("Targets"),a=M(),d=V("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){e=C(s,"HR",{}),t=R(s),n=C(s,"DIV",{class:!0});var p=N(n);l=C(p,"H3",{class:!0});var u=N(l);r=J(u,"Targets"),u.forEach(_),p.forEach(_),a=R(s),d=C(s,"DIV",{class:!0});var $=N(d);for(let k=0;k<f.length;k+=1)f[k].l($);$.forEach(_),this.h()},h(){S(l,"class","svelte-3kwxiu"),S(n,"class","comp-modal-header svelte-3kwxiu"),S(d,"class","triggers")},m(s,p){b(s,e,p),b(s,t,p),b(s,n,p),D(n,l),D(l,r),b(s,a,p),b(s,d,p);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(d,null)},p(s,p){if(p[0]&2112){o=s[6];let u;for(u=0;u<o.length;u+=1){const $=Me(s,o,u);f[u]?f[u].p($,p):(f[u]=Ue($),f[u].c(),f[u].m(d,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(a),s&&_(d),de(f,s)}}}function Ue(i){let e,t=i[44].name+"",n,l,r;function a(){return i[34](i[44])}return{c(){e=V("div"),n=F(t),this.h()},l(d){e=C(d,"DIV",{class:!0});var o=N(e);n=J(o,t),o.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(d,o){b(d,e,o),D(e,n),l||(r=Y(e,"click",a),l=!0)},p(d,o){i=d,o[0]&64&&t!==(t=i[44].name+"")&&re(n,t)},d(d){d&&_(e),l=!1,r()}}}function Xe(i){let e,t,n,l,r,a,d,o=i[8],f=[];for(let s=0;s<o.length;s+=1)f[s]=Ye(Ae(i,o,s));return{c(){e=V("hr"),t=M(),n=V("div"),l=V("h3"),r=F("Mechanics"),a=M(),d=V("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){e=C(s,"HR",{}),t=R(s),n=C(s,"DIV",{class:!0});var p=N(n);l=C(p,"H3",{class:!0});var u=N(l);r=J(u,"Mechanics"),u.forEach(_),p.forEach(_),a=R(s),d=C(s,"DIV",{class:!0});var $=N(d);for(let k=0;k<f.length;k+=1)f[k].l($);$.forEach(_),this.h()},h(){S(l,"class","svelte-3kwxiu"),S(n,"class","comp-modal-header svelte-3kwxiu"),S(d,"class","triggers")},m(s,p){b(s,e,p),b(s,t,p),b(s,n,p),D(n,l),D(l,r),b(s,a,p),b(s,d,p);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(d,null)},p(s,p){if(p[0]&2304){o=s[8];let u;for(u=0;u<o.length;u+=1){const $=Ae(s,o,u);f[u]?f[u].p($,p):(f[u]=Ye($),f[u].c(),f[u].m(d,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(a),s&&_(d),de(f,s)}}}function Ye(i){let e,t=i[41].name+"",n,l,r;function a(){return i[35](i[41])}return{c(){e=V("div"),n=F(t),this.h()},l(d){e=C(d,"DIV",{class:!0});var o=N(e);n=J(o,t),o.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(d,o){b(d,e,o),D(e,n),l||(r=Y(e,"click",a),l=!0)},p(d,o){i=d,o[0]&256&&t!==(t=i[41].name+"")&&re(n,t)},d(d){d&&_(e),l=!1,r()}}}function Et(i){let e,t,n,l,r,a,d,o,f,s,p,u,$,k,y,v,I,g,L,j;function w(c){i[32](c)}let A={placeholder:"Search..."};i[3]!==void 0&&(A.value=i[3]),o=new be({props:A}),le.push(()=>ne(o,"value",w));let T=i[7].length>0&&Fe(i),q=i[6].length>0&&Qe(i),H=i[8].length>0&&Xe(i);return{c(){e=V("div"),t=V("div"),n=M(),l=V("h2"),r=F("Add a Component"),a=M(),d=V("div"),Z(o.$$.fragment),s=M(),T&&T.c(),p=M(),q&&q.c(),u=M(),H&&H.c(),$=M(),k=V("hr"),y=M(),v=V("div"),I=F("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var h=N(e);t=C(h,"DIV",{}),N(t).forEach(_),n=R(h),l=C(h,"H2",{});var Q=N(l);r=J(Q,"Add a Component"),Q.forEach(_),a=R(h),d=C(h,"DIV",{class:!0});var O=N(d);x(o.$$.fragment,O),O.forEach(_),h.forEach(_),s=R(c),T&&T.l(c),p=R(c),q&&q.l(c),u=R(c),H&&H.l(c),$=R(c),k=C(c,"HR",{}),y=R(c),v=C(c,"DIV",{class:!0});var X=N(v);I=J(X,"Cancel"),X.forEach(_),this.h()},h(){S(d,"class","search-bar"),S(e,"class","modal-header-wrapper"),S(v,"class","cancel")},m(c,h){b(c,e,h),D(e,t),D(e,n),D(e,l),D(l,r),D(e,a),D(e,d),G(o,d,null),b(c,s,h),T&&T.m(c,h),b(c,p,h),q&&q.m(c,h),b(c,u,h),H&&H.m(c,h),b(c,$,h),b(c,k,h),b(c,y,h),b(c,v,h),D(v,I),g=!0,L||(j=Y(v,"click",i[36]),L=!0)},p(c,h){const Q={};!f&&h[0]&8&&(f=!0,Q.value=c[3],se(()=>f=!1)),o.$set(Q),c[7].length>0?T?T.p(c,h):(T=Fe(c),T.c(),T.m(p.parentNode,p)):T&&(T.d(1),T=null),c[6].length>0?q?q.p(c,h):(q=Qe(c),q.c(),q.m(u.parentNode,u)):q&&(q.d(1),q=null),c[8].length>0?H?H.p(c,h):(H=Xe(c),H.c(),H.m($.parentNode,$)):H&&(H.d(1),H=null)},i(c){g||(z(o.$$.fragment,c),g=!0)},o(c){U(o.$$.fragment,c),g=!1},d(c){c&&_(e),K(o),c&&_(s),T&&T.d(c),c&&_(p),q&&q.d(c),c&&_(u),H&&H.d(c),c&&_($),c&&_(k),c&&_(y),c&&_(v),L=!1,j()}}}function Dt(i){let e,t,n,l,r,a,d,o=i[10]()+"",f,s,p=i[0].name+"",u,$,k,y,v,I,g,L,j,w,A,T;function q(m,P){return m[5]?kt:gt}let H=q(i),c=H(i),h=!i[5]&&qe(i);function Q(m){i[31](m)}let O={width:"70%",$$slots:{default:[wt]},$$scope:{ctx:i}};i[2]!==void 0&&(O.open=i[2]),v=new Ee({props:O}),le.push(()=>ne(v,"open",Q));function X(m){i[37](m)}let ee={width:"70%",$$slots:{default:[Et]},$$scope:{ctx:i}};return i[4]!==void 0&&(ee.open=i[4]),L=new Ee({props:ee}),le.push(()=>ne(L,"open",X)),{c(){e=V("div"),t=V("div"),c.c(),n=M(),l=V("div"),r=M(),a=V("div"),d=V("span"),f=F(o),s=F(": "),u=F(p),$=M(),h&&h.c(),y=M(),Z(v.$$.fragment),g=M(),Z(L.$$.fragment),this.h()},l(m){e=C(m,"DIV",{class:!0});var P=N(e);t=C(P,"DIV",{draggable:!0,class:!0});var W=N(t);c.l(W),n=R(W),l=C(W,"DIV",{class:!0}),N(l).forEach(_),r=R(W),a=C(W,"DIV",{class:!0});var B=N(a);d=C(B,"SPAN",{class:!0});var te=N(d);f=J(te,o),te.forEach(_),s=J(B,": "),u=J(B,p),B.forEach(_),$=R(W),h&&h.l(W),W.forEach(_),P.forEach(_),y=R(m),x(v.$$.fragment,m),g=R(m),x(L.$$.fragment,m),this.h()},h(){S(l,"class","corner svelte-3kwxiu"),S(d,"class","svelte-3kwxiu"),S(a,"class","name svelte-3kwxiu"),S(t,"draggable","true"),S(t,"class","comp-body svelte-3kwxiu"),ft(t,"--comp-color",i[12]()),S(e,"class","wrapper svelte-3kwxiu")},m(m,P){b(m,e,P),D(e,t),c.m(t,null),D(t,n),D(t,l),D(t,r),D(t,a),D(a,d),D(d,f),D(a,s),D(a,u),D(t,$),h&&h.m(t,null),b(m,y,P),G(v,m,P),b(m,g,P),G(L,m,P),w=!0,A||(T=[Y(l,"click",fe(i[17])),Y(t,"dragstart",fe(i[24])),Y(t,"dragend",i[25]),Y(t,"click",fe(i[26]))],A=!0)},p(m,P){H!==(H=q(m))&&(c.d(1),c=H(m),c&&(c.c(),z(c,1),c.m(t,n))),(!w||P[0]&1)&&p!==(p=m[0].name+"")&&re(u,p),m[5]?h&&(ue(),U(h,1,1,()=>{h=null}),_e()):h?(h.p(m,P),P[0]&32&&z(h,1)):(h=qe(m),h.c(),z(h,1),h.m(t,null));const W={};P[0]&1|P[1]&33554432&&(W.$$scope={dirty:P,ctx:m}),!I&&P[0]&4&&(I=!0,W.open=m[2],se(()=>I=!1)),v.$set(W);const B={};P[0]&472|P[1]&33554432&&(B.$$scope={dirty:P,ctx:m}),!j&&P[0]&16&&(j=!0,B.open=m[4],se(()=>j=!1)),L.$set(B)},i(m){w||(z(c),z(h),k&&k.end(1),z(v.$$.fragment,m),z(L.$$.fragment,m),w=!0)},o(m){U(h),k=ct(t,ie,{}),U(v.$$.fragment,m),U(L.$$.fragment,m),w=!1},d(m){m&&_(e),c.d(),h&&h.d(),m&&k&&k.end(),m&&_(y),K(v,m),m&&_(g),K(L,m),A=!1,it(T)}}}function It(i,e,t){let{skill:n}=e,{component:l}=e;const r=ut();let a=!1,d=!1,o=!1,f="",s={},p={},u={},$,k,y;st(()=>{he.targets.subscribe(E=>t(14,s=E)),he.conditions.subscribe(E=>t(15,p=E)),he.mechanics.subscribe(E=>t(16,u=E))});const v=()=>l instanceof ke?"Trigger":l instanceof Se?"Condition":l instanceof Ne?"Target":l instanceof Te?"Mechanic":"???",I=E=>{t(0,l.components=[...l.components,E],l),t(4,d=!1),t(3,f=""),r("save")},g=()=>l instanceof ke?"#0083ef":l instanceof Se?"#feac00":l instanceof Ne?"#04af38":l instanceof Te?"#ff3a3a":"orange",L=(E,{duration:me})=>({duration:me,css:$e=>`transform: rotate(${180-vt($e)*180}deg);`}),j=()=>t(5,o=!o),w=()=>console.log("clicked copy"),A=()=>{n.removeComponent(l),r("update")};function T(E,me,$e,Ie){$e[Ie]=E,t(0,l)}function q(E){we.call(this,i,E)}function H(E){we.call(this,i,E)}const c=()=>t(4,d=!0),h=()=>Pe.set(l),Q=()=>Pe.set(void 0),O=()=>t(2,a=!0);function X(E){i.$$.not_equal(l.mana,E)&&(l.mana=E,t(0,l))}function ee(E){i.$$.not_equal(l.cooldown,E)&&(l.cooldown=E,t(0,l))}function m(E,me){i.$$.not_equal(me.data,E)&&(me.data=E,t(0,l))}function P(E){we.call(this,i,E)}function W(E){a=E,t(2,a)}function B(E){f=E,t(3,f)}const te=E=>I(E),ve=E=>I(E),ge=E=>I(E),ae=()=>t(4,d=!1);function pe(E){d=E,t(4,d)}return i.$$set=E=>{"skill"in E&&t(1,n=E.skill),"component"in E&&t(0,l=E.component)},i.$$.update=()=>{i.$$.dirty[0]&114696&&(t(6,$=Object.keys(s).filter(E=>E.toLowerCase().includes(f.toLowerCase())).sort().map(E=>s[E].component.new())),t(7,k=Object.keys(p).filter(E=>E.toLowerCase().includes(f.toLowerCase())).sort().map(E=>p[E].component.new())),t(8,y=Object.keys(u).filter(E=>E.toLowerCase().includes(f.toLowerCase())).sort().map(E=>u[E].component.new()))),i.$$.dirty[0]&1&&l&&r("save"),i.$$.dirty[0]&5&&a&&l&&l.data.filter(E=>E.dataSource).forEach(E=>E.init())},[l,n,a,f,d,o,$,k,y,r,v,I,g,L,s,p,u,j,w,A,T,q,H,c,h,Q,O,X,ee,m,P,W,B,te,ve,ge,ae,pe]}class at extends tt{constructor(e){super(),lt(this,e,It,Dt,nt,{skill:1,component:0},null,[-1,-1])}}function Ze(i,e,t){const n=i.slice();return n[17]=e[t],n}function Ge(i,e,t){const n=i.slice();return n[20]=e[t],n}function Ke(i){let e,t,n;return t=new at({props:{skill:i[1],component:i[20]}}),t.$on("update",i[5]),t.$on("save",i[6]),{c(){e=V("div"),Z(t.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0});var r=N(e);x(t.$$.fragment,r),r.forEach(_),this.h()},h(){S(e,"class","widget svelte-4lo1mc")},m(l,r){b(l,e,r),G(t,e,null),n=!0},p(l,r){const a={};r&2&&(a.skill=l[1]),r&2&&(a.component=l[20]),t.$set(a)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){U(t.$$.fragment,l),n=!1},d(l){l&&_(e),K(t)}}}function xe(i){let e,t;return{c(){e=V("div"),t=F("No triggers added yet.")},l(n){e=C(n,"DIV",{});var l=N(e);t=J(l,"No triggers added yet."),l.forEach(_)},m(n,l){b(n,e,l),D(e,t)},d(n){n&&_(e)}}}function et(i){let e,t=i[17].name+"",n,l,r,a;function d(){return i[11](i[17])}return{c(){e=V("div"),n=F(t),l=M(),this.h()},l(o){e=C(o,"DIV",{class:!0});var f=N(e);n=J(f,t),l=R(f),f.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(o,f){b(o,e,f),D(e,n),D(e,l),r||(a=Y(e,"click",d),r=!0)},p(o,f){i=o,f&8&&t!==(t=i[17].name+"")&&re(n,t)},d(o){o&&_(e),r=!1,a()}}}function Vt(i){let e,t,n,l,r,a,d,o,f,s,p,u,$,k,y,v,I,g,L,j,w;function A(c){i[10](c)}let T={placeholder:"Search..."};i[0]!==void 0&&(T.value=i[0]),o=new be({props:T}),le.push(()=>ne(o,"value",A));let q=i[3],H=[];for(let c=0;c<q.length;c+=1)H[c]=et(Ze(i,q,c));return{c(){e=V("div"),t=V("div"),n=M(),l=V("h2"),r=F("Select New Trigger"),a=M(),d=V("div"),Z(o.$$.fragment),s=M(),p=V("hr"),u=M(),$=V("div");for(let c=0;c<H.length;c+=1)H[c].c();k=M(),y=V("hr"),v=M(),I=V("div"),g=F("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var h=N(e);t=C(h,"DIV",{}),N(t).forEach(_),n=R(h),l=C(h,"H2",{class:!0});var Q=N(l);r=J(Q,"Select New Trigger"),Q.forEach(_),a=R(h),d=C(h,"DIV",{class:!0});var O=N(d);x(o.$$.fragment,O),O.forEach(_),h.forEach(_),s=R(c),p=C(c,"HR",{}),u=R(c),$=C(c,"DIV",{class:!0});var X=N($);for(let m=0;m<H.length;m+=1)H[m].l(X);X.forEach(_),k=R(c),y=C(c,"HR",{}),v=R(c),I=C(c,"DIV",{class:!0});var ee=N(I);g=J(ee,"Cancel"),ee.forEach(_),this.h()},h(){S(l,"class","modal-header svelte-4lo1mc"),S(d,"class","search-bar"),S(e,"class","modal-header-wrapper"),S($,"class","triggers"),S(I,"class","cancel")},m(c,h){b(c,e,h),D(e,t),D(e,n),D(e,l),D(l,r),D(e,a),D(e,d),G(o,d,null),b(c,s,h),b(c,p,h),b(c,u,h),b(c,$,h);for(let Q=0;Q<H.length;Q+=1)H[Q]&&H[Q].m($,null);b(c,k,h),b(c,y,h),b(c,v,h),b(c,I,h),D(I,g),L=!0,j||(w=Y(I,"click",i[12]),j=!0)},p(c,h){const Q={};if(!f&&h&1&&(f=!0,Q.value=c[0],se(()=>f=!1)),o.$set(Q),h&24){q=c[3];let O;for(O=0;O<q.length;O+=1){const X=Ze(c,q,O);H[O]?H[O].p(X,h):(H[O]=et(X),H[O].c(),H[O].m($,null))}for(;O<H.length;O+=1)H[O].d(1);H.length=q.length}},i(c){L||(z(o.$$.fragment,c),L=!0)},o(c){U(o.$$.fragment,c),L=!1},d(c){c&&_(e),K(o),c&&_(s),c&&_(p),c&&_(u),c&&_($),de(H,c),c&&_(k),c&&_(y),c&&_(v),c&&_(I),j=!1,w()}}}function Ct(i){let e,t,n,l,r=i[1].name+"",a,d,o,f,s,p,u,$,k,y,v,I,g,L,j,w,A,T,q,H;document.title=e="ProSkillAPI Dynamic Editor - "+i[1].name;let c=i[1].triggers,h=[];for(let m=0;m<c.length;m+=1)h[m]=Ke(Ge(i,c,m));const Q=m=>U(h[m],1,1,()=>{h[m]=null});let O=i[1].triggers.length==0&&xe();function X(m){i[13](m)}let ee={$$slots:{default:[Vt]},$$scope:{ctx:i}};return i[2]!==void 0&&(ee.open=i[2]),w=new Ee({props:ee}),le.push(()=>ne(w,"open",X)),{c(){t=M(),n=V("div"),l=V("h2"),a=F(r),d=M(),o=V("a"),f=F("edit"),p=M(),u=V("div"),$=V("span"),k=F("new_label"),y=M(),v=V("hr"),I=M(),g=V("div");for(let m=0;m<h.length;m+=1)h[m].c();L=M(),O&&O.c(),j=M(),Z(w.$$.fragment),this.h()},l(m){pt("svelte-r5m1v8",document.head).forEach(_),t=R(m),n=C(m,"DIV",{class:!0});var W=N(n);l=C(W,"H2",{class:!0});var B=N(l);a=J(B,r),d=R(B),o=C(B,"A",{class:!0,title:!0,href:!0});var te=N(o);f=J(te,"edit"),te.forEach(_),p=R(B),u=C(B,"DIV",{class:!0,title:!0});var ve=N(u);$=C(ve,"SPAN",{class:!0});var ge=N($);k=J(ge,"new_label"),ge.forEach(_),ve.forEach(_),B.forEach(_),W.forEach(_),y=R(m),v=C(m,"HR",{}),I=R(m),g=C(m,"DIV",{class:!0});var ae=N(g);for(let pe=0;pe<h.length;pe+=1)h[pe].l(ae);L=R(ae),O&&O.l(ae),ae.forEach(_),j=R(m),x(w.$$.fragment,m),this.h()},h(){S(o,"class","material-symbols-rounded edit-skill chip svelte-4lo1mc"),S(o,"title","Edit"),S(o,"href",s="/skill/"+i[1].name+"/edit"),S($,"class","material-symbols-rounded"),S(u,"class","add-trigger chip svelte-4lo1mc"),S(u,"title","Add Trigger"),S(l,"class","svelte-4lo1mc"),S(n,"class","header svelte-4lo1mc"),S(g,"class","container svelte-4lo1mc")},m(m,P){b(m,t,P),b(m,n,P),D(n,l),D(l,a),D(l,d),D(l,o),D(o,f),D(l,p),D(l,u),D(u,$),D($,k),b(m,y,P),b(m,v,P),b(m,I,P),b(m,g,P);for(let W=0;W<h.length;W+=1)h[W]&&h[W].m(g,null);D(g,L),O&&O.m(g,null),b(m,j,P),G(w,m,P),T=!0,q||(H=Y(u,"click",i[9]),q=!0)},p(m,[P]){if((!T||P&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+m[1].name)&&(document.title=e),(!T||P&2)&&r!==(r=m[1].name+"")&&re(a,r),(!T||P&2&&s!==(s="/skill/"+m[1].name+"/edit"))&&S(o,"href",s),P&98){c=m[1].triggers;let B;for(B=0;B<c.length;B+=1){const te=Ge(m,c,B);h[B]?(h[B].p(te,P),z(h[B],1)):(h[B]=Ke(te),h[B].c(),z(h[B],1),h[B].m(g,L))}for(ue(),B=c.length;B<h.length;B+=1)Q(B);_e()}m[1].triggers.length==0?O||(O=xe(),O.c(),O.m(g,null)):O&&(O.d(1),O=null);const W={};P&8388621&&(W.$$scope={dirty:P,ctx:m}),!A&&P&4&&(A=!0,W.open=m[2],se(()=>A=!1)),w.$set(W)},i(m){if(!T){for(let P=0;P<c.length;P+=1)z(h[P]);z(w.$$.fragment,m),T=!0}},o(m){h=h.filter(Boolean);for(let P=0;P<h.length;P+=1)U(h[P]);U(w.$$.fragment,m),T=!1},d(m){m&&_(t),m&&_(n),m&&_(y),m&&_(v),m&&_(I),m&&_(g),de(h,m),O&&O.d(),m&&_(j),K(w,m),q=!1,H()}}}function Pt(i,e,t){let{data:n}=e,l,r=!1,a="",d,o,f={};st(()=>{o=he.triggers.subscribe(L=>t(8,f=L));let g;g=he.initialized.subscribe(L=>{L&&(g&&g(),p())})}),mt(()=>{o&&o()});const s=g=>{l.triggers.push(g.detail),p(),setTimeout(()=>t(2,r=!1))},p=()=>{t(1,l.triggers=[...l.triggers],l),u()},u=()=>He.set([...ht(He)]),$=()=>t(2,r=!0);function k(g){a=g,t(0,a)}const y=g=>s({detail:g.clone()}),v=()=>t(2,r=!1);function I(g){r=g,t(2,r)}return i.$$set=g=>{"data"in g&&t(7,n=g.data)},i.$$.update=()=>{i.$$.dirty&128&&n&&t(1,l=n.data),i.$$.dirty&257&&t(3,d=Object.keys(f).filter(g=>g.toLowerCase().includes(a.toLowerCase())).sort().map(g=>f[g].component.new()))},[a,l,r,d,s,p,u,n,f,$,k,y,v,I]}class At extends tt{constructor(e){super(),lt(this,e,Pt,Ct,nt,{data:7})}}export{At as default};
