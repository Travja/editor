import{S as tt,i as lt,s as nt,w as ne,H as ie,k as D,a as S,q as W,y as Y,l as I,m as H,c as R,h as _,r as z,z as x,n as M,p as at,b as k,C as E,A as Z,E as X,J as ce,g as J,u as ae,v as _e,d as K,f as de,O as oe,R as ft,B as G,F as it,a9 as ct,X as ut,P as ue,Z as re,a2 as $e,V as ge,Q as st,Y as _t,a1 as pe,x as we,e as Ee,a8 as dt,U as pt}from"../chunks/index.1ee62562.js";import{H as De,I as Ie,M as Ve,b as se,J as me,K as Ce,L as Pe,N as Ae,O as Me,Q as ve,R as ht,T as ot,S as He,w as Te}from"../chunks/store.67b942d2.js";import{M as ke}from"../chunks/Modal.b494ef9a.js";function Ne(i,e,t){const n=i.slice();return n[35]=e[t],n}function Se(i,e,t){const n=i.slice();return n[38]=e[t],n}function Re(i,e,t){const n=i.slice();return n[41]=e[t],n}function Le(i,e,t){const n=i.slice();return n[44]=e[t],n[45]=e,n[46]=t,n}function Oe(i,e,t){const n=i.slice();return n[47]=e[t],n[48]=e,n[49]=t,n}function mt(i){let e,t,n;return{c(){e=D("span"),t=W("expand_less"),this.h()},l(l){e=I(l,"SPAN",{class:!0});var r=H(e);t=z(r,"expand_less"),r.forEach(_),this.h()},h(){M(e,"class","material-symbols-rounded svelte-3kwxiu")},m(l,r){k(l,e,r),E(e,t)},i(l){l&&(n||ue(()=>{n=st(e,i[13],{duration:400}),n.start()}))},o:$e,d(l){l&&_(e)}}}function vt(i){let e,t,n;return{c(){e=D("span"),t=W("expand_more"),this.h()},l(l){e=I(l,"SPAN",{class:!0});var r=H(e);t=z(r,"expand_more"),r.forEach(_),this.h()},h(){M(e,"class","material-symbols-rounded svelte-3kwxiu")},m(l,r){k(l,e,r),E(e,t)},i(l){l&&(n||ue(()=>{n=st(e,i[13],{duration:400}),n.start()}))},o:$e,d(l){l&&_(e)}}}function qe(i){let e,t,n,l,r,a,d,o,c,s,p=[],u=new Map,$,g,y,m,C,b=i[0].components;const O=w=>w[47].id;for(let w=0;w<b.length;w+=1){let N=Oe(i,b,w),T=O(N);u.set(T,p[w]=je(T,N))}let j=i[0].isParent&&ye(i);return{c(){e=D("div"),t=D("div"),n=W("content_copy"),r=S(),a=D("div"),d=W("delete"),c=S(),s=D("div");for(let w=0;w<p.length;w+=1)p[w].c();$=S(),j&&j.c(),this.h()},l(w){e=I(w,"DIV",{class:!0});var N=H(e);t=I(N,"DIV",{class:!0,title:!0});var T=H(t);n=z(T,"content_copy"),T.forEach(_),r=R(N),a=I(N,"DIV",{class:!0,title:!0});var q=H(a);d=z(q,"delete"),q.forEach(_),N.forEach(_),c=R(w),s=I(w,"DIV",{class:!0});var A=H(s);for(let f=0;f<p.length;f+=1)p[f].l(A);$=R(A),j&&j.l(A),A.forEach(_),this.h()},h(){M(t,"class","material-symbols-rounded control copy svelte-3kwxiu"),M(t,"title","Copy"),M(a,"class","material-symbols-rounded control delete svelte-3kwxiu"),M(a,"title","Delete"),M(e,"class","controls svelte-3kwxiu"),M(s,"class","children svelte-3kwxiu")},m(w,N){k(w,e,N),E(e,t),E(t,n),E(e,r),E(e,a),E(a,d),k(w,c,N),k(w,s,N);for(let T=0;T<p.length;T+=1)p[T]&&p[T].m(s,null);E(s,$),j&&j.m(s,null),y=!0,m||(C=[X(t,"click",ce(i[15])),X(a,"click",ce(i[16]))],m=!0)},p(w,N){N[0]&3&&(b=w[0].components,_e(),p=ut(p,N,O,1,w,b,u,s,_t,je,$,Oe),de()),w[0].isParent?j?j.p(w,N):(j=ye(w),j.c(),j.m(s,null)):j&&(j.d(1),j=null)},i(w){if(!y){ue(()=>{y&&(l||(l=re(t,se,{},!0)),l.run(1))}),ue(()=>{y&&(o||(o=re(a,se,{},!0)),o.run(1))});for(let N=0;N<b.length;N+=1)J(p[N]);w&&ue(()=>{y&&(g||(g=re(s,se,{},!0)),g.run(1))}),y=!0}},o(w){l||(l=re(t,se,{},!1)),l.run(0),o||(o=re(a,se,{},!1)),o.run(0);for(let N=0;N<p.length;N+=1)K(p[N]);w&&(g||(g=re(s,se,{},!1)),g.run(0)),y=!1},d(w){w&&_(e),w&&l&&l.end(),w&&o&&o.end(),w&&_(c),w&&_(s);for(let N=0;N<p.length;N+=1)p[N].d();j&&j.d(),w&&g&&g.end(),m=!1,it(C)}}}function je(i,e){let t,n,l,r,a;function d(c){e[17](c,e[47],e[48],e[49])}let o={skill:e[1]};return e[47]!==void 0&&(o.component=e[47]),n=new rt({props:o}),ne.push(()=>ie(n,"component",d)),n.$on("update",e[18]),n.$on("save",e[19]),{key:i,first:null,c(){t=D("span"),Y(n.$$.fragment),this.h()},l(c){t=I(c,"SPAN",{});var s=H(t);x(n.$$.fragment,s),s.forEach(_),this.h()},h(){this.first=t},m(c,s){k(c,t,s),Z(n,t,null),a=!0},p(c,s){e=c;const p={};s[0]&2&&(p.skill=e[1]),!l&&s[0]&1&&(l=!0,p.component=e[47],oe(()=>l=!1)),n.$set(p)},i(c){a||(J(n.$$.fragment,c),c&&ue(()=>{a&&(r||(r=re(t,se,{},!0)),r.run(1))}),a=!0)},o(c){K(n.$$.fragment,c),c&&(r||(r=re(t,se,{},!1)),r.run(0)),a=!1},d(c){c&&_(t),G(n),c&&r&&r.end()}}}function ye(i){let e,t,n,l;return{c(){e=D("div"),t=W("+ Add Component"),this.h()},l(r){e=I(r,"DIV",{class:!0});var a=H(e);t=z(a,"+ Add Component"),a.forEach(_),this.h()},h(){M(e,"class","chip svelte-3kwxiu")},m(r,a){k(r,e,a),E(e,t),n||(l=X(e,"click",ce(i[20])),n=!0)},p:$e,d(r){r&&_(e),n=!1,l()}}}function Be(i){let e,t=i[0].description+"",n;return{c(){e=D("div"),n=W(t)},l(l){e=I(l,"DIV",{});var r=H(e);n=z(r,t),r.forEach(_)},m(l,r){k(l,e,r),E(e,n)},p(l,r){r[0]&1&&t!==(t=l[0].description+"")&&ae(n,t)},d(l){l&&_(e)}}}function Je(i){let e,t,n,l;return e=new ve({props:{label:"Mana",$$slots:{default:[gt]},$$scope:{ctx:i}}}),n=new ve({props:{label:"Cooldown",$$slots:{default:[kt]},$$scope:{ctx:i}}}),{c(){Y(e.$$.fragment),t=S(),Y(n.$$.fragment)},l(r){x(e.$$.fragment,r),t=R(r),x(n.$$.fragment,r)},m(r,a){Z(e,r,a),k(r,t,a),Z(n,r,a),l=!0},p(r,a){const d={};a[0]&1|a[1]&524288&&(d.$$scope={dirty:a,ctx:r}),e.$set(d);const o={};a[0]&1|a[1]&524288&&(o.$$scope={dirty:a,ctx:r}),n.$set(o)},i(r){l||(J(e.$$.fragment,r),J(n.$$.fragment,r),l=!0)},o(r){K(e.$$.fragment,r),K(n.$$.fragment,r),l=!1},d(r){G(e,r),r&&_(t),G(n,r)}}}function gt(i){let e,t,n;function l(a){i[24](a)}let r={};return i[0].mana!==void 0&&(r.data=i[0].mana),e=new ot({props:r}),ne.push(()=>ie(e,"data",l)),{c(){Y(e.$$.fragment)},l(a){x(e.$$.fragment,a)},m(a,d){Z(e,a,d),n=!0},p(a,d){const o={};!t&&d[0]&1&&(t=!0,o.data=a[0].mana,oe(()=>t=!1)),e.$set(o)},i(a){n||(J(e.$$.fragment,a),n=!0)},o(a){K(e.$$.fragment,a),n=!1},d(a){G(e,a)}}}function kt(i){let e,t,n;function l(a){i[25](a)}let r={};return i[0].cooldown!==void 0&&(r.data=i[0].cooldown),e=new ot({props:r}),ne.push(()=>ie(e,"data",l)),{c(){Y(e.$$.fragment)},l(a){x(e.$$.fragment,a)},m(a,d){Z(e,a,d),n=!0},p(a,d){const o={};!t&&d[0]&1&&(t=!0,o.data=a[0].cooldown,oe(()=>t=!1)),e.$set(o)},i(a){n||(J(e.$$.fragment,a),n=!0)},o(a){K(e.$$.fragment,a),n=!1},d(a){G(e,a)}}}function Qe(i){let e,t,n,l;function r(o){i[26](o,i[44])}var a=i[44].component;function d(o){let c={name:o[44].name,tooltip:o[44].tooltip};return o[44].data!==void 0&&(c.data=o[44].data),{props:c}}return a&&(e=we(a,d(i)),ne.push(()=>ie(e,"data",r)),e.$on("save",i[27])),{c(){e&&Y(e.$$.fragment),n=Ee()},l(o){e&&x(e.$$.fragment,o),n=Ee()},m(o,c){e&&Z(e,o,c),k(o,n,c),l=!0},p(o,c){i=o;const s={};if(c[0]&1&&(s.name=i[44].name),c[0]&1&&(s.tooltip=i[44].tooltip),!t&&c[0]&1&&(t=!0,s.data=i[44].data,oe(()=>t=!1)),c[0]&1&&a!==(a=i[44].component)){if(e){_e();const p=e;K(p.$$.fragment,1,0,()=>{G(p,1)}),de()}a?(e=we(a,d(i)),ne.push(()=>ie(e,"data",r)),e.$on("save",i[27]),Y(e.$$.fragment),J(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}else a&&e.$set(s)},i(o){l||(e&&J(e.$$.fragment,o),l=!0)},o(o){e&&K(e.$$.fragment,o),l=!1},d(o){o&&_(n),e&&G(e,o)}}}function $t(i){let e,t=i[0].name+"",n,l,r,a,d,o,c,s,p=i[0].description&&Be(i),u=i[0]instanceof me&&Je(i),$=i[0].data,g=[];for(let m=0;m<$.length;m+=1)g[m]=Qe(Le(i,$,m));const y=m=>K(g[m],1,1,()=>{g[m]=null});return{c(){e=D("h2"),n=W(t),l=S(),p&&p.c(),r=S(),a=D("hr"),d=S(),o=D("div"),u&&u.c(),c=S();for(let m=0;m<g.length;m+=1)g[m].c();this.h()},l(m){e=I(m,"H2",{});var C=H(e);n=z(C,t),C.forEach(_),l=R(m),p&&p.l(m),r=R(m),a=I(m,"HR",{}),d=R(m),o=I(m,"DIV",{class:!0});var b=H(o);u&&u.l(b),c=R(b);for(let O=0;O<g.length;O+=1)g[O].l(b);b.forEach(_),this.h()},h(){M(o,"class","component-entry svelte-3kwxiu")},m(m,C){k(m,e,C),E(e,n),k(m,l,C),p&&p.m(m,C),k(m,r,C),k(m,a,C),k(m,d,C),k(m,o,C),u&&u.m(o,null),E(o,c);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(o,null);s=!0},p(m,C){if((!s||C[0]&1)&&t!==(t=m[0].name+"")&&ae(n,t),m[0].description?p?p.p(m,C):(p=Be(m),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null),m[0]instanceof me?u?(u.p(m,C),C[0]&1&&J(u,1)):(u=Je(m),u.c(),J(u,1),u.m(o,c)):u&&(_e(),K(u,1,1,()=>{u=null}),de()),C[0]&1){$=m[0].data;let b;for(b=0;b<$.length;b+=1){const O=Le(m,$,b);g[b]?(g[b].p(O,C),J(g[b],1)):(g[b]=Qe(O),g[b].c(),J(g[b],1),g[b].m(o,null))}for(_e(),b=$.length;b<g.length;b+=1)y(b);de()}},i(m){if(!s){J(u);for(let C=0;C<$.length;C+=1)J(g[C]);s=!0}},o(m){K(u),g=g.filter(Boolean);for(let C=0;C<g.length;C+=1)K(g[C]);s=!1},d(m){m&&_(e),m&&_(l),p&&p.d(m),m&&_(r),m&&_(a),m&&_(d),m&&_(o),u&&u.d(),pe(g,m)}}}function We(i){let e,t,n,l,r,a,d,o=i[7],c=[];for(let s=0;s<o.length;s+=1)c[s]=ze(Re(i,o,s));return{c(){e=D("hr"),t=S(),n=D("div"),l=D("h3"),r=W("Conditions"),a=S(),d=D("div");for(let s=0;s<c.length;s+=1)c[s].c();this.h()},l(s){e=I(s,"HR",{}),t=R(s),n=I(s,"DIV",{class:!0});var p=H(n);l=I(p,"H3",{class:!0});var u=H(l);r=z(u,"Conditions"),u.forEach(_),p.forEach(_),a=R(s),d=I(s,"DIV",{class:!0});var $=H(d);for(let g=0;g<c.length;g+=1)c[g].l($);$.forEach(_),this.h()},h(){M(l,"class","svelte-3kwxiu"),M(n,"class","comp-modal-header svelte-3kwxiu"),M(d,"class","triggers")},m(s,p){k(s,e,p),k(s,t,p),k(s,n,p),E(n,l),E(l,r),k(s,a,p),k(s,d,p);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(d,null)},p(s,p){if(p[0]&2176){o=s[7];let u;for(u=0;u<o.length;u+=1){const $=Re(s,o,u);c[u]?c[u].p($,p):(c[u]=ze($),c[u].c(),c[u].m(d,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(a),s&&_(d),pe(c,s)}}}function ze(i){let e,t=i[41].name+"",n,l,r;function a(){return i[30](i[41])}return{c(){e=D("div"),n=W(t),this.h()},l(d){e=I(d,"DIV",{class:!0});var o=H(e);n=z(o,t),o.forEach(_),this.h()},h(){M(e,"class","comp-select")},m(d,o){k(d,e,o),E(e,n),l||(r=X(e,"click",a),l=!0)},p(d,o){i=d,o[0]&128&&t!==(t=i[41].name+"")&&ae(n,t)},d(d){d&&_(e),l=!1,r()}}}function Fe(i){let e,t,n,l,r,a,d,o=i[6],c=[];for(let s=0;s<o.length;s+=1)c[s]=Ke(Se(i,o,s));return{c(){e=D("hr"),t=S(),n=D("div"),l=D("h3"),r=W("Targets"),a=S(),d=D("div");for(let s=0;s<c.length;s+=1)c[s].c();this.h()},l(s){e=I(s,"HR",{}),t=R(s),n=I(s,"DIV",{class:!0});var p=H(n);l=I(p,"H3",{class:!0});var u=H(l);r=z(u,"Targets"),u.forEach(_),p.forEach(_),a=R(s),d=I(s,"DIV",{class:!0});var $=H(d);for(let g=0;g<c.length;g+=1)c[g].l($);$.forEach(_),this.h()},h(){M(l,"class","svelte-3kwxiu"),M(n,"class","comp-modal-header svelte-3kwxiu"),M(d,"class","triggers")},m(s,p){k(s,e,p),k(s,t,p),k(s,n,p),E(n,l),E(l,r),k(s,a,p),k(s,d,p);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(d,null)},p(s,p){if(p[0]&2112){o=s[6];let u;for(u=0;u<o.length;u+=1){const $=Se(s,o,u);c[u]?c[u].p($,p):(c[u]=Ke($),c[u].c(),c[u].m(d,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(a),s&&_(d),pe(c,s)}}}function Ke(i){let e,t=i[38].name+"",n,l,r;function a(){return i[31](i[38])}return{c(){e=D("div"),n=W(t),this.h()},l(d){e=I(d,"DIV",{class:!0});var o=H(e);n=z(o,t),o.forEach(_),this.h()},h(){M(e,"class","comp-select")},m(d,o){k(d,e,o),E(e,n),l||(r=X(e,"click",a),l=!0)},p(d,o){i=d,o[0]&64&&t!==(t=i[38].name+"")&&ae(n,t)},d(d){d&&_(e),l=!1,r()}}}function Ue(i){let e,t,n,l,r,a,d,o=i[8],c=[];for(let s=0;s<o.length;s+=1)c[s]=Xe(Ne(i,o,s));return{c(){e=D("hr"),t=S(),n=D("div"),l=D("h3"),r=W("Mechanics"),a=S(),d=D("div");for(let s=0;s<c.length;s+=1)c[s].c();this.h()},l(s){e=I(s,"HR",{}),t=R(s),n=I(s,"DIV",{class:!0});var p=H(n);l=I(p,"H3",{class:!0});var u=H(l);r=z(u,"Mechanics"),u.forEach(_),p.forEach(_),a=R(s),d=I(s,"DIV",{class:!0});var $=H(d);for(let g=0;g<c.length;g+=1)c[g].l($);$.forEach(_),this.h()},h(){M(l,"class","svelte-3kwxiu"),M(n,"class","comp-modal-header svelte-3kwxiu"),M(d,"class","triggers")},m(s,p){k(s,e,p),k(s,t,p),k(s,n,p),E(n,l),E(l,r),k(s,a,p),k(s,d,p);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(d,null)},p(s,p){if(p[0]&2304){o=s[8];let u;for(u=0;u<o.length;u+=1){const $=Ne(s,o,u);c[u]?c[u].p($,p):(c[u]=Xe($),c[u].c(),c[u].m(d,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(a),s&&_(d),pe(c,s)}}}function Xe(i){let e,t=i[35].name+"",n,l,r;function a(){return i[32](i[35])}return{c(){e=D("div"),n=W(t),this.h()},l(d){e=I(d,"DIV",{class:!0});var o=H(e);n=z(o,t),o.forEach(_),this.h()},h(){M(e,"class","comp-select")},m(d,o){k(d,e,o),E(e,n),l||(r=X(e,"click",a),l=!0)},p(d,o){i=d,o[0]&256&&t!==(t=i[35].name+"")&&ae(n,t)},d(d){d&&_(e),l=!1,r()}}}function bt(i){let e,t,n,l,r,a,d,o,c,s,p,u,$,g,y,m,C,b,O,j;function w(f){i[29](f)}let N={placeholder:"Search..."};i[3]!==void 0&&(N.value=i[3]),o=new ve({props:N}),ne.push(()=>ie(o,"value",w));let T=i[7].length>0&&We(i),q=i[6].length>0&&Fe(i),A=i[8].length>0&&Ue(i);return{c(){e=D("div"),t=D("div"),n=S(),l=D("h2"),r=W("Add a Component"),a=S(),d=D("div"),Y(o.$$.fragment),s=S(),T&&T.c(),p=S(),q&&q.c(),u=S(),A&&A.c(),$=S(),g=D("hr"),y=S(),m=D("div"),C=W("Cancel"),this.h()},l(f){e=I(f,"DIV",{class:!0});var v=H(e);t=I(v,"DIV",{}),H(t).forEach(_),n=R(v),l=I(v,"H2",{});var F=H(l);r=z(F,"Add a Component"),F.forEach(_),a=R(v),d=I(v,"DIV",{class:!0});var L=H(d);x(o.$$.fragment,L),L.forEach(_),v.forEach(_),s=R(f),T&&T.l(f),p=R(f),q&&q.l(f),u=R(f),A&&A.l(f),$=R(f),g=I(f,"HR",{}),y=R(f),m=I(f,"DIV",{class:!0});var U=H(m);C=z(U,"Cancel"),U.forEach(_),this.h()},h(){M(d,"class","search-bar"),M(e,"class","modal-header-wrapper"),M(m,"class","cancel")},m(f,v){k(f,e,v),E(e,t),E(e,n),E(e,l),E(l,r),E(e,a),E(e,d),Z(o,d,null),k(f,s,v),T&&T.m(f,v),k(f,p,v),q&&q.m(f,v),k(f,u,v),A&&A.m(f,v),k(f,$,v),k(f,g,v),k(f,y,v),k(f,m,v),E(m,C),b=!0,O||(j=X(m,"click",i[33]),O=!0)},p(f,v){const F={};!c&&v[0]&8&&(c=!0,F.value=f[3],oe(()=>c=!1)),o.$set(F),f[7].length>0?T?T.p(f,v):(T=We(f),T.c(),T.m(p.parentNode,p)):T&&(T.d(1),T=null),f[6].length>0?q?q.p(f,v):(q=Fe(f),q.c(),q.m(u.parentNode,u)):q&&(q.d(1),q=null),f[8].length>0?A?A.p(f,v):(A=Ue(f),A.c(),A.m($.parentNode,$)):A&&(A.d(1),A=null)},i(f){b||(J(o.$$.fragment,f),b=!0)},o(f){K(o.$$.fragment,f),b=!1},d(f){f&&_(e),G(o),f&&_(s),T&&T.d(f),f&&_(p),q&&q.d(f),f&&_(u),A&&A.d(f),f&&_($),f&&_(g),f&&_(y),f&&_(m),O=!1,j()}}}function wt(i){let e,t,n,l,r,a,d,o=i[10]()+"",c,s,p=i[0].name+"",u,$,g,y,m,C,b,O,j,w,N,T;function q(h,P){return h[5]?vt:mt}let A=q(i),f=A(i),v=!i[5]&&qe(i);function F(h){i[28](h)}let L={width:"70%",$$slots:{default:[$t]},$$scope:{ctx:i}};i[2]!==void 0&&(L.open=i[2]),m=new ke({props:L}),ne.push(()=>ie(m,"open",F));function U(h){i[34](h)}let ee={width:"70%",$$slots:{default:[bt]},$$scope:{ctx:i}};return i[4]!==void 0&&(ee.open=i[4]),O=new ke({props:ee}),ne.push(()=>ie(O,"open",U)),{c(){e=D("div"),t=D("div"),f.c(),n=S(),l=D("div"),r=S(),a=D("div"),d=D("span"),c=W(o),s=W(": "),u=W(p),$=S(),v&&v.c(),y=S(),Y(m.$$.fragment),b=S(),Y(O.$$.fragment),this.h()},l(h){e=I(h,"DIV",{class:!0});var P=H(e);t=I(P,"DIV",{draggable:!0,class:!0});var Q=H(t);f.l(Q),n=R(Q),l=I(Q,"DIV",{class:!0}),H(l).forEach(_),r=R(Q),a=I(Q,"DIV",{class:!0});var B=H(a);d=I(B,"SPAN",{class:!0});var te=H(d);c=z(te,o),te.forEach(_),s=z(B,": "),u=z(B,p),B.forEach(_),$=R(Q),v&&v.l(Q),Q.forEach(_),P.forEach(_),y=R(h),x(m.$$.fragment,h),b=R(h),x(O.$$.fragment,h),this.h()},h(){M(l,"class","corner svelte-3kwxiu"),M(d,"class","svelte-3kwxiu"),M(a,"class","name svelte-3kwxiu"),M(t,"draggable","true"),M(t,"class","comp-body svelte-3kwxiu"),at(t,"--comp-color",i[12]()),M(e,"class","wrapper svelte-3kwxiu")},m(h,P){k(h,e,P),E(e,t),f.m(t,null),E(t,n),E(t,l),E(t,r),E(t,a),E(a,d),E(d,c),E(a,s),E(a,u),E(t,$),v&&v.m(t,null),k(h,y,P),Z(m,h,P),k(h,b,P),Z(O,h,P),w=!0,N||(T=[X(l,"click",ce(i[14])),X(t,"dragstart",ce(i[21])),X(t,"dragend",i[22]),X(t,"click",ce(i[23]))],N=!0)},p(h,P){A!==(A=q(h))&&(f.d(1),f=A(h),f&&(f.c(),J(f,1),f.m(t,n))),(!w||P[0]&1)&&p!==(p=h[0].name+"")&&ae(u,p),h[5]?v&&(_e(),K(v,1,1,()=>{v=null}),de()):v?(v.p(h,P),P[0]&32&&J(v,1)):(v=qe(h),v.c(),J(v,1),v.m(t,null));const Q={};P[0]&1|P[1]&524288&&(Q.$$scope={dirty:P,ctx:h}),!C&&P[0]&4&&(C=!0,Q.open=h[2],oe(()=>C=!1)),m.$set(Q);const B={};P[0]&472|P[1]&524288&&(B.$$scope={dirty:P,ctx:h}),!j&&P[0]&16&&(j=!0,B.open=h[4],oe(()=>j=!1)),O.$set(B)},i(h){w||(J(f),J(v),g&&g.end(1),J(m.$$.fragment,h),J(O.$$.fragment,h),w=!0)},o(h){K(v),g=ft(t,se,{}),K(m.$$.fragment,h),K(O.$$.fragment,h),w=!1},d(h){h&&_(e),f.d(),v&&v.d(),h&&g&&g.end(),h&&_(y),G(m,h),h&&_(b),G(O,h),N=!1,it(T)}}}function Et(i,e,t){let{skill:n}=e,{component:l}=e;const r=ct();let a=!1,d=!1,o=!1,c="",s,p,u;const $=()=>l instanceof me?"Trigger":l instanceof Ce?"Condition":l instanceof Pe?"Target":l instanceof Ae?"Mechanic":"???",g=V=>{t(0,l.components=[...l.components,V],l),t(4,d=!1),t(3,c=""),r("save")},y=()=>l instanceof me?"#0083ef":l instanceof Ce?"#feac00":l instanceof Pe?"#04af38":l instanceof Ae?"#ff3a3a":"orange",m=(V,{duration:le})=>({duration:le,css:fe=>`transform: rotate(${180-ht(fe)*180}deg);`}),C=()=>t(5,o=!o),b=()=>console.log("clicked copy"),O=()=>{n.removeComponent(l),r("update")};function j(V,le,fe,be){fe[be]=V,t(0,l)}function w(V){ge.call(this,i,V)}function N(V){ge.call(this,i,V)}const T=()=>t(4,d=!0),q=()=>Me.set(l),A=()=>Me.set(void 0),f=()=>t(2,a=!0);function v(V){i.$$.not_equal(l.mana,V)&&(l.mana=V,t(0,l))}function F(V){i.$$.not_equal(l.cooldown,V)&&(l.cooldown=V,t(0,l))}function L(V,le){i.$$.not_equal(le.data,V)&&(le.data=V,t(0,l))}function U(V){ge.call(this,i,V)}function ee(V){a=V,t(2,a)}function h(V){c=V,t(3,c)}const P=V=>g(V),Q=V=>g(V),B=V=>g(V),te=()=>t(4,d=!1);function he(V){d=V,t(4,d)}return i.$$set=V=>{"skill"in V&&t(1,n=V.skill),"component"in V&&t(0,l=V.component)},i.$$.update=()=>{i.$$.dirty[0]&8&&(t(6,s=Object.keys(De.MAP).filter(V=>V.toLowerCase().includes(c.toLowerCase())).sort().map(V=>De.MAP[V].new())),t(7,p=Object.keys(Ie.MAP).filter(V=>V.toLowerCase().includes(c.toLowerCase())).sort().map(V=>Ie.MAP[V].new())),t(8,u=Object.keys(Ve.MAP).filter(V=>V.toLowerCase().includes(c.toLowerCase())).sort().map(V=>Ve.MAP[V].new()))),i.$$.dirty[0]&1&&l&&r("save"),i.$$.dirty[0]&5&&a&&l&&l.data.filter(V=>V.dataSource).forEach(V=>V.init())},[l,n,a,c,d,o,s,p,u,r,$,g,y,m,C,b,O,j,w,N,T,q,A,f,v,F,L,U,ee,h,P,Q,B,te,he]}class rt extends tt{constructor(e){super(),lt(this,e,Et,wt,nt,{skill:1,component:0},null,[-1,-1])}}function Ye(i,e,t){const n=i.slice();return n[15]=e[t],n}function Ze(i,e,t){const n=i.slice();return n[18]=e[t],n}function Ge(i){let e,t,n;return t=new rt({props:{skill:i[1],component:i[18]}}),t.$on("update",i[5]),t.$on("save",i[6]),{c(){e=D("div"),Y(t.$$.fragment),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=H(e);x(t.$$.fragment,r),r.forEach(_),this.h()},h(){M(e,"class","widget svelte-4lo1mc")},m(l,r){k(l,e,r),Z(t,e,null),n=!0},p(l,r){const a={};r&2&&(a.skill=l[1]),r&2&&(a.component=l[18]),t.$set(a)},i(l){n||(J(t.$$.fragment,l),n=!0)},o(l){K(t.$$.fragment,l),n=!1},d(l){l&&_(e),G(t)}}}function xe(i){let e,t;return{c(){e=D("div"),t=W("No triggers added yet.")},l(n){e=I(n,"DIV",{});var l=H(e);t=z(l,"No triggers added yet."),l.forEach(_)},m(n,l){k(n,e,l),E(e,t)},d(n){n&&_(e)}}}function et(i){let e,t=i[15].name+"",n,l,r,a;function d(){return i[10](i[15])}return{c(){e=D("div"),n=W(t),l=S(),this.h()},l(o){e=I(o,"DIV",{class:!0});var c=H(e);n=z(c,t),l=R(c),c.forEach(_),this.h()},h(){M(e,"class","comp-select")},m(o,c){k(o,e,c),E(e,n),E(e,l),r||(a=X(e,"click",d),r=!0)},p(o,c){i=o,c&8&&t!==(t=i[15].name+"")&&ae(n,t)},d(o){o&&_(e),r=!1,a()}}}function Dt(i){let e,t,n,l,r,a,d,o,c,s,p,u,$,g,y,m,C,b,O,j,w;function N(f){i[9](f)}let T={placeholder:"Search..."};i[0]!==void 0&&(T.value=i[0]),o=new ve({props:T}),ne.push(()=>ie(o,"value",N));let q=i[3],A=[];for(let f=0;f<q.length;f+=1)A[f]=et(Ye(i,q,f));return{c(){e=D("div"),t=D("div"),n=S(),l=D("h2"),r=W("Select New Trigger"),a=S(),d=D("div"),Y(o.$$.fragment),s=S(),p=D("hr"),u=S(),$=D("div");for(let f=0;f<A.length;f+=1)A[f].c();g=S(),y=D("hr"),m=S(),C=D("div"),b=W("Cancel"),this.h()},l(f){e=I(f,"DIV",{class:!0});var v=H(e);t=I(v,"DIV",{}),H(t).forEach(_),n=R(v),l=I(v,"H2",{class:!0});var F=H(l);r=z(F,"Select New Trigger"),F.forEach(_),a=R(v),d=I(v,"DIV",{class:!0});var L=H(d);x(o.$$.fragment,L),L.forEach(_),v.forEach(_),s=R(f),p=I(f,"HR",{}),u=R(f),$=I(f,"DIV",{class:!0});var U=H($);for(let h=0;h<A.length;h+=1)A[h].l(U);U.forEach(_),g=R(f),y=I(f,"HR",{}),m=R(f),C=I(f,"DIV",{class:!0});var ee=H(C);b=z(ee,"Cancel"),ee.forEach(_),this.h()},h(){M(l,"class","modal-header svelte-4lo1mc"),M(d,"class","search-bar"),M(e,"class","modal-header-wrapper"),M($,"class","triggers"),M(C,"class","cancel")},m(f,v){k(f,e,v),E(e,t),E(e,n),E(e,l),E(l,r),E(e,a),E(e,d),Z(o,d,null),k(f,s,v),k(f,p,v),k(f,u,v),k(f,$,v);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m($,null);k(f,g,v),k(f,y,v),k(f,m,v),k(f,C,v),E(C,b),O=!0,j||(w=X(C,"click",i[11]),j=!0)},p(f,v){const F={};if(!c&&v&1&&(c=!0,F.value=f[0],oe(()=>c=!1)),o.$set(F),v&24){q=f[3];let L;for(L=0;L<q.length;L+=1){const U=Ye(f,q,L);A[L]?A[L].p(U,v):(A[L]=et(U),A[L].c(),A[L].m($,null))}for(;L<A.length;L+=1)A[L].d(1);A.length=q.length}},i(f){O||(J(o.$$.fragment,f),O=!0)},o(f){K(o.$$.fragment,f),O=!1},d(f){f&&_(e),G(o),f&&_(s),f&&_(p),f&&_(u),f&&_($),pe(A,f),f&&_(g),f&&_(y),f&&_(m),f&&_(C),j=!1,w()}}}function It(i){let e,t,n,l,r=i[1].name+"",a,d,o,c,s,p,u,$,g,y,m,C,b,O,j,w,N,T,q,A;document.title=e="ProSkillAPI Dynamic Editor - "+i[1].name;let f=i[1].triggers,v=[];for(let h=0;h<f.length;h+=1)v[h]=Ge(Ze(i,f,h));const F=h=>K(v[h],1,1,()=>{v[h]=null});let L=i[1].triggers.length==0&&xe();function U(h){i[12](h)}let ee={$$slots:{default:[Dt]},$$scope:{ctx:i}};return i[2]!==void 0&&(ee.open=i[2]),w=new ke({props:ee}),ne.push(()=>ie(w,"open",U)),{c(){t=S(),n=D("div"),l=D("h2"),a=W(r),d=S(),o=D("a"),c=W("edit"),p=S(),u=D("div"),$=D("span"),g=W("new_label"),y=S(),m=D("hr"),C=S(),b=D("div");for(let h=0;h<v.length;h+=1)v[h].c();O=S(),L&&L.c(),j=S(),Y(w.$$.fragment),this.h()},l(h){dt("svelte-r5m1v8",document.head).forEach(_),t=R(h),n=I(h,"DIV",{class:!0});var Q=H(n);l=I(Q,"H2",{class:!0});var B=H(l);a=z(B,r),d=R(B),o=I(B,"A",{class:!0,title:!0,href:!0});var te=H(o);c=z(te,"edit"),te.forEach(_),p=R(B),u=I(B,"DIV",{class:!0,title:!0});var he=H(u);$=I(he,"SPAN",{class:!0});var V=H($);g=z(V,"new_label"),V.forEach(_),he.forEach(_),B.forEach(_),Q.forEach(_),y=R(h),m=I(h,"HR",{}),C=R(h),b=I(h,"DIV",{class:!0});var le=H(b);for(let fe=0;fe<v.length;fe+=1)v[fe].l(le);O=R(le),L&&L.l(le),le.forEach(_),j=R(h),x(w.$$.fragment,h),this.h()},h(){M(o,"class","material-symbols-rounded edit-skill chip svelte-4lo1mc"),M(o,"title","Edit"),M(o,"href",s="/skill/"+i[1].name+"/edit"),M($,"class","material-symbols-rounded"),M(u,"class","add-trigger chip svelte-4lo1mc"),M(u,"title","Add Trigger"),M(l,"class","svelte-4lo1mc"),M(n,"class","header svelte-4lo1mc"),M(b,"class","container svelte-4lo1mc")},m(h,P){k(h,t,P),k(h,n,P),E(n,l),E(l,a),E(l,d),E(l,o),E(o,c),E(l,p),E(l,u),E(u,$),E($,g),k(h,y,P),k(h,m,P),k(h,C,P),k(h,b,P);for(let Q=0;Q<v.length;Q+=1)v[Q]&&v[Q].m(b,null);E(b,O),L&&L.m(b,null),k(h,j,P),Z(w,h,P),T=!0,q||(A=X(u,"click",i[8]),q=!0)},p(h,[P]){if((!T||P&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+h[1].name)&&(document.title=e),(!T||P&2)&&r!==(r=h[1].name+"")&&ae(a,r),(!T||P&2&&s!==(s="/skill/"+h[1].name+"/edit"))&&M(o,"href",s),P&98){f=h[1].triggers;let B;for(B=0;B<f.length;B+=1){const te=Ze(h,f,B);v[B]?(v[B].p(te,P),J(v[B],1)):(v[B]=Ge(te),v[B].c(),J(v[B],1),v[B].m(b,O))}for(_e(),B=f.length;B<v.length;B+=1)F(B);de()}h[1].triggers.length==0?L||(L=xe(),L.c(),L.m(b,null)):L&&(L.d(1),L=null);const Q={};P&2097165&&(Q.$$scope={dirty:P,ctx:h}),!N&&P&4&&(N=!0,Q.open=h[2],oe(()=>N=!1)),w.$set(Q)},i(h){if(!T){for(let P=0;P<f.length;P+=1)J(v[P]);J(w.$$.fragment,h),T=!0}},o(h){v=v.filter(Boolean);for(let P=0;P<v.length;P+=1)K(v[P]);K(w.$$.fragment,h),T=!1},d(h){h&&_(t),h&&_(n),h&&_(y),h&&_(m),h&&_(C),h&&_(b),pe(v,h),L&&L.d(),h&&_(j),G(w,h),q=!1,A()}}}function Vt(i,e,t){let{data:n}=e,l,r=!1,a="",d;const o=m=>{l.triggers.push(m.detail),c(),setTimeout(()=>t(2,r=!1))},c=()=>{t(1,l.triggers=[...l.triggers],l),s()},s=()=>Te.set([...pt(Te)]),p=()=>t(2,r=!0);function u(m){a=m,t(0,a)}const $=m=>o({detail:m.clone()}),g=()=>t(2,r=!1);function y(m){r=m,t(2,r)}return i.$$set=m=>{"data"in m&&t(7,n=m.data)},i.$$.update=()=>{i.$$.dirty&128&&n&&t(1,l=n.data),i.$$.dirty&1&&t(3,d=Object.keys(He).filter(m=>m.toLowerCase().includes(a.toLowerCase())).sort().map(m=>He[m].component.new()))},[a,l,r,d,o,c,s,n,p,u,$,g,y]}class Mt extends tt{constructor(e){super(),lt(this,e,Vt,It,nt,{data:7})}}export{Mt as default};
