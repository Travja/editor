import{S as Xe,i as Ye,s as xe,w as te,H as le,k as E,a as R,q as W,y as Z,l as D,m as M,c as L,h as d,r as z,z as Y,n as T,p as it,b as g,C as I,A as G,E as U,J as ae,g as B,u as oe,v as ce,d as Q,f as ue,O as se,R as ot,B as X,F as et,a9 as rt,P as fe,Z as ie,a1 as re,a2 as ke,V as ve,Q as tt,x as be,e as we,a8 as at,U as ft}from"../chunks/index.1ee62562.js";import{T as Ee,H as De,M as Ie,b as ne,I as pe,J as Ve,K as Ce,L as Pe,N as Ae,O as he,Q as ct,R as ut,v as Me}from"../chunks/store.860c2984.js";import{M as ge}from"../chunks/Modal.0b2313d0.js";import{T as lt}from"../chunks/Toggle.5a1895ad.js";function Te(l,e,t){const o=l.slice();return o[35]=e[t],o}function He(l,e,t){const o=l.slice();return o[38]=e[t],o}function Se(l,e,t){const o=l.slice();return o[41]=e[t],o}function Ne(l,e,t){const o=l.slice();return o[44]=e[t],o[45]=e,o[46]=t,o}function Re(l,e,t){const o=l.slice();return o[47]=e[t],o[48]=e,o[49]=t,o}function _t(l){let e,t,o;return{c(){e=E("span"),t=W("expand_less"),this.h()},l(s){e=D(s,"SPAN",{class:!0});var c=M(e);t=z(c,"expand_less"),c.forEach(d),this.h()},h(){T(e,"class","material-symbols-rounded svelte-3kwxiu")},m(s,c){g(s,e,c),I(e,t)},i(s){s&&(o||fe(()=>{o=tt(e,l[13],{duration:400}),o.start()}))},o:ke,d(s){s&&d(e)}}}function dt(l){let e,t,o;return{c(){e=E("span"),t=W("expand_more"),this.h()},l(s){e=D(s,"SPAN",{class:!0});var c=M(e);t=z(c,"expand_more"),c.forEach(d),this.h()},h(){T(e,"class","material-symbols-rounded svelte-3kwxiu")},m(s,c){g(s,e,c),I(e,t)},i(s){s&&(o||fe(()=>{o=tt(e,l[13],{duration:400}),o.start()}))},o:ke,d(s){s&&d(e)}}}function Le(l){let e,t,o,s,c,a,u,r,_,i,v,f,$,h,C,m=l[0].components,b=[];for(let w=0;w<m.length;w+=1)b[w]=Oe(Re(l,m,w));const J=w=>Q(b[w],1,1,()=>{b[w]=null});let S=l[0].isParent&&qe(l);return{c(){e=E("div"),t=E("div"),o=W("content_copy"),c=R(),a=E("div"),u=W("delete"),_=R(),i=E("div");for(let w=0;w<b.length;w+=1)b[w].c();v=R(),S&&S.c(),this.h()},l(w){e=D(w,"DIV",{class:!0});var N=M(e);t=D(N,"DIV",{class:!0,title:!0});var k=M(t);o=z(k,"content_copy"),k.forEach(d),c=L(N),a=D(N,"DIV",{class:!0,title:!0});var q=M(a);u=z(q,"delete"),q.forEach(d),N.forEach(d),_=L(w),i=D(w,"DIV",{class:!0});var O=M(i);for(let P=0;P<b.length;P+=1)b[P].l(O);v=L(O),S&&S.l(O),O.forEach(d),this.h()},h(){T(t,"class","material-symbols-rounded control copy svelte-3kwxiu"),T(t,"title","Copy"),T(a,"class","material-symbols-rounded control delete svelte-3kwxiu"),T(a,"title","Delete"),T(e,"class","controls svelte-3kwxiu"),T(i,"class","children svelte-3kwxiu")},m(w,N){g(w,e,N),I(e,t),I(t,o),I(e,c),I(e,a),I(a,u),g(w,_,N),g(w,i,N);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(i,null);I(i,v),S&&S.m(i,null),$=!0,h||(C=[U(t,"click",ae(l[15])),U(a,"click",ae(l[16]))],h=!0)},p(w,N){if(N[0]&3){m=w[0].components;let k;for(k=0;k<m.length;k+=1){const q=Re(w,m,k);b[k]?(b[k].p(q,N),B(b[k],1)):(b[k]=Oe(q),b[k].c(),B(b[k],1),b[k].m(i,v))}for(ce(),k=m.length;k<b.length;k+=1)J(k);ue()}w[0].isParent?S?S.p(w,N):(S=qe(w),S.c(),S.m(i,null)):S&&(S.d(1),S=null)},i(w){if(!$){fe(()=>{$&&(s||(s=ie(t,ne,{},!0)),s.run(1))}),fe(()=>{$&&(r||(r=ie(a,ne,{},!0)),r.run(1))});for(let N=0;N<m.length;N+=1)B(b[N]);w&&fe(()=>{$&&(f||(f=ie(i,ne,{},!0)),f.run(1))}),$=!0}},o(w){s||(s=ie(t,ne,{},!1)),s.run(0),r||(r=ie(a,ne,{},!1)),r.run(0),b=b.filter(Boolean);for(let N=0;N<b.length;N+=1)Q(b[N]);w&&(f||(f=ie(i,ne,{},!1)),f.run(0)),$=!1},d(w){w&&d(e),w&&s&&s.end(),w&&r&&r.end(),w&&d(_),w&&d(i),re(b,w),S&&S.d(),w&&f&&f.end(),h=!1,et(C)}}}function Oe(l){let e,t,o,s,c;function a(r){l[17](r,l[47],l[48],l[49])}let u={skill:l[1]};return l[47]!==void 0&&(u.component=l[47]),t=new nt({props:u}),te.push(()=>le(t,"component",a)),t.$on("update",l[18]),t.$on("save",l[19]),{c(){e=E("span"),Z(t.$$.fragment)},l(r){e=D(r,"SPAN",{});var _=M(e);Y(t.$$.fragment,_),_.forEach(d)},m(r,_){g(r,e,_),G(t,e,null),c=!0},p(r,_){l=r;const i={};_[0]&2&&(i.skill=l[1]),!o&&_[0]&1&&(o=!0,i.component=l[47],se(()=>o=!1)),t.$set(i)},i(r){c||(B(t.$$.fragment,r),r&&fe(()=>{c&&(s||(s=ie(e,ne,{},!0)),s.run(1))}),c=!0)},o(r){Q(t.$$.fragment,r),r&&(s||(s=ie(e,ne,{},!1)),s.run(0)),c=!1},d(r){r&&d(e),X(t),r&&s&&s.end()}}}function qe(l){let e,t,o,s;return{c(){e=E("div"),t=W("+ Add Component"),this.h()},l(c){e=D(c,"DIV",{class:!0});var a=M(e);t=z(a,"+ Add Component"),a.forEach(d),this.h()},h(){T(e,"class","chip svelte-3kwxiu")},m(c,a){g(c,e,a),I(e,t),o||(s=U(e,"click",ae(l[20])),o=!0)},p:ke,d(c){c&&d(e),o=!1,s()}}}function je(l){let e,t,o,s;return e=new he({props:{label:"Mana",$$slots:{default:[pt]},$$scope:{ctx:l}}}),o=new he({props:{label:"Cooldown",$$slots:{default:[ht]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment),t=R(),Z(o.$$.fragment)},l(c){Y(e.$$.fragment,c),t=L(c),Y(o.$$.fragment,c)},m(c,a){G(e,c,a),g(c,t,a),G(o,c,a),s=!0},p(c,a){const u={};a[0]&1|a[1]&524288&&(u.$$scope={dirty:a,ctx:c}),e.$set(u);const r={};a[0]&1|a[1]&524288&&(r.$$scope={dirty:a,ctx:c}),o.$set(r)},i(c){s||(B(e.$$.fragment,c),B(o.$$.fragment,c),s=!0)},o(c){Q(e.$$.fragment,c),Q(o.$$.fragment,c),s=!1},d(c){X(e,c),c&&d(t),X(o,c)}}}function pt(l){let e,t,o;function s(a){l[24](a)}let c={};return l[0].mana!==void 0&&(c.data=l[0].mana),e=new lt({props:c}),te.push(()=>le(e,"data",s)),{c(){Z(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,u){G(e,a,u),o=!0},p(a,u){const r={};!t&&u[0]&1&&(t=!0,r.data=a[0].mana,se(()=>t=!1)),e.$set(r)},i(a){o||(B(e.$$.fragment,a),o=!0)},o(a){Q(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function ht(l){let e,t,o;function s(a){l[25](a)}let c={};return l[0].cooldown!==void 0&&(c.data=l[0].cooldown),e=new lt({props:c}),te.push(()=>le(e,"data",s)),{c(){Z(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,u){G(e,a,u),o=!0},p(a,u){const r={};!t&&u[0]&1&&(t=!0,r.data=a[0].cooldown,se(()=>t=!1)),e.$set(r)},i(a){o||(B(e.$$.fragment,a),o=!0)},o(a){Q(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function Be(l){let e,t,o,s;function c(r){l[26](r,l[44])}var a=l[44].component;function u(r){let _={color:!0};return r[44].data!==void 0&&(_.data=r[44].data),{props:_}}return a&&(e=be(a,u(l)),te.push(()=>le(e,"data",c)),e.$on("save",l[27])),{c(){e&&Z(e.$$.fragment),o=we()},l(r){e&&Y(e.$$.fragment,r),o=we()},m(r,_){e&&G(e,r,_),g(r,o,_),s=!0},p(r,_){l=r;const i={};if(!t&&_[0]&1&&(t=!0,i.data=l[44].data,se(()=>t=!1)),_[0]&1&&a!==(a=l[44].component)){if(e){ce();const v=e;Q(v.$$.fragment,1,0,()=>{X(v,1)}),ue()}a?(e=be(a,u(l)),te.push(()=>le(e,"data",c)),e.$on("save",l[27]),Z(e.$$.fragment),B(e.$$.fragment,1),G(e,o.parentNode,o)):e=null}else a&&e.$set(i)},i(r){s||(e&&B(e.$$.fragment,r),s=!0)},o(r){e&&Q(e.$$.fragment,r),s=!1},d(r){r&&d(o),e&&X(e,r)}}}function mt(l){let e,t=l[0].name+"",o,s,c,a,u,r,_,i=l[0]instanceof pe&&je(l),v=l[0].data,f=[];for(let h=0;h<v.length;h+=1)f[h]=Be(Ne(l,v,h));const $=h=>Q(f[h],1,1,()=>{f[h]=null});return{c(){e=E("h2"),o=W(t),s=R(),c=E("hr"),a=R(),u=E("div"),i&&i.c(),r=R();for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=D(h,"H2",{});var C=M(e);o=z(C,t),C.forEach(d),s=L(h),c=D(h,"HR",{}),a=L(h),u=D(h,"DIV",{class:!0});var m=M(u);i&&i.l(m),r=L(m);for(let b=0;b<f.length;b+=1)f[b].l(m);m.forEach(d),this.h()},h(){T(u,"class","component-entry svelte-3kwxiu")},m(h,C){g(h,e,C),I(e,o),g(h,s,C),g(h,c,C),g(h,a,C),g(h,u,C),i&&i.m(u,null),I(u,r);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(u,null);_=!0},p(h,C){if((!_||C[0]&1)&&t!==(t=h[0].name+"")&&oe(o,t),h[0]instanceof pe?i?(i.p(h,C),C[0]&1&&B(i,1)):(i=je(h),i.c(),B(i,1),i.m(u,r)):i&&(ce(),Q(i,1,1,()=>{i=null}),ue()),C[0]&1){v=h[0].data;let m;for(m=0;m<v.length;m+=1){const b=Ne(h,v,m);f[m]?(f[m].p(b,C),B(f[m],1)):(f[m]=Be(b),f[m].c(),B(f[m],1),f[m].m(u,null))}for(ce(),m=v.length;m<f.length;m+=1)$(m);ue()}},i(h){if(!_){B(i);for(let C=0;C<v.length;C+=1)B(f[C]);_=!0}},o(h){Q(i),f=f.filter(Boolean);for(let C=0;C<f.length;C+=1)Q(f[C]);_=!1},d(h){h&&d(e),h&&d(s),h&&d(c),h&&d(a),h&&d(u),i&&i.d(),re(f,h)}}}function ye(l){let e,t,o,s,c,a,u,r=l[7],_=[];for(let i=0;i<r.length;i+=1)_[i]=Je(Se(l,r,i));return{c(){e=E("hr"),t=R(),o=E("div"),s=E("h3"),c=W("Conditions"),a=R(),u=E("div");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=D(i,"HR",{}),t=L(i),o=D(i,"DIV",{class:!0});var v=M(o);s=D(v,"H3",{class:!0});var f=M(s);c=z(f,"Conditions"),f.forEach(d),v.forEach(d),a=L(i),u=D(i,"DIV",{class:!0});var $=M(u);for(let h=0;h<_.length;h+=1)_[h].l($);$.forEach(d),this.h()},h(){T(s,"class","svelte-3kwxiu"),T(o,"class","comp-modal-header svelte-3kwxiu"),T(u,"class","triggers")},m(i,v){g(i,e,v),g(i,t,v),g(i,o,v),I(o,s),I(s,c),g(i,a,v),g(i,u,v);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(u,null)},p(i,v){if(v[0]&2176){r=i[7];let f;for(f=0;f<r.length;f+=1){const $=Se(i,r,f);_[f]?_[f].p($,v):(_[f]=Je($),_[f].c(),_[f].m(u,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=r.length}},d(i){i&&d(e),i&&d(t),i&&d(o),i&&d(a),i&&d(u),re(_,i)}}}function Je(l){let e,t=l[41].name+"",o,s,c;function a(){return l[30](l[41])}return{c(){e=E("div"),o=W(t),this.h()},l(u){e=D(u,"DIV",{class:!0});var r=M(e);o=z(r,t),r.forEach(d),this.h()},h(){T(e,"class","comp-select")},m(u,r){g(u,e,r),I(e,o),s||(c=U(e,"click",a),s=!0)},p(u,r){l=u,r[0]&128&&t!==(t=l[41].name+"")&&oe(o,t)},d(u){u&&d(e),s=!1,c()}}}function Qe(l){let e,t,o,s,c,a,u,r=l[6],_=[];for(let i=0;i<r.length;i+=1)_[i]=We(He(l,r,i));return{c(){e=E("hr"),t=R(),o=E("div"),s=E("h3"),c=W("Targets"),a=R(),u=E("div");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=D(i,"HR",{}),t=L(i),o=D(i,"DIV",{class:!0});var v=M(o);s=D(v,"H3",{class:!0});var f=M(s);c=z(f,"Targets"),f.forEach(d),v.forEach(d),a=L(i),u=D(i,"DIV",{class:!0});var $=M(u);for(let h=0;h<_.length;h+=1)_[h].l($);$.forEach(d),this.h()},h(){T(s,"class","svelte-3kwxiu"),T(o,"class","comp-modal-header svelte-3kwxiu"),T(u,"class","triggers")},m(i,v){g(i,e,v),g(i,t,v),g(i,o,v),I(o,s),I(s,c),g(i,a,v),g(i,u,v);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(u,null)},p(i,v){if(v[0]&2112){r=i[6];let f;for(f=0;f<r.length;f+=1){const $=He(i,r,f);_[f]?_[f].p($,v):(_[f]=We($),_[f].c(),_[f].m(u,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=r.length}},d(i){i&&d(e),i&&d(t),i&&d(o),i&&d(a),i&&d(u),re(_,i)}}}function We(l){let e,t=l[38].name+"",o,s,c;function a(){return l[31](l[38])}return{c(){e=E("div"),o=W(t),this.h()},l(u){e=D(u,"DIV",{class:!0});var r=M(e);o=z(r,t),r.forEach(d),this.h()},h(){T(e,"class","comp-select")},m(u,r){g(u,e,r),I(e,o),s||(c=U(e,"click",a),s=!0)},p(u,r){l=u,r[0]&64&&t!==(t=l[38].name+"")&&oe(o,t)},d(u){u&&d(e),s=!1,c()}}}function ze(l){let e,t,o,s,c,a,u,r=l[8],_=[];for(let i=0;i<r.length;i+=1)_[i]=Fe(Te(l,r,i));return{c(){e=E("hr"),t=R(),o=E("div"),s=E("h3"),c=W("Mechanics"),a=R(),u=E("div");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=D(i,"HR",{}),t=L(i),o=D(i,"DIV",{class:!0});var v=M(o);s=D(v,"H3",{class:!0});var f=M(s);c=z(f,"Mechanics"),f.forEach(d),v.forEach(d),a=L(i),u=D(i,"DIV",{class:!0});var $=M(u);for(let h=0;h<_.length;h+=1)_[h].l($);$.forEach(d),this.h()},h(){T(s,"class","svelte-3kwxiu"),T(o,"class","comp-modal-header svelte-3kwxiu"),T(u,"class","triggers")},m(i,v){g(i,e,v),g(i,t,v),g(i,o,v),I(o,s),I(s,c),g(i,a,v),g(i,u,v);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(u,null)},p(i,v){if(v[0]&2304){r=i[8];let f;for(f=0;f<r.length;f+=1){const $=Te(i,r,f);_[f]?_[f].p($,v):(_[f]=Fe($),_[f].c(),_[f].m(u,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=r.length}},d(i){i&&d(e),i&&d(t),i&&d(o),i&&d(a),i&&d(u),re(_,i)}}}function Fe(l){let e,t=l[35].name+"",o,s,c;function a(){return l[32](l[35])}return{c(){e=E("div"),o=W(t),this.h()},l(u){e=D(u,"DIV",{class:!0});var r=M(e);o=z(r,t),r.forEach(d),this.h()},h(){T(e,"class","comp-select")},m(u,r){g(u,e,r),I(e,o),s||(c=U(e,"click",a),s=!0)},p(u,r){l=u,r[0]&256&&t!==(t=l[35].name+"")&&oe(o,t)},d(u){u&&d(e),s=!1,c()}}}function vt(l){let e,t,o,s,c,a,u,r,_,i,v,f,$,h,C,m,b,J,S,w;function N(n){l[29](n)}let k={placeholder:"Search..."};l[2]!==void 0&&(k.value=l[2]),r=new he({props:k}),te.push(()=>le(r,"value",N));let q=l[7].length>0&&ye(l),O=l[6].length>0&&Qe(l),P=l[8].length>0&&ze(l);return{c(){e=E("div"),t=E("div"),o=R(),s=E("h2"),c=W("Add a Component"),a=R(),u=E("div"),Z(r.$$.fragment),i=R(),q&&q.c(),v=R(),O&&O.c(),f=R(),P&&P.c(),$=R(),h=E("hr"),C=R(),m=E("div"),b=W("Cancel"),this.h()},l(n){e=D(n,"DIV",{class:!0});var p=M(e);t=D(p,"DIV",{}),M(t).forEach(d),o=L(p),s=D(p,"H2",{});var j=M(s);c=z(j,"Add a Component"),j.forEach(d),a=L(p),u=D(p,"DIV",{class:!0});var H=M(u);Y(r.$$.fragment,H),H.forEach(d),p.forEach(d),i=L(n),q&&q.l(n),v=L(n),O&&O.l(n),f=L(n),P&&P.l(n),$=L(n),h=D(n,"HR",{}),C=L(n),m=D(n,"DIV",{class:!0});var F=M(m);b=z(F,"Cancel"),F.forEach(d),this.h()},h(){T(u,"class","search-bar"),T(e,"class","modal-header-wrapper"),T(m,"class","cancel")},m(n,p){g(n,e,p),I(e,t),I(e,o),I(e,s),I(s,c),I(e,a),I(e,u),G(r,u,null),g(n,i,p),q&&q.m(n,p),g(n,v,p),O&&O.m(n,p),g(n,f,p),P&&P.m(n,p),g(n,$,p),g(n,h,p),g(n,C,p),g(n,m,p),I(m,b),J=!0,S||(w=U(m,"click",l[33]),S=!0)},p(n,p){const j={};!_&&p[0]&4&&(_=!0,j.value=n[2],se(()=>_=!1)),r.$set(j),n[7].length>0?q?q.p(n,p):(q=ye(n),q.c(),q.m(v.parentNode,v)):q&&(q.d(1),q=null),n[6].length>0?O?O.p(n,p):(O=Qe(n),O.c(),O.m(f.parentNode,f)):O&&(O.d(1),O=null),n[8].length>0?P?P.p(n,p):(P=ze(n),P.c(),P.m($.parentNode,$)):P&&(P.d(1),P=null)},i(n){J||(B(r.$$.fragment,n),J=!0)},o(n){Q(r.$$.fragment,n),J=!1},d(n){n&&d(e),X(r),n&&d(i),q&&q.d(n),n&&d(v),O&&O.d(n),n&&d(f),P&&P.d(n),n&&d($),n&&d(h),n&&d(C),n&&d(m),S=!1,w()}}}function gt(l){let e,t,o,s,c,a,u,r=l[10]()+"",_,i,v=l[0].name+"",f,$,h,C,m,b,J,S,w,N,k,q;function O(V,y){return V[5]?dt:_t}let P=O(l),n=P(l),p=!l[5]&&Le(l);function j(V){l[28](V)}let H={width:"70%",$$slots:{default:[mt]},$$scope:{ctx:l}};l[3]!==void 0&&(H.open=l[3]),m=new ge({props:H}),te.push(()=>le(m,"open",j));function F(V){l[34](V)}let x={width:"70%",$$slots:{default:[vt]},$$scope:{ctx:l}};return l[4]!==void 0&&(x.open=l[4]),S=new ge({props:x}),te.push(()=>le(S,"open",F)),{c(){e=E("div"),t=E("div"),n.c(),o=R(),s=E("div"),c=R(),a=E("div"),u=E("span"),_=W(r),i=W(": "),f=W(v),$=R(),p&&p.c(),C=R(),Z(m.$$.fragment),J=R(),Z(S.$$.fragment),this.h()},l(V){e=D(V,"DIV",{class:!0});var y=M(e);t=D(y,"DIV",{draggable:!0,class:!0});var K=M(t);n.l(K),o=L(K),s=D(K,"DIV",{class:!0}),M(s).forEach(d),c=L(K),a=D(K,"DIV",{class:!0});var ee=M(a);u=D(ee,"SPAN",{class:!0});var de=M(u);_=z(de,r),de.forEach(d),i=z(ee,": "),f=z(ee,v),ee.forEach(d),$=L(K),p&&p.l(K),K.forEach(d),y.forEach(d),C=L(V),Y(m.$$.fragment,V),J=L(V),Y(S.$$.fragment,V),this.h()},h(){T(s,"class","corner svelte-3kwxiu"),T(u,"class","svelte-3kwxiu"),T(a,"class","name svelte-3kwxiu"),T(t,"draggable","true"),T(t,"class","comp-body svelte-3kwxiu"),it(t,"--comp-color",l[12]()),T(e,"class","wrapper svelte-3kwxiu")},m(V,y){g(V,e,y),I(e,t),n.m(t,null),I(t,o),I(t,s),I(t,c),I(t,a),I(a,u),I(u,_),I(a,i),I(a,f),I(t,$),p&&p.m(t,null),g(V,C,y),G(m,V,y),g(V,J,y),G(S,V,y),N=!0,k||(q=[U(s,"click",ae(l[14])),U(t,"dragstart",ae(l[21])),U(t,"dragend",l[22]),U(t,"click",ae(l[23]))],k=!0)},p(V,y){P!==(P=O(V))&&(n.d(1),n=P(V),n&&(n.c(),B(n,1),n.m(t,o))),(!N||y[0]&1)&&v!==(v=V[0].name+"")&&oe(f,v),V[5]?p&&(ce(),Q(p,1,1,()=>{p=null}),ue()):p?(p.p(V,y),y[0]&32&&B(p,1)):(p=Le(V),p.c(),B(p,1),p.m(t,null));const K={};y[0]&1|y[1]&524288&&(K.$$scope={dirty:y,ctx:V}),!b&&y[0]&8&&(b=!0,K.open=V[3],se(()=>b=!1)),m.$set(K);const ee={};y[0]&468|y[1]&524288&&(ee.$$scope={dirty:y,ctx:V}),!w&&y[0]&16&&(w=!0,ee.open=V[4],se(()=>w=!1)),S.$set(ee)},i(V){N||(B(n),B(p),h&&h.end(1),B(m.$$.fragment,V),B(S.$$.fragment,V),N=!0)},o(V){Q(p),h=ot(t,ne,{}),Q(m.$$.fragment,V),Q(S.$$.fragment,V),N=!1},d(V){V&&d(e),n.d(),p&&p.d(),V&&h&&h.end(),V&&d(C),X(m,V),V&&d(J),X(S,V),k=!1,et(q)}}}function kt(l,e,t){let{skill:o}=e,{component:s}=e;const c=rt();let a=!1,u=!1,r=!1,_="",i,v,f;const $=()=>s instanceof pe?"Trigger":s instanceof Ve?"Condition":s instanceof Ce?"Target":s instanceof Pe?"Mechanic":"???",h=A=>{t(0,s.components=[...s.components,A],s),t(4,u=!1),t(2,_=""),c("save")},C=()=>s instanceof pe?"#0083ef":s instanceof Ve?"#feac00":s instanceof Ce?"#04af38":s instanceof Pe?"#ff3a3a":"orange",m=(A,{duration:_e})=>({duration:_e,css:me=>`transform: rotate(${180-ct(me)*180}deg);`}),b=()=>t(5,r=!r),J=()=>console.log("clicked copy"),S=()=>{o.removeComponent(s),c("update")};function w(A,_e,me,$e){me[$e]=A,t(0,s)}function N(A){ve.call(this,l,A)}function k(A){ve.call(this,l,A)}const q=()=>t(4,u=!0),O=()=>Ae.set(s),P=()=>Ae.set(void 0),n=()=>t(3,a=!0);function p(A){l.$$.not_equal(s.mana,A)&&(s.mana=A,t(0,s))}function j(A){l.$$.not_equal(s.cooldown,A)&&(s.cooldown=A,t(0,s))}function H(A,_e){l.$$.not_equal(_e.data,A)&&(_e.data=A,t(0,s))}function F(A){ve.call(this,l,A)}function x(A){a=A,t(3,a)}function V(A){_=A,t(2,_)}const y=A=>h(A),K=A=>h(A),ee=A=>h(A),de=()=>t(4,u=!1);function st(A){u=A,t(4,u)}return l.$$set=A=>{"skill"in A&&t(1,o=A.skill),"component"in A&&t(0,s=A.component)},l.$$.update=()=>{l.$$.dirty[0]&4&&(t(6,i=Object.keys(Ee.MAP).filter(A=>A.toLowerCase().includes(_.toLowerCase())).sort().map(A=>Ee.MAP[A].new())),t(7,v=Object.keys(De.MAP).filter(A=>A.toLowerCase().includes(_.toLowerCase())).sort().map(A=>De.MAP[A].new())),t(8,f=Object.keys(Ie.MAP).filter(A=>A.toLowerCase().includes(_.toLowerCase())).sort().map(A=>Ie.MAP[A].new())))},[s,o,_,a,u,r,i,v,f,c,$,h,C,m,b,J,S,w,N,k,q,O,P,n,p,j,H,F,x,V,y,K,ee,de,st]}class nt extends Xe{constructor(e){super(),Ye(this,e,kt,gt,xe,{skill:1,component:0},null,[-1,-1])}}function Ke(l,e,t){const o=l.slice();return o[15]=e[t],o}function Ue(l,e,t){const o=l.slice();return o[18]=e[t],o}function Ze(l){let e,t,o;return t=new nt({props:{skill:l[1],component:l[18]}}),t.$on("update",l[5]),t.$on("save",l[6]),{c(){e=E("div"),Z(t.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var c=M(e);Y(t.$$.fragment,c),c.forEach(d),this.h()},h(){T(e,"class","widget svelte-1tyfxc")},m(s,c){g(s,e,c),G(t,e,null),o=!0},p(s,c){const a={};c&2&&(a.skill=s[1]),c&2&&(a.component=s[18]),t.$set(a)},i(s){o||(B(t.$$.fragment,s),o=!0)},o(s){Q(t.$$.fragment,s),o=!1},d(s){s&&d(e),X(t)}}}function Ge(l){let e,t=l[15].name+"",o,s,c,a;function u(){return l[10](l[15])}return{c(){e=E("div"),o=W(t),s=R(),this.h()},l(r){e=D(r,"DIV",{class:!0});var _=M(e);o=z(_,t),s=L(_),_.forEach(d),this.h()},h(){T(e,"class","comp-select")},m(r,_){g(r,e,_),I(e,o),I(e,s),c||(a=U(e,"click",u),c=!0)},p(r,_){l=r,_&8&&t!==(t=l[15].name+"")&&oe(o,t)},d(r){r&&d(e),c=!1,a()}}}function $t(l){let e,t,o,s,c,a,u,r,_,i,v,f,$,h,C,m,b,J,S,w,N;function k(n){l[9](n)}let q={placeholder:"Search..."};l[0]!==void 0&&(q.value=l[0]),r=new he({props:q}),te.push(()=>le(r,"value",k));let O=l[3],P=[];for(let n=0;n<O.length;n+=1)P[n]=Ge(Ke(l,O,n));return{c(){e=E("div"),t=E("div"),o=R(),s=E("h2"),c=W("Select New Trigger"),a=R(),u=E("div"),Z(r.$$.fragment),i=R(),v=E("hr"),f=R(),$=E("div");for(let n=0;n<P.length;n+=1)P[n].c();h=R(),C=E("hr"),m=R(),b=E("div"),J=W("Cancel"),this.h()},l(n){e=D(n,"DIV",{class:!0});var p=M(e);t=D(p,"DIV",{}),M(t).forEach(d),o=L(p),s=D(p,"H2",{class:!0});var j=M(s);c=z(j,"Select New Trigger"),j.forEach(d),a=L(p),u=D(p,"DIV",{class:!0});var H=M(u);Y(r.$$.fragment,H),H.forEach(d),p.forEach(d),i=L(n),v=D(n,"HR",{}),f=L(n),$=D(n,"DIV",{class:!0});var F=M($);for(let V=0;V<P.length;V+=1)P[V].l(F);F.forEach(d),h=L(n),C=D(n,"HR",{}),m=L(n),b=D(n,"DIV",{class:!0});var x=M(b);J=z(x,"Cancel"),x.forEach(d),this.h()},h(){T(s,"class","modal-header svelte-1tyfxc"),T(u,"class","search-bar"),T(e,"class","modal-header-wrapper"),T($,"class","triggers"),T(b,"class","cancel")},m(n,p){g(n,e,p),I(e,t),I(e,o),I(e,s),I(s,c),I(e,a),I(e,u),G(r,u,null),g(n,i,p),g(n,v,p),g(n,f,p),g(n,$,p);for(let j=0;j<P.length;j+=1)P[j]&&P[j].m($,null);g(n,h,p),g(n,C,p),g(n,m,p),g(n,b,p),I(b,J),S=!0,w||(N=U(b,"click",l[11]),w=!0)},p(n,p){const j={};if(!_&&p&1&&(_=!0,j.value=n[0],se(()=>_=!1)),r.$set(j),p&24){O=n[3];let H;for(H=0;H<O.length;H+=1){const F=Ke(n,O,H);P[H]?P[H].p(F,p):(P[H]=Ge(F),P[H].c(),P[H].m($,null))}for(;H<P.length;H+=1)P[H].d(1);P.length=O.length}},i(n){S||(B(r.$$.fragment,n),S=!0)},o(n){Q(r.$$.fragment,n),S=!1},d(n){n&&d(e),X(r),n&&d(i),n&&d(v),n&&d(f),n&&d($),re(P,n),n&&d(h),n&&d(C),n&&d(m),n&&d(b),w=!1,N()}}}function bt(l){let e,t,o,s,c=l[1].name+"",a,u,r,_,i,v,f,$,h,C,m,b,J,S,w;document.title=e="ProSkillAPI Dynamic Editor - "+l[1].name;let N=l[1].triggers,k=[];for(let n=0;n<N.length;n+=1)k[n]=Ze(Ue(l,N,n));const q=n=>Q(k[n],1,1,()=>{k[n]=null});function O(n){l[12](n)}let P={$$slots:{default:[$t]},$$scope:{ctx:l}};return l[2]!==void 0&&(P.open=l[2]),m=new ge({props:P}),te.push(()=>le(m,"open",O)),{c(){t=R(),o=E("div"),s=E("h2"),a=W(c),u=R(),r=E("hr"),_=R(),i=E("div");for(let n=0;n<k.length;n+=1)k[n].c();v=R(),f=E("div"),$=E("span"),h=W("variables"),C=R(),Z(m.$$.fragment),this.h()},l(n){at("svelte-r5m1v8",document.head).forEach(d),t=L(n),o=D(n,"DIV",{class:!0});var j=M(o);s=D(j,"H2",{class:!0});var H=M(s);a=z(H,c),H.forEach(d),j.forEach(d),u=L(n),r=D(n,"HR",{}),_=L(n),i=D(n,"DIV",{class:!0});var F=M(i);for(let y=0;y<k.length;y+=1)k[y].l(F);v=L(F),f=D(F,"DIV",{class:!0,title:!0});var x=M(f);$=D(x,"SPAN",{class:!0});var V=M($);h=z(V,"variables"),V.forEach(d),x.forEach(d),F.forEach(d),C=L(n),Y(m.$$.fragment,n),this.h()},h(){T(s,"class","svelte-1tyfxc"),T(o,"class","header svelte-1tyfxc"),T($,"class","material-symbols-rounded svelte-1tyfxc"),T(f,"class","add-trigger chip svelte-1tyfxc"),T(f,"title","Add Trigger"),T(i,"class","container svelte-1tyfxc")},m(n,p){g(n,t,p),g(n,o,p),I(o,s),I(s,a),g(n,u,p),g(n,r,p),g(n,_,p),g(n,i,p);for(let j=0;j<k.length;j+=1)k[j]&&k[j].m(i,null);I(i,v),I(i,f),I(f,$),I($,h),g(n,C,p),G(m,n,p),J=!0,S||(w=U(f,"click",l[8]),S=!0)},p(n,[p]){if((!J||p&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+n[1].name)&&(document.title=e),(!J||p&2)&&c!==(c=n[1].name+"")&&oe(a,c),p&98){N=n[1].triggers;let H;for(H=0;H<N.length;H+=1){const F=Ue(n,N,H);k[H]?(k[H].p(F,p),B(k[H],1)):(k[H]=Ze(F),k[H].c(),B(k[H],1),k[H].m(i,v))}for(ce(),H=N.length;H<k.length;H+=1)q(H);ue()}const j={};p&2097165&&(j.$$scope={dirty:p,ctx:n}),!b&&p&4&&(b=!0,j.open=n[2],se(()=>b=!1)),m.$set(j)},i(n){if(!J){for(let p=0;p<N.length;p+=1)B(k[p]);B(m.$$.fragment,n),J=!0}},o(n){k=k.filter(Boolean);for(let p=0;p<k.length;p+=1)Q(k[p]);Q(m.$$.fragment,n),J=!1},d(n){n&&d(t),n&&d(o),n&&d(u),n&&d(r),n&&d(_),n&&d(i),re(k,n),n&&d(C),X(m,n),S=!1,w()}}}function wt(l,e,t){let{data:o}=e,s=o.data,c=!1,a="",u;const r=m=>{s.triggers.push(m.detail),t(1,s.triggers=[...s.triggers],s),setTimeout(()=>t(2,c=!1))},_=()=>{t(1,s.triggers=[...s.triggers],s),i()},i=()=>Me.set([...ft(Me)]),v=()=>t(2,c=!0);function f(m){a=m,t(0,a)}const $=m=>r({detail:m.clone()}),h=()=>t(2,c=!1);function C(m){c=m,t(2,c)}return l.$$set=m=>{"data"in m&&t(7,o=m.data)},l.$$.update=()=>{l.$$.dirty&1&&t(3,u=Object.keys(ut.MAP).filter(m=>m.toLowerCase().includes(a.toLowerCase())).sort())},[a,s,c,u,r,_,i,o,v,f,$,h,C]}class Ct extends Xe{constructor(e){super(),Ye(this,e,wt,bt,xe,{data:7})}}export{Ct as default};
