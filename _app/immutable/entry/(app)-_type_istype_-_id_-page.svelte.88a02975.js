import{S as tt,i as lt,s as nt,w as te,H as le,k as V,a as R,q as F,y as Z,l as C,m as H,c as M,h as _,r as J,z as ee,n as S,p as ut,b as w,C as I,A as G,E as Y,J as ue,g as j,u as se,v as ae,d as B,f as fe,O as ne,R as _t,B as x,F as it,T as dt,a8 as pt,o as st,X as ht,P as _e,Z as oe,a2 as qe,V as De,Q as ot,Y as mt,a1 as de,e as Ee,x as Se,a9 as vt,a0 as gt,U as bt}from"../chunks/index.3926e6cc.js";import{R as me,F as ke,H as He,t as Te}from"../chunks/store.4e015fc7.js";import{M as Ce,u as kt,b as $e,a as we,P as Ve}from"../chunks/settings.fd02ff57.js";import{s as ie,P as ve,b as $t,T as rt}from"../chunks/ProInput.decbeb7f.js";function Ne(l,e,t){const n=l.slice();return n[43]=e[t],n}function ye(l,e,t){const n=l.slice();return n[46]=e[t],n}function Ae(l,e,t){const n=l.slice();return n[49]=e[t],n}function Re(l,e,t){const n=l.slice();return n[52]=e[t],n[53]=e,n[54]=t,n}function Me(l,e,t){const n=l.slice();return n[55]=e[t],n[56]=e,n[57]=t,n}function wt(l){let e,t,n;return{c(){e=V("span"),t=F("expand_less"),this.h()},l(s){e=C(s,"SPAN",{class:!0});var i=H(e);t=J(i,"expand_less"),i.forEach(_),this.h()},h(){S(e,"class","material-symbols-rounded svelte-crwhqu")},m(s,i){w(s,e,i),I(e,t)},i(s){s&&(n||_e(()=>{n=ot(e,l[14],{duration:400}),n.start()}))},o:qe,d(s){s&&_(e)}}}function Et(l){let e,t,n;return{c(){e=V("span"),t=F("expand_more"),this.h()},l(s){e=C(s,"SPAN",{class:!0});var i=H(e);t=J(i,"expand_more"),i.forEach(_),this.h()},h(){S(e,"class","material-symbols-rounded svelte-crwhqu")},m(s,i){w(s,e,i),I(e,t)},i(s){s&&(n||_e(()=>{n=ot(e,l[14],{duration:400}),n.start()}))},o:qe,d(s){s&&_(e)}}}function Le(l){let e,t,n,s,i,a,u,r,f,o,h=[],d=new Map,b,T,N,K,O,m=l[0].components;const W=v=>v[55].id;for(let v=0;v<m.length;v+=1){let q=Me(l,m,v),E=W(q);d.set(E,h[v]=Oe(E,q))}let p=l[0].isParent&&Ke(l);return{c(){e=V("div"),t=V("div"),n=F("content_copy"),i=R(),a=V("div"),u=F("delete"),f=R(),o=V("div");for(let v=0;v<h.length;v+=1)h[v].c();b=R(),p&&p.c(),this.h()},l(v){e=C(v,"DIV",{class:!0});var q=H(e);t=C(q,"DIV",{class:!0,title:!0});var E=H(t);n=J(E,"content_copy"),E.forEach(_),i=M(q),a=C(q,"DIV",{class:!0,title:!0});var A=H(a);u=J(A,"delete"),A.forEach(_),q.forEach(_),f=M(v),o=C(v,"DIV",{class:!0});var D=H(o);for(let c=0;c<h.length;c+=1)h[c].l(D);b=M(D),p&&p.l(D),D.forEach(_),this.h()},h(){S(t,"class","material-symbols-rounded control copy svelte-crwhqu"),S(t,"title","Copy"),S(a,"class","material-symbols-rounded control delete svelte-crwhqu"),S(a,"title","Delete"),S(e,"class","controls svelte-crwhqu"),S(o,"class","children svelte-crwhqu")},m(v,q){w(v,e,q),I(e,t),I(t,n),I(e,i),I(e,a),I(a,u),w(v,f,q),w(v,o,q);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(o,null);I(o,b),p&&p.m(o,null),N=!0,K||(O=[Y(t,"click",ue(l[19])),Y(a,"click",ue(l[20]))],K=!0)},p(v,q){q[0]&3&&(m=v[0].components,ae(),h=ht(h,q,W,1,v,m,d,o,mt,Oe,b,Me),fe()),v[0].isParent?p?p.p(v,q):(p=Ke(v),p.c(),p.m(o,null)):p&&(p.d(1),p=null)},i(v){if(!N){_e(()=>{N&&(s||(s=oe(t,ie,{},!0)),s.run(1))}),_e(()=>{N&&(r||(r=oe(a,ie,{},!0)),r.run(1))});for(let q=0;q<m.length;q+=1)j(h[q]);v&&_e(()=>{N&&(T||(T=oe(o,ie,{},!0)),T.run(1))}),N=!0}},o(v){s||(s=oe(t,ie,{},!1)),s.run(0),r||(r=oe(a,ie,{},!1)),r.run(0);for(let q=0;q<h.length;q+=1)B(h[q]);v&&(T||(T=oe(o,ie,{},!1)),T.run(0)),N=!1},d(v){v&&_(e),v&&s&&s.end(),v&&r&&r.end(),v&&_(f),v&&_(o);for(let q=0;q<h.length;q+=1)h[q].d();p&&p.d(),v&&T&&T.end(),K=!1,it(O)}}}function Oe(l,e){let t,n,s,i,a;function u(f){e[21](f,e[55],e[56],e[57])}let r={skill:e[1]};return e[55]!==void 0&&(r.component=e[55]),n=new at({props:r}),te.push(()=>le(n,"component",u)),n.$on("update",e[22]),n.$on("save",e[23]),{key:l,first:null,c(){t=V("span"),Z(n.$$.fragment),this.h()},l(f){t=C(f,"SPAN",{});var o=H(t);ee(n.$$.fragment,o),o.forEach(_),this.h()},h(){this.first=t},m(f,o){w(f,t,o),G(n,t,null),a=!0},p(f,o){e=f;const h={};o[0]&2&&(h.skill=e[1]),!s&&o[0]&1&&(s=!0,h.component=e[55],ne(()=>s=!1)),n.$set(h)},i(f){a||(j(n.$$.fragment,f),f&&_e(()=>{a&&(i||(i=oe(t,ie,{},!0)),i.run(1))}),a=!0)},o(f){B(n.$$.fragment,f),f&&(i||(i=oe(t,ie,{},!1)),i.run(0)),a=!1},d(f){f&&_(t),x(n),f&&i&&i.end()}}}function Ke(l){let e,t,n,s;return{c(){e=V("div"),t=F("+ Add Component"),this.h()},l(i){e=C(i,"DIV",{class:!0});var a=H(e);t=J(a,"+ Add Component"),a.forEach(_),this.h()},h(){S(e,"class","chip svelte-crwhqu")},m(i,a){w(i,e,a),I(e,t),n||(s=Y(e,"click",ue(l[24])),n=!0)},p:qe,d(i){i&&_(e),n=!1,s()}}}function je(l){let e,t=l[0].description+"",n;return{c(){e=V("div"),n=F(t),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=H(e);n=J(i,t),i.forEach(_),this.h()},h(){S(e,"class","modal-desc svelte-crwhqu")},m(s,i){w(s,e,i),I(e,n)},p(s,i){i[0]&1&&t!==(t=s[0].description+"")&&se(n,t)},d(s){s&&_(e)}}}function It(l){let e,t,n;function s(a){l[30](a)}let i={label:"Icon Key",tooltip:'The key used by the component in the Icon Lore. If this is set to "example" and has a value name of "value", it can be referenced using the string "{attr:example.value}"'};return l[0].iconKey!==void 0&&(i.value=l[0].iconKey),e=new ve({props:i}),te.push(()=>le(e,"value",s)),{c(){Z(e.$$.fragment)},l(a){ee(e.$$.fragment,a)},m(a,u){G(e,a,u),n=!0},p(a,u){const r={};!t&&u[0]&1&&(t=!0,r.value=a[0].iconKey,ne(()=>t=!1)),e.$set(r)},i(a){n||(j(e.$$.fragment,a),n=!0)},o(a){B(e.$$.fragment,a),n=!1},d(a){x(e,a)}}}function Dt(l){let e,t,n,s;return e=new ve({props:{label:"Mana",tooltip:"Whether this trigger requires the mana cost to activate",$$slots:{default:[Vt]},$$scope:{ctx:l}}}),n=new ve({props:{label:"Cooldown",tooltip:"Whether this trigger requires to be off cooldown to activate",$$slots:{default:[Ct]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment),t=R(),Z(n.$$.fragment)},l(i){ee(e.$$.fragment,i),t=M(i),ee(n.$$.fragment,i)},m(i,a){G(e,i,a),w(i,t,a),G(n,i,a),s=!0},p(i,a){const u={};a[0]&1|a[1]&134217728&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const r={};a[0]&1|a[1]&134217728&&(r.$$scope={dirty:a,ctx:i}),n.$set(r)},i(i){s||(j(e.$$.fragment,i),j(n.$$.fragment,i),s=!0)},o(i){B(e.$$.fragment,i),B(n.$$.fragment,i),s=!1},d(i){x(e,i),i&&_(t),x(n,i)}}}function Vt(l){let e,t,n;function s(a){l[28](a)}let i={};return l[0].mana!==void 0&&(i.data=l[0].mana),e=new rt({props:i}),te.push(()=>le(e,"data",s)),{c(){Z(e.$$.fragment)},l(a){ee(e.$$.fragment,a)},m(a,u){G(e,a,u),n=!0},p(a,u){const r={};!t&&u[0]&1&&(t=!0,r.data=a[0].mana,ne(()=>t=!1)),e.$set(r)},i(a){n||(j(e.$$.fragment,a),n=!0)},o(a){B(e.$$.fragment,a),n=!1},d(a){x(e,a)}}}function Ct(l){let e,t,n;function s(a){l[29](a)}let i={};return l[0].cooldown!==void 0&&(i.data=l[0].cooldown),e=new rt({props:i}),te.push(()=>le(e,"data",s)),{c(){Z(e.$$.fragment)},l(a){ee(e.$$.fragment,a)},m(a,u){G(e,a,u),n=!0},p(a,u){const r={};!t&&u[0]&1&&(t=!0,r.data=a[0].cooldown,ne(()=>t=!1)),e.$set(r)},i(a){n||(j(e.$$.fragment,a),n=!0)},o(a){B(e.$$.fragment,a),n=!1},d(a){x(e,a)}}}function We(l){let e,t,n,s;function i(r){l[31](r,l[52])}var a=l[52].component;function u(r){let f={name:r[52].name,tooltip:r[52].tooltip,multiple:r[52].multiple};return r[52].data!==void 0&&(f.data=r[52].data),{props:f}}return a&&(e=Se(a,u(l)),te.push(()=>le(e,"data",i)),e.$on("save",l[32])),{c(){e&&Z(e.$$.fragment),n=Ee()},l(r){e&&ee(e.$$.fragment,r),n=Ee()},m(r,f){e&&G(e,r,f),w(r,n,f),s=!0},p(r,f){l=r;const o={};if(f[0]&1&&(o.name=l[52].name),f[0]&1&&(o.tooltip=l[52].tooltip),f[0]&1&&(o.multiple=l[52].multiple),!t&&f[0]&1&&(t=!0,o.data=l[52].data,ne(()=>t=!1)),f[0]&1&&a!==(a=l[52].component)){if(e){ae();const h=e;B(h.$$.fragment,1,0,()=>{x(h,1)}),fe()}a?(e=Se(a,u(l)),te.push(()=>le(e,"data",i)),e.$on("save",l[32]),Z(e.$$.fragment),j(e.$$.fragment,1),G(e,n.parentNode,n)):e=null}else a&&e.$set(o)},i(r){s||(e&&j(e.$$.fragment,r),s=!0)},o(r){e&&B(e.$$.fragment,r),s=!1},d(r){r&&_(n),e&&x(e,r)}}}function ze(l){let e=l[52].meetsRequirements(l[0]),t,n,s=e&&We(l);return{c(){s&&s.c(),t=Ee()},l(i){s&&s.l(i),t=Ee()},m(i,a){s&&s.m(i,a),w(i,t,a),n=!0},p(i,a){a[0]&1&&(e=i[52].meetsRequirements(i[0])),e?s?(s.p(i,a),a[0]&1&&j(s,1)):(s=We(i),s.c(),j(s,1),s.m(t.parentNode,t)):s&&(ae(),B(s,1,1,()=>{s=null}),fe())},i(i){n||(j(s),n=!0)},o(i){B(s),n=!1},d(i){s&&s.d(i),i&&_(t)}}}function qt(l){let e,t=l[0].name+"",n,s,i,a,u,r,f,o,h,d,b=l[0].description&&je(l);const T=[Dt,It],N=[];function K(p,v){return p[0]instanceof ke&&p[0].name!="Cast"&&p[0].name!="Initialize"&&p[0].name!="Cleanup"?0:p[0]instanceof we||p[0]instanceof $e?1:-1}~(f=K(l))&&(o=N[f]=T[f](l));let O=l[0].data,m=[];for(let p=0;p<O.length;p+=1)m[p]=ze(Re(l,O,p));const W=p=>B(m[p],1,1,()=>{m[p]=null});return{c(){e=V("h2"),n=F(t),s=R(),b&&b.c(),i=R(),a=V("hr"),u=R(),r=V("div"),o&&o.c(),h=R();for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=C(p,"H2",{});var v=H(e);n=J(v,t),v.forEach(_),s=M(p),b&&b.l(p),i=M(p),a=C(p,"HR",{}),u=M(p),r=C(p,"DIV",{class:!0});var q=H(r);o&&o.l(q),h=M(q);for(let E=0;E<m.length;E+=1)m[E].l(q);q.forEach(_),this.h()},h(){S(r,"class","component-entry svelte-crwhqu")},m(p,v){w(p,e,v),I(e,n),w(p,s,v),b&&b.m(p,v),w(p,i,v),w(p,a,v),w(p,u,v),w(p,r,v),~f&&N[f].m(r,null),I(r,h);for(let q=0;q<m.length;q+=1)m[q]&&m[q].m(r,null);d=!0},p(p,v){(!d||v[0]&1)&&t!==(t=p[0].name+"")&&se(n,t),p[0].description?b?b.p(p,v):(b=je(p),b.c(),b.m(i.parentNode,i)):b&&(b.d(1),b=null);let q=f;if(f=K(p),f===q?~f&&N[f].p(p,v):(o&&(ae(),B(N[q],1,1,()=>{N[q]=null}),fe()),~f?(o=N[f],o?o.p(p,v):(o=N[f]=T[f](p),o.c()),j(o,1),o.m(r,h)):o=null),v[0]&1){O=p[0].data;let E;for(E=0;E<O.length;E+=1){const A=Re(p,O,E);m[E]?(m[E].p(A,v),j(m[E],1)):(m[E]=ze(A),m[E].c(),j(m[E],1),m[E].m(r,null))}for(ae(),E=O.length;E<m.length;E+=1)W(E);fe()}},i(p){if(!d){j(o);for(let v=0;v<O.length;v+=1)j(m[v]);d=!0}},o(p){B(o),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)B(m[v]);d=!1},d(p){p&&_(e),p&&_(s),b&&b.d(p),p&&_(i),p&&_(a),p&&_(u),p&&_(r),~f&&N[f].d(),de(m,p)}}}function Be(l){let e,t,n,s,i,a,u,r=l[7],f=[];for(let o=0;o<r.length;o+=1)f[o]=Fe(Ae(l,r,o));return{c(){e=V("hr"),t=R(),n=V("div"),s=V("h3"),i=F("Conditions"),a=R(),u=V("div");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=C(o,"HR",{}),t=M(o),n=C(o,"DIV",{class:!0});var h=H(n);s=C(h,"H3",{class:!0});var d=H(s);i=J(d,"Conditions"),d.forEach(_),h.forEach(_),a=M(o),u=C(o,"DIV",{class:!0});var b=H(u);for(let T=0;T<f.length;T+=1)f[T].l(b);b.forEach(_),this.h()},h(){S(s,"class","svelte-crwhqu"),S(n,"class","comp-modal-header svelte-crwhqu"),S(u,"class","triggers")},m(o,h){w(o,e,h),w(o,t,h),w(o,n,h),I(n,s),I(s,i),w(o,a,h),w(o,u,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(u,null)},p(o,h){if(h[0]&4224){r=o[7];let d;for(d=0;d<r.length;d+=1){const b=Ae(o,r,d);f[d]?f[d].p(b,h):(f[d]=Fe(b),f[d].c(),f[d].m(u,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=r.length}},d(o){o&&_(e),o&&_(t),o&&_(n),o&&_(a),o&&_(u),de(f,o)}}}function Fe(l){let e,t=l[49].name+"",n,s,i;function a(){return l[35](l[49])}return{c(){e=V("div"),n=F(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var r=H(e);n=J(r,t),r.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(u,r){w(u,e,r),I(e,n),s||(i=Y(e,"click",a),s=!0)},p(u,r){l=u,r[0]&128&&t!==(t=l[49].name+"")&&se(n,t)},d(u){u&&_(e),s=!1,i()}}}function Je(l){let e,t,n,s,i,a,u,r=l[6],f=[];for(let o=0;o<r.length;o+=1)f[o]=Qe(ye(l,r,o));return{c(){e=V("hr"),t=R(),n=V("div"),s=V("h3"),i=F("Targets"),a=R(),u=V("div");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=C(o,"HR",{}),t=M(o),n=C(o,"DIV",{class:!0});var h=H(n);s=C(h,"H3",{class:!0});var d=H(s);i=J(d,"Targets"),d.forEach(_),h.forEach(_),a=M(o),u=C(o,"DIV",{class:!0});var b=H(u);for(let T=0;T<f.length;T+=1)f[T].l(b);b.forEach(_),this.h()},h(){S(s,"class","svelte-crwhqu"),S(n,"class","comp-modal-header svelte-crwhqu"),S(u,"class","triggers")},m(o,h){w(o,e,h),w(o,t,h),w(o,n,h),I(n,s),I(s,i),w(o,a,h),w(o,u,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(u,null)},p(o,h){if(h[0]&4160){r=o[6];let d;for(d=0;d<r.length;d+=1){const b=ye(o,r,d);f[d]?f[d].p(b,h):(f[d]=Qe(b),f[d].c(),f[d].m(u,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=r.length}},d(o){o&&_(e),o&&_(t),o&&_(n),o&&_(a),o&&_(u),de(f,o)}}}function Qe(l){let e,t=l[46].name+"",n,s,i;function a(){return l[36](l[46])}return{c(){e=V("div"),n=F(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var r=H(e);n=J(r,t),r.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(u,r){w(u,e,r),I(e,n),s||(i=Y(e,"click",a),s=!0)},p(u,r){l=u,r[0]&64&&t!==(t=l[46].name+"")&&se(n,t)},d(u){u&&_(e),s=!1,i()}}}function Ue(l){let e,t,n,s,i,a,u,r=l[8],f=[];for(let o=0;o<r.length;o+=1)f[o]=Xe(Ne(l,r,o));return{c(){e=V("hr"),t=R(),n=V("div"),s=V("h3"),i=F("Mechanics"),a=R(),u=V("div");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=C(o,"HR",{}),t=M(o),n=C(o,"DIV",{class:!0});var h=H(n);s=C(h,"H3",{class:!0});var d=H(s);i=J(d,"Mechanics"),d.forEach(_),h.forEach(_),a=M(o),u=C(o,"DIV",{class:!0});var b=H(u);for(let T=0;T<f.length;T+=1)f[T].l(b);b.forEach(_),this.h()},h(){S(s,"class","svelte-crwhqu"),S(n,"class","comp-modal-header svelte-crwhqu"),S(u,"class","triggers")},m(o,h){w(o,e,h),w(o,t,h),w(o,n,h),I(n,s),I(s,i),w(o,a,h),w(o,u,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(u,null)},p(o,h){if(h[0]&4352){r=o[8];let d;for(d=0;d<r.length;d+=1){const b=Ne(o,r,d);f[d]?f[d].p(b,h):(f[d]=Xe(b),f[d].c(),f[d].m(u,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=r.length}},d(o){o&&_(e),o&&_(t),o&&_(n),o&&_(a),o&&_(u),de(f,o)}}}function Xe(l){let e,t=l[43].name+"",n,s,i;function a(){return l[37](l[43])}return{c(){e=V("div"),n=F(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var r=H(e);n=J(r,t),r.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(u,r){w(u,e,r),I(e,n),s||(i=Y(e,"click",a),s=!0)},p(u,r){l=u,r[0]&256&&t!==(t=l[43].name+"")&&se(n,t)},d(u){u&&_(e),s=!1,i()}}}function Pt(l){let e,t,n,s,i,a,u,r,f,o,h,d,b,T,N,K,O,m,W,p;function v(c){l[34](c)}let q={placeholder:"Search..."};l[3]!==void 0&&(q.value=l[3]),r=new ve({props:q}),te.push(()=>le(r,"value",v));let E=l[7].length>0&&Be(l),A=l[6].length>0&&Je(l),D=l[8].length>0&&Ue(l);return{c(){e=V("div"),t=V("div"),n=R(),s=V("h2"),i=F("Add a Component"),a=R(),u=V("div"),Z(r.$$.fragment),o=R(),E&&E.c(),h=R(),A&&A.c(),d=R(),D&&D.c(),b=R(),T=V("hr"),N=R(),K=V("div"),O=F("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var k=H(e);t=C(k,"DIV",{}),H(t).forEach(_),n=M(k),s=C(k,"H2",{});var Q=H(s);i=J(Q,"Add a Component"),Q.forEach(_),a=M(k),u=C(k,"DIV",{class:!0});var L=H(u);ee(r.$$.fragment,L),L.forEach(_),k.forEach(_),o=M(c),E&&E.l(c),h=M(c),A&&A.l(c),d=M(c),D&&D.l(c),b=M(c),T=C(c,"HR",{}),N=M(c),K=C(c,"DIV",{class:!0});var X=H(K);O=J(X,"Cancel"),X.forEach(_),this.h()},h(){S(u,"class","search-bar"),S(e,"class","modal-header-wrapper"),S(K,"class","cancel")},m(c,k){w(c,e,k),I(e,t),I(e,n),I(e,s),I(s,i),I(e,a),I(e,u),G(r,u,null),w(c,o,k),E&&E.m(c,k),w(c,h,k),A&&A.m(c,k),w(c,d,k),D&&D.m(c,k),w(c,b,k),w(c,T,k),w(c,N,k),w(c,K,k),I(K,O),m=!0,W||(p=Y(K,"click",l[38]),W=!0)},p(c,k){const Q={};!f&&k[0]&8&&(f=!0,Q.value=c[3],ne(()=>f=!1)),r.$set(Q),c[7].length>0?E?E.p(c,k):(E=Be(c),E.c(),E.m(h.parentNode,h)):E&&(E.d(1),E=null),c[6].length>0?A?A.p(c,k):(A=Je(c),A.c(),A.m(d.parentNode,d)):A&&(A.d(1),A=null),c[8].length>0?D?D.p(c,k):(D=Ue(c),D.c(),D.m(b.parentNode,b)):D&&(D.d(1),D=null)},i(c){m||(j(r.$$.fragment,c),m=!0)},o(c){B(r.$$.fragment,c),m=!1},d(c){c&&_(e),x(r),c&&_(o),E&&E.d(c),c&&_(h),A&&A.d(c),c&&_(d),D&&D.d(c),c&&_(b),c&&_(T),c&&_(N),c&&_(K),W=!1,p()}}}function St(l){let e,t,n,s,i,a,u,r=l[11](l[9])+"",f,o=(l[9]?" ":": ")+l[0].name,h,d,b,T,N,K,O,m,W,p,v,q;function E(P,g){return P[5]?Et:wt}let A=E(l),D=A(l),c=!l[5]&&Le(l);function k(P){l[33](P)}let Q={width:"70%",$$slots:{default:[qt]},$$scope:{ctx:l}};l[2]!==void 0&&(Q.open=l[2]),N=new Ce({props:Q}),te.push(()=>le(N,"open",k));function L(P){l[39](P)}let X={width:"70%",$$slots:{default:[Pt]},$$scope:{ctx:l}};return l[4]!==void 0&&(X.open=l[4]),m=new Ce({props:X}),te.push(()=>le(m,"open",L)),{c(){e=V("div"),t=V("div"),D.c(),n=R(),s=V("div"),i=R(),a=V("div"),u=V("span"),f=F(r),h=F(o),d=R(),c&&c.c(),T=R(),Z(N.$$.fragment),O=R(),Z(m.$$.fragment),this.h()},l(P){e=C(P,"DIV",{class:!0});var g=H(e);t=C(g,"DIV",{draggable:!0,class:!0});var y=H(t);D.l(y),n=M(y),s=C(y,"DIV",{class:!0}),H(s).forEach(_),i=M(y),a=C(y,"DIV",{class:!0});var U=H(a);u=C(U,"SPAN",{class:!0});var z=H(u);f=J(z,r),z.forEach(_),h=J(U,o),U.forEach(_),d=M(y),c&&c.l(y),y.forEach(_),g.forEach(_),T=M(P),ee(N.$$.fragment,P),O=M(P),ee(m.$$.fragment,P),this.h()},h(){S(s,"class","corner svelte-crwhqu"),S(u,"class","svelte-crwhqu"),S(a,"class","name svelte-crwhqu"),S(t,"draggable","true"),S(t,"class","comp-body svelte-crwhqu"),ut(t,"--comp-color",l[13]()),S(e,"class","wrapper svelte-crwhqu")},m(P,g){w(P,e,g),I(e,t),D.m(t,null),I(t,n),I(t,s),I(t,i),I(t,a),I(a,u),I(u,f),I(a,h),I(t,d),c&&c.m(t,null),w(P,T,g),G(N,P,g),w(P,O,g),G(m,P,g),p=!0,v||(q=[Y(s,"click",ue(l[18])),Y(t,"dragstart",ue(l[25])),Y(t,"dragend",l[26]),Y(t,"click",ue(l[27]))],v=!0)},p(P,g){A!==(A=E(P))&&(D.d(1),D=A(P),D&&(D.c(),j(D,1),D.m(t,n))),(!p||g[0]&512)&&r!==(r=P[11](P[9])+"")&&se(f,r),(!p||g[0]&513)&&o!==(o=(P[9]?" ":": ")+P[0].name)&&se(h,o),P[5]?c&&(ae(),B(c,1,1,()=>{c=null}),fe()):c?(c.p(P,g),g[0]&32&&j(c,1)):(c=Le(P),c.c(),j(c,1),c.m(t,null));const y={};g[0]&1|g[1]&134217728&&(y.$$scope={dirty:g,ctx:P}),!K&&g[0]&4&&(K=!0,y.open=P[2],ne(()=>K=!1)),N.$set(y);const U={};g[0]&472|g[1]&134217728&&(U.$$scope={dirty:g,ctx:P}),!W&&g[0]&16&&(W=!0,U.open=P[4],ne(()=>W=!1)),m.$set(U)},i(P){p||(j(D),j(c),b&&b.end(1),j(N.$$.fragment,P),j(m.$$.fragment,P),p=!0)},o(P){B(c),b=_t(t,ie,{}),B(N.$$.fragment,P),B(m.$$.fragment,P),p=!1},d(P){P&&_(e),D.d(),c&&c.d(),P&&b&&b.end(),P&&_(T),x(N,P),P&&_(O),x(m,P),v=!1,it(q)}}}function Ht(l,e,t){let n;dt(l,kt,$=>t(9,n=$));let{skill:s}=e,{component:i}=e;const a=pt();let u=!1,r=!1,f=!1,o="",h={},d={},b={},T,N,K;st(()=>{me.targets.subscribe($=>t(15,h=$)),me.conditions.subscribe($=>t(16,d=$)),me.mechanics.subscribe($=>t(17,b=$))});const O=($=!1)=>{if($){if(i instanceof ke)return"ðŸš©";if(i instanceof $e)return"âš ";if(i instanceof we)return"ðŸŽ¯";if(i instanceof Ve)return"ðŸ”§"}return i instanceof ke?"Trigger":i instanceof $e?"Condition":i instanceof we?"Target":i instanceof Ve?"Mechanic":"???"},m=$=>{t(0,i.components=[...i.components,$],i),t(4,r=!1),t(3,o=""),a("save")},W=()=>i instanceof ke?"#0083ef":i instanceof $e?"#feac00":i instanceof we?"#04af38":i instanceof Ve?"#ff3a3a":"orange",p=($,{duration:he})=>({duration:he,css:Ie=>`transform: rotate(${180-$t(Ie)*180}deg);`}),v=()=>t(5,f=!f),q=()=>console.log("clicked copy"),E=()=>{s.removeComponent(i),a("update")};function A($,he,Ie,Pe){Ie[Pe]=$,t(0,i)}function D($){De.call(this,l,$)}function c($){De.call(this,l,$)}const k=()=>t(4,r=!0),Q=()=>He.set(i),L=()=>He.set(void 0),X=()=>t(2,u=!0);function P($){l.$$.not_equal(i.mana,$)&&(i.mana=$,t(0,i))}function g($){l.$$.not_equal(i.cooldown,$)&&(i.cooldown=$,t(0,i))}function y($){l.$$.not_equal(i.iconKey,$)&&(i.iconKey=$,t(0,i))}function U($,he){l.$$.not_equal(he.data,$)&&(he.data=$,t(0,i))}function z($){De.call(this,l,$)}function re($){u=$,t(2,u)}function ge($){o=$,t(3,o)}const be=$=>m($),ce=$=>m($),pe=$=>m($),ft=()=>t(4,r=!1);function ct($){r=$,t(4,r)}return l.$$set=$=>{"skill"in $&&t(1,s=$.skill),"component"in $&&t(0,i=$.component)},l.$$.update=()=>{l.$$.dirty[0]&229384&&(t(6,T=Object.keys(h).filter($=>$.toLowerCase().includes(o.toLowerCase())).sort().map($=>h[$].component.new())),t(7,N=Object.keys(d).filter($=>$.toLowerCase().includes(o.toLowerCase())).sort().map($=>d[$].component.new())),t(8,K=Object.keys(b).filter($=>$.toLowerCase().includes(o.toLowerCase())).sort().map($=>b[$].component.new()))),l.$$.dirty[0]&1&&i&&a("save"),l.$$.dirty[0]&5&&u&&i&&i.data.filter($=>$.dataSource).forEach($=>$.init())},[i,s,u,o,r,f,T,N,K,n,a,O,m,W,p,h,d,b,v,q,E,A,D,c,k,Q,L,X,P,g,y,U,z,re,ge,be,ce,pe,ft,ct]}class at extends tt{constructor(e){super(),lt(this,e,Ht,St,nt,{skill:1,component:0},null,[-1,-1])}}function Ye(l,e,t){const n=l.slice();return n[17]=e[t],n}function Ze(l,e,t){const n=l.slice();return n[20]=e[t],n}function Ge(l){let e,t,n;return t=new at({props:{skill:l[1],component:l[20]}}),t.$on("update",l[5]),t.$on("save",l[6]),{c(){e=V("div"),Z(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=H(e);ee(t.$$.fragment,i),i.forEach(_),this.h()},h(){S(e,"class","widget svelte-4lo1mc")},m(s,i){w(s,e,i),G(t,e,null),n=!0},p(s,i){const a={};i&2&&(a.skill=s[1]),i&2&&(a.component=s[20]),t.$set(a)},i(s){n||(j(t.$$.fragment,s),n=!0)},o(s){B(t.$$.fragment,s),n=!1},d(s){s&&_(e),x(t)}}}function xe(l){let e,t;return{c(){e=V("div"),t=F("No triggers added yet.")},l(n){e=C(n,"DIV",{});var s=H(e);t=J(s,"No triggers added yet."),s.forEach(_)},m(n,s){w(n,e,s),I(e,t)},d(n){n&&_(e)}}}function et(l){let e,t=l[17].name+"",n,s,i,a;function u(){return l[11](l[17])}return{c(){e=V("div"),n=F(t),s=R(),this.h()},l(r){e=C(r,"DIV",{class:!0});var f=H(e);n=J(f,t),s=M(f),f.forEach(_),this.h()},h(){S(e,"class","comp-select")},m(r,f){w(r,e,f),I(e,n),I(e,s),i||(a=Y(e,"click",u),i=!0)},p(r,f){l=r,f&8&&t!==(t=l[17].name+"")&&se(n,t)},d(r){r&&_(e),i=!1,a()}}}function Tt(l){let e,t,n,s,i,a,u,r,f,o,h,d,b,T,N,K,O,m,W,p,v;function q(c){l[10](c)}let E={placeholder:"Search..."};l[0]!==void 0&&(E.value=l[0]),r=new ve({props:E}),te.push(()=>le(r,"value",q));let A=l[3],D=[];for(let c=0;c<A.length;c+=1)D[c]=et(Ye(l,A,c));return{c(){e=V("div"),t=V("div"),n=R(),s=V("h2"),i=F("Select New Trigger"),a=R(),u=V("div"),Z(r.$$.fragment),o=R(),h=V("hr"),d=R(),b=V("div");for(let c=0;c<D.length;c+=1)D[c].c();T=R(),N=V("hr"),K=R(),O=V("div"),m=F("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var k=H(e);t=C(k,"DIV",{}),H(t).forEach(_),n=M(k),s=C(k,"H2",{class:!0});var Q=H(s);i=J(Q,"Select New Trigger"),Q.forEach(_),a=M(k),u=C(k,"DIV",{class:!0});var L=H(u);ee(r.$$.fragment,L),L.forEach(_),k.forEach(_),o=M(c),h=C(c,"HR",{}),d=M(c),b=C(c,"DIV",{class:!0});var X=H(b);for(let g=0;g<D.length;g+=1)D[g].l(X);X.forEach(_),T=M(c),N=C(c,"HR",{}),K=M(c),O=C(c,"DIV",{class:!0});var P=H(O);m=J(P,"Cancel"),P.forEach(_),this.h()},h(){S(s,"class","modal-header svelte-4lo1mc"),S(u,"class","search-bar"),S(e,"class","modal-header-wrapper"),S(b,"class","triggers"),S(O,"class","cancel")},m(c,k){w(c,e,k),I(e,t),I(e,n),I(e,s),I(s,i),I(e,a),I(e,u),G(r,u,null),w(c,o,k),w(c,h,k),w(c,d,k),w(c,b,k);for(let Q=0;Q<D.length;Q+=1)D[Q]&&D[Q].m(b,null);w(c,T,k),w(c,N,k),w(c,K,k),w(c,O,k),I(O,m),W=!0,p||(v=Y(O,"click",l[12]),p=!0)},p(c,k){const Q={};if(!f&&k&1&&(f=!0,Q.value=c[0],ne(()=>f=!1)),r.$set(Q),k&24){A=c[3];let L;for(L=0;L<A.length;L+=1){const X=Ye(c,A,L);D[L]?D[L].p(X,k):(D[L]=et(X),D[L].c(),D[L].m(b,null))}for(;L<D.length;L+=1)D[L].d(1);D.length=A.length}},i(c){W||(j(r.$$.fragment,c),W=!0)},o(c){B(r.$$.fragment,c),W=!1},d(c){c&&_(e),x(r),c&&_(o),c&&_(h),c&&_(d),c&&_(b),de(D,c),c&&_(T),c&&_(N),c&&_(K),c&&_(O),p=!1,v()}}}function Nt(l){let e,t,n,s,i=l[1].name+"",a,u,r,f,o,h,d,b,T,N,K,O,m,W,p,v,q,E,A,D;document.title=e="ProSkillAPI Dynamic Editor - "+l[1].name;let c=l[1].triggers,k=[];for(let g=0;g<c.length;g+=1)k[g]=Ge(Ze(l,c,g));const Q=g=>B(k[g],1,1,()=>{k[g]=null});let L=l[1].triggers.length==0&&xe();function X(g){l[13](g)}let P={$$slots:{default:[Tt]},$$scope:{ctx:l}};return l[2]!==void 0&&(P.open=l[2]),v=new Ce({props:P}),te.push(()=>le(v,"open",X)),{c(){t=R(),n=V("div"),s=V("h2"),a=F(i),u=R(),r=V("a"),f=F("edit"),h=R(),d=V("div"),b=V("span"),T=F("new_label"),N=R(),K=V("hr"),O=R(),m=V("div");for(let g=0;g<k.length;g+=1)k[g].c();W=R(),L&&L.c(),p=R(),Z(v.$$.fragment),this.h()},l(g){vt("svelte-r5m1v8",document.head).forEach(_),t=M(g),n=C(g,"DIV",{class:!0});var U=H(n);s=C(U,"H2",{class:!0});var z=H(s);a=J(z,i),u=M(z),r=C(z,"A",{class:!0,title:!0,href:!0});var re=H(r);f=J(re,"edit"),re.forEach(_),h=M(z),d=C(z,"DIV",{class:!0,title:!0});var ge=H(d);b=C(ge,"SPAN",{class:!0});var be=H(b);T=J(be,"new_label"),be.forEach(_),ge.forEach(_),z.forEach(_),U.forEach(_),N=M(g),K=C(g,"HR",{}),O=M(g),m=C(g,"DIV",{class:!0});var ce=H(m);for(let pe=0;pe<k.length;pe+=1)k[pe].l(ce);W=M(ce),L&&L.l(ce),ce.forEach(_),p=M(g),ee(v.$$.fragment,g),this.h()},h(){S(r,"class","material-symbols-rounded edit-skill chip svelte-4lo1mc"),S(r,"title","Edit"),S(r,"href",o="/skill/"+l[1].name+"/edit"),S(b,"class","material-symbols-rounded"),S(d,"class","add-trigger chip svelte-4lo1mc"),S(d,"title","Add Trigger"),S(s,"class","svelte-4lo1mc"),S(n,"class","header svelte-4lo1mc"),S(m,"class","container svelte-4lo1mc")},m(g,y){w(g,t,y),w(g,n,y),I(n,s),I(s,a),I(s,u),I(s,r),I(r,f),I(s,h),I(s,d),I(d,b),I(b,T),w(g,N,y),w(g,K,y),w(g,O,y),w(g,m,y);for(let U=0;U<k.length;U+=1)k[U]&&k[U].m(m,null);I(m,W),L&&L.m(m,null),w(g,p,y),G(v,g,y),E=!0,A||(D=Y(d,"click",l[9]),A=!0)},p(g,[y]){if((!E||y&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+g[1].name)&&(document.title=e),(!E||y&2)&&i!==(i=g[1].name+"")&&se(a,i),(!E||y&2&&o!==(o="/skill/"+g[1].name+"/edit"))&&S(r,"href",o),y&98){c=g[1].triggers;let z;for(z=0;z<c.length;z+=1){const re=Ze(g,c,z);k[z]?(k[z].p(re,y),j(k[z],1)):(k[z]=Ge(re),k[z].c(),j(k[z],1),k[z].m(m,W))}for(ae(),z=c.length;z<k.length;z+=1)Q(z);fe()}g[1].triggers.length==0?L||(L=xe(),L.c(),L.m(m,null)):L&&(L.d(1),L=null);const U={};y&8388621&&(U.$$scope={dirty:y,ctx:g}),!q&&y&4&&(q=!0,U.open=g[2],ne(()=>q=!1)),v.$set(U)},i(g){if(!E){for(let y=0;y<c.length;y+=1)j(k[y]);j(v.$$.fragment,g),E=!0}},o(g){k=k.filter(Boolean);for(let y=0;y<k.length;y+=1)B(k[y]);B(v.$$.fragment,g),E=!1},d(g){g&&_(t),g&&_(n),g&&_(N),g&&_(K),g&&_(O),g&&_(m),de(k,g),L&&L.d(),g&&_(p),x(v,g),A=!1,D()}}}function yt(l,e,t){let{data:n}=e,s,i=!1,a="",u,r,f={};st(()=>{r=me.triggers.subscribe(W=>t(8,f=W));let m;m=me.initialized.subscribe(W=>{W&&(m&&m(),h())})}),gt(()=>{r&&r()});const o=m=>{s.triggers.push(m.detail),h(),setTimeout(()=>t(2,i=!1))},h=()=>{t(1,s.triggers=[...s.triggers],s),d()},d=()=>Te.set([...bt(Te)]),b=()=>t(2,i=!0);function T(m){a=m,t(0,a)}const N=m=>o({detail:m.clone()}),K=()=>t(2,i=!1);function O(m){i=m,t(2,i)}return l.$$set=m=>{"data"in m&&t(7,n=m.data)},l.$$.update=()=>{l.$$.dirty&128&&n&&t(1,s=n.data),l.$$.dirty&257&&t(3,u=Object.keys(f).filter(m=>m.toLowerCase().includes(a.toLowerCase())).sort().map(m=>f[m].component.new()))},[a,s,i,u,o,h,d,n,f,b,T,N,K,O]}class Ot extends tt{constructor(e){super(),lt(this,e,yt,Nt,nt,{data:7})}}export{Ot as default};
