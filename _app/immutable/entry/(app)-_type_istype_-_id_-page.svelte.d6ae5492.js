import{S as xe,i as et,s as tt,w as te,H as le,k as I,a as j,q as z,y as Y,l as V,m as T,c as R,h as d,r as F,z as ee,n as M,p as ot,b as k,C as D,A as y,E as X,J as fe,g as J,u as re,v as ue,d as W,f as _e,O as se,R as rt,B as x,F as lt,a9 as at,P as ce,Z as ie,a1 as ae,a2 as $e,V as ge,Q as nt,x as we,e as Ee,a8 as ft,U as ct}from"../chunks/index.1ee62562.js";import{T as De,H as Ie,M as Ve,b as ne,I as he,J as Ce,K as Pe,L as Ae,N as Me,O as me,Q as ut,R as Te,w as He}from"../chunks/store.4b7d5ae5.js";import{M as ke}from"../chunks/navigation.c3f02a0b.js";import{T as st}from"../chunks/Toggle.5a1895ad.js";function Se(l,e,t){const i=l.slice();return i[35]=e[t],i}function Ne(l,e,t){const i=l.slice();return i[38]=e[t],i}function je(l,e,t){const i=l.slice();return i[41]=e[t],i}function Re(l,e,t){const i=l.slice();return i[44]=e[t],i[45]=e,i[46]=t,i}function Le(l,e,t){const i=l.slice();return i[47]=e[t],i[48]=e,i[49]=t,i}function _t(l){let e,t,i;return{c(){e=I("span"),t=z("expand_less"),this.h()},l(n){e=V(n,"SPAN",{class:!0});var f=T(e);t=F(f,"expand_less"),f.forEach(d),this.h()},h(){M(e,"class","material-symbols-rounded svelte-3kwxiu")},m(n,f){k(n,e,f),D(e,t)},i(n){n&&(i||ce(()=>{i=nt(e,l[13],{duration:400}),i.start()}))},o:$e,d(n){n&&d(e)}}}function dt(l){let e,t,i;return{c(){e=I("span"),t=z("expand_more"),this.h()},l(n){e=V(n,"SPAN",{class:!0});var f=T(e);t=F(f,"expand_more"),f.forEach(d),this.h()},h(){M(e,"class","material-symbols-rounded svelte-3kwxiu")},m(n,f){k(n,e,f),D(e,t)},i(n){n&&(i||ce(()=>{i=nt(e,l[13],{duration:400}),i.start()}))},o:$e,d(n){n&&d(e)}}}function Oe(l){let e,t,i,n,f,a,u,o,_,s,m,c,E,p,A,h=l[0].components,w=[];for(let $=0;$<h.length;$+=1)w[$]=qe(Le(l,h,$));const U=$=>W(w[$],1,1,()=>{w[$]=null});let S=l[0].isParent&&Be(l);return{c(){e=I("div"),t=I("div"),i=z("content_copy"),f=j(),a=I("div"),u=z("delete"),_=j(),s=I("div");for(let $=0;$<w.length;$+=1)w[$].c();m=j(),S&&S.c(),this.h()},l($){e=V($,"DIV",{class:!0});var L=T(e);t=V(L,"DIV",{class:!0,title:!0});var N=T(t);i=F(N,"content_copy"),N.forEach(d),f=R(L),a=V(L,"DIV",{class:!0,title:!0});var q=T(a);u=F(q,"delete"),q.forEach(d),L.forEach(d),_=R($),s=V($,"DIV",{class:!0});var O=T(s);for(let C=0;C<w.length;C+=1)w[C].l(O);m=R(O),S&&S.l(O),O.forEach(d),this.h()},h(){M(t,"class","material-symbols-rounded control copy svelte-3kwxiu"),M(t,"title","Copy"),M(a,"class","material-symbols-rounded control delete svelte-3kwxiu"),M(a,"title","Delete"),M(e,"class","controls svelte-3kwxiu"),M(s,"class","children svelte-3kwxiu")},m($,L){k($,e,L),D(e,t),D(t,i),D(e,f),D(e,a),D(a,u),k($,_,L),k($,s,L);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(s,null);D(s,m),S&&S.m(s,null),E=!0,p||(A=[X(t,"click",fe(l[15])),X(a,"click",fe(l[16]))],p=!0)},p($,L){if(L[0]&3){h=$[0].components;let N;for(N=0;N<h.length;N+=1){const q=Le($,h,N);w[N]?(w[N].p(q,L),J(w[N],1)):(w[N]=qe(q),w[N].c(),J(w[N],1),w[N].m(s,m))}for(ue(),N=h.length;N<w.length;N+=1)U(N);_e()}$[0].isParent?S?S.p($,L):(S=Be($),S.c(),S.m(s,null)):S&&(S.d(1),S=null)},i($){if(!E){ce(()=>{E&&(n||(n=ie(t,ne,{},!0)),n.run(1))}),ce(()=>{E&&(o||(o=ie(a,ne,{},!0)),o.run(1))});for(let L=0;L<h.length;L+=1)J(w[L]);$&&ce(()=>{E&&(c||(c=ie(s,ne,{},!0)),c.run(1))}),E=!0}},o($){n||(n=ie(t,ne,{},!1)),n.run(0),o||(o=ie(a,ne,{},!1)),o.run(0),w=w.filter(Boolean);for(let L=0;L<w.length;L+=1)W(w[L]);$&&(c||(c=ie(s,ne,{},!1)),c.run(0)),E=!1},d($){$&&d(e),$&&n&&n.end(),$&&o&&o.end(),$&&d(_),$&&d(s),ae(w,$),S&&S.d(),$&&c&&c.end(),p=!1,lt(A)}}}function qe(l){let e,t,i,n,f;function a(o){l[17](o,l[47],l[48],l[49])}let u={skill:l[1]};return l[47]!==void 0&&(u.component=l[47]),t=new it({props:u}),te.push(()=>le(t,"component",a)),t.$on("update",l[18]),t.$on("save",l[19]),{c(){e=I("span"),Y(t.$$.fragment)},l(o){e=V(o,"SPAN",{});var _=T(e);ee(t.$$.fragment,_),_.forEach(d)},m(o,_){k(o,e,_),y(t,e,null),f=!0},p(o,_){l=o;const s={};_[0]&2&&(s.skill=l[1]),!i&&_[0]&1&&(i=!0,s.component=l[47],se(()=>i=!1)),t.$set(s)},i(o){f||(J(t.$$.fragment,o),o&&ce(()=>{f&&(n||(n=ie(e,ne,{},!0)),n.run(1))}),f=!0)},o(o){W(t.$$.fragment,o),o&&(n||(n=ie(e,ne,{},!1)),n.run(0)),f=!1},d(o){o&&d(e),x(t),o&&n&&n.end()}}}function Be(l){let e,t,i,n;return{c(){e=I("div"),t=z("+ Add Component"),this.h()},l(f){e=V(f,"DIV",{class:!0});var a=T(e);t=F(a,"+ Add Component"),a.forEach(d),this.h()},h(){M(e,"class","chip svelte-3kwxiu")},m(f,a){k(f,e,a),D(e,t),i||(n=X(e,"click",fe(l[20])),i=!0)},p:$e,d(f){f&&d(e),i=!1,n()}}}function Je(l){let e,t,i,n;return e=new me({props:{label:"Mana",$$slots:{default:[pt]},$$scope:{ctx:l}}}),i=new me({props:{label:"Cooldown",$$slots:{default:[ht]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment),t=j(),Y(i.$$.fragment)},l(f){ee(e.$$.fragment,f),t=R(f),ee(i.$$.fragment,f)},m(f,a){y(e,f,a),k(f,t,a),y(i,f,a),n=!0},p(f,a){const u={};a[0]&1|a[1]&524288&&(u.$$scope={dirty:a,ctx:f}),e.$set(u);const o={};a[0]&1|a[1]&524288&&(o.$$scope={dirty:a,ctx:f}),i.$set(o)},i(f){n||(J(e.$$.fragment,f),J(i.$$.fragment,f),n=!0)},o(f){W(e.$$.fragment,f),W(i.$$.fragment,f),n=!1},d(f){x(e,f),f&&d(t),x(i,f)}}}function pt(l){let e,t,i;function n(a){l[24](a)}let f={};return l[0].mana!==void 0&&(f.data=l[0].mana),e=new st({props:f}),te.push(()=>le(e,"data",n)),{c(){Y(e.$$.fragment)},l(a){ee(e.$$.fragment,a)},m(a,u){y(e,a,u),i=!0},p(a,u){const o={};!t&&u[0]&1&&(t=!0,o.data=a[0].mana,se(()=>t=!1)),e.$set(o)},i(a){i||(J(e.$$.fragment,a),i=!0)},o(a){W(e.$$.fragment,a),i=!1},d(a){x(e,a)}}}function ht(l){let e,t,i;function n(a){l[25](a)}let f={};return l[0].cooldown!==void 0&&(f.data=l[0].cooldown),e=new st({props:f}),te.push(()=>le(e,"data",n)),{c(){Y(e.$$.fragment)},l(a){ee(e.$$.fragment,a)},m(a,u){y(e,a,u),i=!0},p(a,u){const o={};!t&&u[0]&1&&(t=!0,o.data=a[0].cooldown,se(()=>t=!1)),e.$set(o)},i(a){i||(J(e.$$.fragment,a),i=!0)},o(a){W(e.$$.fragment,a),i=!1},d(a){x(e,a)}}}function Qe(l){let e,t,i,n;function f(o){l[26](o,l[44])}var a=l[44].component;function u(o){let _={color:!0};return o[44].data!==void 0&&(_.data=o[44].data),{props:_}}return a&&(e=we(a,u(l)),te.push(()=>le(e,"data",f)),e.$on("save",l[27])),{c(){e&&Y(e.$$.fragment),i=Ee()},l(o){e&&ee(e.$$.fragment,o),i=Ee()},m(o,_){e&&y(e,o,_),k(o,i,_),n=!0},p(o,_){l=o;const s={};if(!t&&_[0]&1&&(t=!0,s.data=l[44].data,se(()=>t=!1)),_[0]&1&&a!==(a=l[44].component)){if(e){ue();const m=e;W(m.$$.fragment,1,0,()=>{x(m,1)}),_e()}a?(e=we(a,u(l)),te.push(()=>le(e,"data",f)),e.$on("save",l[27]),Y(e.$$.fragment),J(e.$$.fragment,1),y(e,i.parentNode,i)):e=null}else a&&e.$set(s)},i(o){n||(e&&J(e.$$.fragment,o),n=!0)},o(o){e&&W(e.$$.fragment,o),n=!1},d(o){o&&d(i),e&&x(e,o)}}}function mt(l){let e,t=l[0].name+"",i,n,f,a,u,o,_,s=l[0]instanceof he&&Je(l),m=l[0].data,c=[];for(let p=0;p<m.length;p+=1)c[p]=Qe(Re(l,m,p));const E=p=>W(c[p],1,1,()=>{c[p]=null});return{c(){e=I("h2"),i=z(t),n=j(),f=I("hr"),a=j(),u=I("div"),s&&s.c(),o=j();for(let p=0;p<c.length;p+=1)c[p].c();this.h()},l(p){e=V(p,"H2",{});var A=T(e);i=F(A,t),A.forEach(d),n=R(p),f=V(p,"HR",{}),a=R(p),u=V(p,"DIV",{class:!0});var h=T(u);s&&s.l(h),o=R(h);for(let w=0;w<c.length;w+=1)c[w].l(h);h.forEach(d),this.h()},h(){M(u,"class","component-entry svelte-3kwxiu")},m(p,A){k(p,e,A),D(e,i),k(p,n,A),k(p,f,A),k(p,a,A),k(p,u,A),s&&s.m(u,null),D(u,o);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(u,null);_=!0},p(p,A){if((!_||A[0]&1)&&t!==(t=p[0].name+"")&&re(i,t),p[0]instanceof he?s?(s.p(p,A),A[0]&1&&J(s,1)):(s=Je(p),s.c(),J(s,1),s.m(u,o)):s&&(ue(),W(s,1,1,()=>{s=null}),_e()),A[0]&1){m=p[0].data;let h;for(h=0;h<m.length;h+=1){const w=Re(p,m,h);c[h]?(c[h].p(w,A),J(c[h],1)):(c[h]=Qe(w),c[h].c(),J(c[h],1),c[h].m(u,null))}for(ue(),h=m.length;h<c.length;h+=1)E(h);_e()}},i(p){if(!_){J(s);for(let A=0;A<m.length;A+=1)J(c[A]);_=!0}},o(p){W(s),c=c.filter(Boolean);for(let A=0;A<c.length;A+=1)W(c[A]);_=!1},d(p){p&&d(e),p&&d(n),p&&d(f),p&&d(a),p&&d(u),s&&s.d(),ae(c,p)}}}function We(l){let e,t,i,n,f,a,u,o=l[7],_=[];for(let s=0;s<o.length;s+=1)_[s]=ze(je(l,o,s));return{c(){e=I("hr"),t=j(),i=I("div"),n=I("h3"),f=z("Conditions"),a=j(),u=I("div");for(let s=0;s<_.length;s+=1)_[s].c();this.h()},l(s){e=V(s,"HR",{}),t=R(s),i=V(s,"DIV",{class:!0});var m=T(i);n=V(m,"H3",{class:!0});var c=T(n);f=F(c,"Conditions"),c.forEach(d),m.forEach(d),a=R(s),u=V(s,"DIV",{class:!0});var E=T(u);for(let p=0;p<_.length;p+=1)_[p].l(E);E.forEach(d),this.h()},h(){M(n,"class","svelte-3kwxiu"),M(i,"class","comp-modal-header svelte-3kwxiu"),M(u,"class","triggers")},m(s,m){k(s,e,m),k(s,t,m),k(s,i,m),D(i,n),D(n,f),k(s,a,m),k(s,u,m);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(u,null)},p(s,m){if(m[0]&2176){o=s[7];let c;for(c=0;c<o.length;c+=1){const E=je(s,o,c);_[c]?_[c].p(E,m):(_[c]=ze(E),_[c].c(),_[c].m(u,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=o.length}},d(s){s&&d(e),s&&d(t),s&&d(i),s&&d(a),s&&d(u),ae(_,s)}}}function ze(l){let e,t=l[41].name+"",i,n,f;function a(){return l[30](l[41])}return{c(){e=I("div"),i=z(t),this.h()},l(u){e=V(u,"DIV",{class:!0});var o=T(e);i=F(o,t),o.forEach(d),this.h()},h(){M(e,"class","comp-select")},m(u,o){k(u,e,o),D(e,i),n||(f=X(e,"click",a),n=!0)},p(u,o){l=u,o[0]&128&&t!==(t=l[41].name+"")&&re(i,t)},d(u){u&&d(e),n=!1,f()}}}function Fe(l){let e,t,i,n,f,a,u,o=l[6],_=[];for(let s=0;s<o.length;s+=1)_[s]=Ke(Ne(l,o,s));return{c(){e=I("hr"),t=j(),i=I("div"),n=I("h3"),f=z("Targets"),a=j(),u=I("div");for(let s=0;s<_.length;s+=1)_[s].c();this.h()},l(s){e=V(s,"HR",{}),t=R(s),i=V(s,"DIV",{class:!0});var m=T(i);n=V(m,"H3",{class:!0});var c=T(n);f=F(c,"Targets"),c.forEach(d),m.forEach(d),a=R(s),u=V(s,"DIV",{class:!0});var E=T(u);for(let p=0;p<_.length;p+=1)_[p].l(E);E.forEach(d),this.h()},h(){M(n,"class","svelte-3kwxiu"),M(i,"class","comp-modal-header svelte-3kwxiu"),M(u,"class","triggers")},m(s,m){k(s,e,m),k(s,t,m),k(s,i,m),D(i,n),D(n,f),k(s,a,m),k(s,u,m);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(u,null)},p(s,m){if(m[0]&2112){o=s[6];let c;for(c=0;c<o.length;c+=1){const E=Ne(s,o,c);_[c]?_[c].p(E,m):(_[c]=Ke(E),_[c].c(),_[c].m(u,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=o.length}},d(s){s&&d(e),s&&d(t),s&&d(i),s&&d(a),s&&d(u),ae(_,s)}}}function Ke(l){let e,t=l[38].name+"",i,n,f;function a(){return l[31](l[38])}return{c(){e=I("div"),i=z(t),this.h()},l(u){e=V(u,"DIV",{class:!0});var o=T(e);i=F(o,t),o.forEach(d),this.h()},h(){M(e,"class","comp-select")},m(u,o){k(u,e,o),D(e,i),n||(f=X(e,"click",a),n=!0)},p(u,o){l=u,o[0]&64&&t!==(t=l[38].name+"")&&re(i,t)},d(u){u&&d(e),n=!1,f()}}}function Ue(l){let e,t,i,n,f,a,u,o=l[8],_=[];for(let s=0;s<o.length;s+=1)_[s]=Ze(Se(l,o,s));return{c(){e=I("hr"),t=j(),i=I("div"),n=I("h3"),f=z("Mechanics"),a=j(),u=I("div");for(let s=0;s<_.length;s+=1)_[s].c();this.h()},l(s){e=V(s,"HR",{}),t=R(s),i=V(s,"DIV",{class:!0});var m=T(i);n=V(m,"H3",{class:!0});var c=T(n);f=F(c,"Mechanics"),c.forEach(d),m.forEach(d),a=R(s),u=V(s,"DIV",{class:!0});var E=T(u);for(let p=0;p<_.length;p+=1)_[p].l(E);E.forEach(d),this.h()},h(){M(n,"class","svelte-3kwxiu"),M(i,"class","comp-modal-header svelte-3kwxiu"),M(u,"class","triggers")},m(s,m){k(s,e,m),k(s,t,m),k(s,i,m),D(i,n),D(n,f),k(s,a,m),k(s,u,m);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(u,null)},p(s,m){if(m[0]&2304){o=s[8];let c;for(c=0;c<o.length;c+=1){const E=Se(s,o,c);_[c]?_[c].p(E,m):(_[c]=Ze(E),_[c].c(),_[c].m(u,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=o.length}},d(s){s&&d(e),s&&d(t),s&&d(i),s&&d(a),s&&d(u),ae(_,s)}}}function Ze(l){let e,t=l[35].name+"",i,n,f;function a(){return l[32](l[35])}return{c(){e=I("div"),i=z(t),this.h()},l(u){e=V(u,"DIV",{class:!0});var o=T(e);i=F(o,t),o.forEach(d),this.h()},h(){M(e,"class","comp-select")},m(u,o){k(u,e,o),D(e,i),n||(f=X(e,"click",a),n=!0)},p(u,o){l=u,o[0]&256&&t!==(t=l[35].name+"")&&re(i,t)},d(u){u&&d(e),n=!1,f()}}}function vt(l){let e,t,i,n,f,a,u,o,_,s,m,c,E,p,A,h,w,U,S,$;function L(r){l[29](r)}let N={placeholder:"Search..."};l[2]!==void 0&&(N.value=l[2]),o=new me({props:N}),te.push(()=>le(o,"value",L));let q=l[7].length>0&&We(l),O=l[6].length>0&&Fe(l),C=l[8].length>0&&Ue(l);return{c(){e=I("div"),t=I("div"),i=j(),n=I("h2"),f=z("Add a Component"),a=j(),u=I("div"),Y(o.$$.fragment),s=j(),q&&q.c(),m=j(),O&&O.c(),c=j(),C&&C.c(),E=j(),p=I("hr"),A=j(),h=I("div"),w=z("Cancel"),this.h()},l(r){e=V(r,"DIV",{class:!0});var v=T(e);t=V(v,"DIV",{}),T(t).forEach(d),i=R(v),n=V(v,"H2",{});var K=T(n);f=F(K,"Add a Component"),K.forEach(d),a=R(v),u=V(v,"DIV",{class:!0});var Q=T(u);ee(o.$$.fragment,Q),Q.forEach(d),v.forEach(d),s=R(r),q&&q.l(r),m=R(r),O&&O.l(r),c=R(r),C&&C.l(r),E=R(r),p=V(r,"HR",{}),A=R(r),h=V(r,"DIV",{class:!0});var g=T(h);w=F(g,"Cancel"),g.forEach(d),this.h()},h(){M(u,"class","search-bar"),M(e,"class","modal-header-wrapper"),M(h,"class","cancel")},m(r,v){k(r,e,v),D(e,t),D(e,i),D(e,n),D(n,f),D(e,a),D(e,u),y(o,u,null),k(r,s,v),q&&q.m(r,v),k(r,m,v),O&&O.m(r,v),k(r,c,v),C&&C.m(r,v),k(r,E,v),k(r,p,v),k(r,A,v),k(r,h,v),D(h,w),U=!0,S||($=X(h,"click",l[33]),S=!0)},p(r,v){const K={};!_&&v[0]&4&&(_=!0,K.value=r[2],se(()=>_=!1)),o.$set(K),r[7].length>0?q?q.p(r,v):(q=We(r),q.c(),q.m(m.parentNode,m)):q&&(q.d(1),q=null),r[6].length>0?O?O.p(r,v):(O=Fe(r),O.c(),O.m(c.parentNode,c)):O&&(O.d(1),O=null),r[8].length>0?C?C.p(r,v):(C=Ue(r),C.c(),C.m(E.parentNode,E)):C&&(C.d(1),C=null)},i(r){U||(J(o.$$.fragment,r),U=!0)},o(r){W(o.$$.fragment,r),U=!1},d(r){r&&d(e),x(o),r&&d(s),q&&q.d(r),r&&d(m),O&&O.d(r),r&&d(c),C&&C.d(r),r&&d(E),r&&d(p),r&&d(A),r&&d(h),S=!1,$()}}}function gt(l){let e,t,i,n,f,a,u,o=l[10]()+"",_,s,m=l[0].name+"",c,E,p,A,h,w,U,S,$,L,N,q;function O(b,H){return b[5]?dt:_t}let C=O(l),r=C(l),v=!l[5]&&Oe(l);function K(b){l[28](b)}let Q={width:"70%",$$slots:{default:[mt]},$$scope:{ctx:l}};l[3]!==void 0&&(Q.open=l[3]),h=new ke({props:Q}),te.push(()=>le(h,"open",K));function g(b){l[34](b)}let B={width:"70%",$$slots:{default:[vt]},$$scope:{ctx:l}};return l[4]!==void 0&&(B.open=l[4]),S=new ke({props:B}),te.push(()=>le(S,"open",g)),{c(){e=I("div"),t=I("div"),r.c(),i=j(),n=I("div"),f=j(),a=I("div"),u=I("span"),_=z(o),s=z(": "),c=z(m),E=j(),v&&v.c(),A=j(),Y(h.$$.fragment),U=j(),Y(S.$$.fragment),this.h()},l(b){e=V(b,"DIV",{class:!0});var H=T(e);t=V(H,"DIV",{draggable:!0,class:!0});var Z=T(t);r.l(Z),i=R(Z),n=V(Z,"DIV",{class:!0}),T(n).forEach(d),f=R(Z),a=V(Z,"DIV",{class:!0});var G=T(a);u=V(G,"SPAN",{class:!0});var oe=T(u);_=F(oe,o),oe.forEach(d),s=F(G,": "),c=F(G,m),G.forEach(d),E=R(Z),v&&v.l(Z),Z.forEach(d),H.forEach(d),A=R(b),ee(h.$$.fragment,b),U=R(b),ee(S.$$.fragment,b),this.h()},h(){M(n,"class","corner svelte-3kwxiu"),M(u,"class","svelte-3kwxiu"),M(a,"class","name svelte-3kwxiu"),M(t,"draggable","true"),M(t,"class","comp-body svelte-3kwxiu"),ot(t,"--comp-color",l[12]()),M(e,"class","wrapper svelte-3kwxiu")},m(b,H){k(b,e,H),D(e,t),r.m(t,null),D(t,i),D(t,n),D(t,f),D(t,a),D(a,u),D(u,_),D(a,s),D(a,c),D(t,E),v&&v.m(t,null),k(b,A,H),y(h,b,H),k(b,U,H),y(S,b,H),L=!0,N||(q=[X(n,"click",fe(l[14])),X(t,"dragstart",fe(l[21])),X(t,"dragend",l[22]),X(t,"click",fe(l[23]))],N=!0)},p(b,H){C!==(C=O(b))&&(r.d(1),r=C(b),r&&(r.c(),J(r,1),r.m(t,i))),(!L||H[0]&1)&&m!==(m=b[0].name+"")&&re(c,m),b[5]?v&&(ue(),W(v,1,1,()=>{v=null}),_e()):v?(v.p(b,H),H[0]&32&&J(v,1)):(v=Oe(b),v.c(),J(v,1),v.m(t,null));const Z={};H[0]&1|H[1]&524288&&(Z.$$scope={dirty:H,ctx:b}),!w&&H[0]&8&&(w=!0,Z.open=b[3],se(()=>w=!1)),h.$set(Z);const G={};H[0]&468|H[1]&524288&&(G.$$scope={dirty:H,ctx:b}),!$&&H[0]&16&&($=!0,G.open=b[4],se(()=>$=!1)),S.$set(G)},i(b){L||(J(r),J(v),p&&p.end(1),J(h.$$.fragment,b),J(S.$$.fragment,b),L=!0)},o(b){W(v),p=rt(t,ne,{}),W(h.$$.fragment,b),W(S.$$.fragment,b),L=!1},d(b){b&&d(e),r.d(),v&&v.d(),b&&p&&p.end(),b&&d(A),x(h,b),b&&d(U),x(S,b),N=!1,lt(q)}}}function kt(l,e,t){let{skill:i}=e,{component:n}=e;const f=at();let a=!1,u=!1,o=!1,_="",s,m,c;const E=()=>n instanceof he?"Trigger":n instanceof Ce?"Condition":n instanceof Pe?"Target":n instanceof Ae?"Mechanic":"???",p=P=>{t(0,n.components=[...n.components,P],n),t(4,u=!1),t(2,_=""),f("save")},A=()=>n instanceof he?"#0083ef":n instanceof Ce?"#feac00":n instanceof Pe?"#04af38":n instanceof Ae?"#ff3a3a":"orange",h=(P,{duration:de})=>({duration:de,css:ve=>`transform: rotate(${180-ut(ve)*180}deg);`}),w=()=>t(5,o=!o),U=()=>console.log("clicked copy"),S=()=>{i.removeComponent(n),f("update")};function $(P,de,ve,be){ve[be]=P,t(0,n)}function L(P){ge.call(this,l,P)}function N(P){ge.call(this,l,P)}const q=()=>t(4,u=!0),O=()=>Me.set(n),C=()=>Me.set(void 0),r=()=>t(3,a=!0);function v(P){l.$$.not_equal(n.mana,P)&&(n.mana=P,t(0,n))}function K(P){l.$$.not_equal(n.cooldown,P)&&(n.cooldown=P,t(0,n))}function Q(P,de){l.$$.not_equal(de.data,P)&&(de.data=P,t(0,n))}function g(P){ge.call(this,l,P)}function B(P){a=P,t(3,a)}function b(P){_=P,t(2,_)}const H=P=>p(P),Z=P=>p(P),G=P=>p(P),oe=()=>t(4,u=!1);function pe(P){u=P,t(4,u)}return l.$$set=P=>{"skill"in P&&t(1,i=P.skill),"component"in P&&t(0,n=P.component)},l.$$.update=()=>{l.$$.dirty[0]&4&&(t(6,s=Object.keys(De.MAP).filter(P=>P.toLowerCase().includes(_.toLowerCase())).sort().map(P=>De.MAP[P].new())),t(7,m=Object.keys(Ie.MAP).filter(P=>P.toLowerCase().includes(_.toLowerCase())).sort().map(P=>Ie.MAP[P].new())),t(8,c=Object.keys(Ve.MAP).filter(P=>P.toLowerCase().includes(_.toLowerCase())).sort().map(P=>Ve.MAP[P].new()))),l.$$.dirty[0]&1&&n&&f("save")},[n,i,_,a,u,o,s,m,c,f,E,p,A,h,w,U,S,$,L,N,q,O,C,r,v,K,Q,g,B,b,H,Z,G,oe,pe]}class it extends xe{constructor(e){super(),et(this,e,kt,gt,tt,{skill:1,component:0},null,[-1,-1])}}function Ge(l,e,t){const i=l.slice();return i[15]=e[t],i}function Xe(l,e,t){const i=l.slice();return i[18]=e[t],i}function Ye(l){let e,t,i;return t=new it({props:{skill:l[1],component:l[18]}}),t.$on("update",l[5]),t.$on("save",l[6]),{c(){e=I("div"),Y(t.$$.fragment),this.h()},l(n){e=V(n,"DIV",{class:!0});var f=T(e);ee(t.$$.fragment,f),f.forEach(d),this.h()},h(){M(e,"class","widget svelte-1u0haj4")},m(n,f){k(n,e,f),y(t,e,null),i=!0},p(n,f){const a={};f&2&&(a.skill=n[1]),f&2&&(a.component=n[18]),t.$set(a)},i(n){i||(J(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&d(e),x(t)}}}function ye(l){let e,t=l[15].name+"",i,n,f,a;function u(){return l[10](l[15])}return{c(){e=I("div"),i=z(t),n=j(),this.h()},l(o){e=V(o,"DIV",{class:!0});var _=T(e);i=F(_,t),n=R(_),_.forEach(d),this.h()},h(){M(e,"class","comp-select")},m(o,_){k(o,e,_),D(e,i),D(e,n),f||(a=X(e,"click",u),f=!0)},p(o,_){l=o,_&8&&t!==(t=l[15].name+"")&&re(i,t)},d(o){o&&d(e),f=!1,a()}}}function $t(l){let e,t,i,n,f,a,u,o,_,s,m,c,E,p,A,h,w,U,S,$,L;function N(r){l[9](r)}let q={placeholder:"Search..."};l[0]!==void 0&&(q.value=l[0]),o=new me({props:q}),te.push(()=>le(o,"value",N));let O=l[3],C=[];for(let r=0;r<O.length;r+=1)C[r]=ye(Ge(l,O,r));return{c(){e=I("div"),t=I("div"),i=j(),n=I("h2"),f=z("Select New Trigger"),a=j(),u=I("div"),Y(o.$$.fragment),s=j(),m=I("hr"),c=j(),E=I("div");for(let r=0;r<C.length;r+=1)C[r].c();p=j(),A=I("hr"),h=j(),w=I("div"),U=z("Cancel"),this.h()},l(r){e=V(r,"DIV",{class:!0});var v=T(e);t=V(v,"DIV",{}),T(t).forEach(d),i=R(v),n=V(v,"H2",{class:!0});var K=T(n);f=F(K,"Select New Trigger"),K.forEach(d),a=R(v),u=V(v,"DIV",{class:!0});var Q=T(u);ee(o.$$.fragment,Q),Q.forEach(d),v.forEach(d),s=R(r),m=V(r,"HR",{}),c=R(r),E=V(r,"DIV",{class:!0});var g=T(E);for(let b=0;b<C.length;b+=1)C[b].l(g);g.forEach(d),p=R(r),A=V(r,"HR",{}),h=R(r),w=V(r,"DIV",{class:!0});var B=T(w);U=F(B,"Cancel"),B.forEach(d),this.h()},h(){M(n,"class","modal-header svelte-1u0haj4"),M(u,"class","search-bar"),M(e,"class","modal-header-wrapper"),M(E,"class","triggers"),M(w,"class","cancel")},m(r,v){k(r,e,v),D(e,t),D(e,i),D(e,n),D(n,f),D(e,a),D(e,u),y(o,u,null),k(r,s,v),k(r,m,v),k(r,c,v),k(r,E,v);for(let K=0;K<C.length;K+=1)C[K]&&C[K].m(E,null);k(r,p,v),k(r,A,v),k(r,h,v),k(r,w,v),D(w,U),S=!0,$||(L=X(w,"click",l[11]),$=!0)},p(r,v){const K={};if(!_&&v&1&&(_=!0,K.value=r[0],se(()=>_=!1)),o.$set(K),v&24){O=r[3];let Q;for(Q=0;Q<O.length;Q+=1){const g=Ge(r,O,Q);C[Q]?C[Q].p(g,v):(C[Q]=ye(g),C[Q].c(),C[Q].m(E,null))}for(;Q<C.length;Q+=1)C[Q].d(1);C.length=O.length}},i(r){S||(J(o.$$.fragment,r),S=!0)},o(r){W(o.$$.fragment,r),S=!1},d(r){r&&d(e),x(o),r&&d(s),r&&d(m),r&&d(c),r&&d(E),ae(C,r),r&&d(p),r&&d(A),r&&d(h),r&&d(w),$=!1,L()}}}function bt(l){let e,t,i,n,f=l[1].name+"",a,u,o,_,s,m,c,E,p,A,h,w,U,S,$,L,N,q,O;document.title=e="ProSkillAPI Dynamic Editor - "+l[1].name;let C=l[1].triggers,r=[];for(let g=0;g<C.length;g+=1)r[g]=Ye(Xe(l,C,g));const v=g=>W(r[g],1,1,()=>{r[g]=null});function K(g){l[12](g)}let Q={$$slots:{default:[$t]},$$scope:{ctx:l}};return l[2]!==void 0&&(Q.open=l[2]),$=new ke({props:Q}),te.push(()=>le($,"open",K)),{c(){t=j(),i=I("div"),n=I("h2"),a=z(f),u=j(),o=I("a"),_=z("edit"),m=j(),c=I("hr"),E=j(),p=I("div");for(let g=0;g<r.length;g+=1)r[g].c();A=j(),h=I("div"),w=I("span"),U=z("variables"),S=j(),Y($.$$.fragment),this.h()},l(g){ft("svelte-r5m1v8",document.head).forEach(d),t=R(g),i=V(g,"DIV",{class:!0});var b=T(i);n=V(b,"H2",{class:!0});var H=T(n);a=F(H,f),u=R(H),o=V(H,"A",{class:!0,title:!0,href:!0});var Z=T(o);_=F(Z,"edit"),Z.forEach(d),H.forEach(d),b.forEach(d),m=R(g),c=V(g,"HR",{}),E=R(g),p=V(g,"DIV",{class:!0});var G=T(p);for(let P=0;P<r.length;P+=1)r[P].l(G);A=R(G),h=V(G,"DIV",{class:!0,title:!0});var oe=T(h);w=V(oe,"SPAN",{class:!0});var pe=T(w);U=F(pe,"variables"),pe.forEach(d),oe.forEach(d),G.forEach(d),S=R(g),ee($.$$.fragment,g),this.h()},h(){M(o,"class","material-symbols-rounded edit-skill chip svelte-1u0haj4"),M(o,"title","Edit"),M(o,"href",s="/skill/"+l[1].name+"/edit"),M(n,"class","svelte-1u0haj4"),M(i,"class","header svelte-1u0haj4"),M(w,"class","material-symbols-rounded svelte-1u0haj4"),M(h,"class","add-trigger chip svelte-1u0haj4"),M(h,"title","Add Trigger"),M(p,"class","container svelte-1u0haj4")},m(g,B){k(g,t,B),k(g,i,B),D(i,n),D(n,a),D(n,u),D(n,o),D(o,_),k(g,m,B),k(g,c,B),k(g,E,B),k(g,p,B);for(let b=0;b<r.length;b+=1)r[b]&&r[b].m(p,null);D(p,A),D(p,h),D(h,w),D(w,U),k(g,S,B),y($,g,B),N=!0,q||(O=X(h,"click",l[8]),q=!0)},p(g,[B]){if((!N||B&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+g[1].name)&&(document.title=e),(!N||B&2)&&f!==(f=g[1].name+"")&&re(a,f),(!N||B&2&&s!==(s="/skill/"+g[1].name+"/edit"))&&M(o,"href",s),B&98){C=g[1].triggers;let H;for(H=0;H<C.length;H+=1){const Z=Xe(g,C,H);r[H]?(r[H].p(Z,B),J(r[H],1)):(r[H]=Ye(Z),r[H].c(),J(r[H],1),r[H].m(p,A))}for(ue(),H=C.length;H<r.length;H+=1)v(H);_e()}const b={};B&2097165&&(b.$$scope={dirty:B,ctx:g}),!L&&B&4&&(L=!0,b.open=g[2],se(()=>L=!1)),$.$set(b)},i(g){if(!N){for(let B=0;B<C.length;B+=1)J(r[B]);J($.$$.fragment,g),N=!0}},o(g){r=r.filter(Boolean);for(let B=0;B<r.length;B+=1)W(r[B]);W($.$$.fragment,g),N=!1},d(g){g&&d(t),g&&d(i),g&&d(m),g&&d(c),g&&d(E),g&&d(p),ae(r,g),g&&d(S),x($,g),q=!1,O()}}}function wt(l,e,t){let{data:i}=e,n,f=!1,a="",u;const o=h=>{n.triggers.push(h.detail),_(),setTimeout(()=>t(2,f=!1))},_=()=>{t(1,n.triggers=[...n.triggers],n),s()},s=()=>He.set([...ct(He)]),m=()=>t(2,f=!0);function c(h){a=h,t(0,a)}const E=h=>o({detail:h.clone()}),p=()=>t(2,f=!1);function A(h){f=h,t(2,f)}return l.$$set=h=>{"data"in h&&t(7,i=h.data)},l.$$.update=()=>{l.$$.dirty&128&&i&&t(1,n=i.data),l.$$.dirty&1&&t(3,u=Object.keys(Te.MAP).filter(h=>h.toLowerCase().includes(a.toLowerCase())).sort().map(h=>new Te.MAP[h]))},[a,n,f,u,o,_,s,i,m,c,E,p,A]}class Ct extends xe{constructor(e){super(),et(this,e,wt,bt,tt,{data:7})}}export{Ct as default};
