import{S as et,i as tt,s as lt,w as ne,H as se,k as E,a as S,q as W,y as Y,l as D,m as M,c as R,h as d,r as z,z as x,n as A,p as rt,b as k,C as b,A as Z,E as X,J as ce,g as J,u as fe,v as _e,d as K,f as de,O as oe,R as at,B as G,F as nt,a9 as ft,X as ct,P as ue,Z as re,a2 as $e,V as ge,Q as st,Y as ut,a1 as pe,x as we,e as Ee,a8 as _t,U as dt}from"../chunks/index.1ee62562.js";import{T as De,H as Ie,M as Ve,b as ie,I as me,J as Ce,K as Pe,L as Ae,N as Me,O as ve,Q as pt,R as Te,w as He}from"../chunks/store.9cca88c4.js";import{M as ke}from"../chunks/Modal.7865c8f0.js";import{T as it}from"../chunks/Toggle.5a1895ad.js";function Ne(s,e,t){const l=s.slice();return l[35]=e[t],l}function Se(s,e,t){const l=s.slice();return l[38]=e[t],l}function Re(s,e,t){const l=s.slice();return l[41]=e[t],l}function Le(s,e,t){const l=s.slice();return l[44]=e[t],l[45]=e,l[46]=t,l}function Oe(s,e,t){const l=s.slice();return l[47]=e[t],l[48]=e,l[49]=t,l}function ht(s){let e,t,l;return{c(){e=E("span"),t=W("expand_less"),this.h()},l(n){e=D(n,"SPAN",{class:!0});var f=M(e);t=z(f,"expand_less"),f.forEach(d),this.h()},h(){A(e,"class","material-symbols-rounded svelte-3kwxiu")},m(n,f){k(n,e,f),b(e,t)},i(n){n&&(l||ue(()=>{l=st(e,s[13],{duration:400}),l.start()}))},o:$e,d(n){n&&d(e)}}}function mt(s){let e,t,l;return{c(){e=E("span"),t=W("expand_more"),this.h()},l(n){e=D(n,"SPAN",{class:!0});var f=M(e);t=z(f,"expand_more"),f.forEach(d),this.h()},h(){A(e,"class","material-symbols-rounded svelte-3kwxiu")},m(n,f){k(n,e,f),b(e,t)},i(n){n&&(l||ue(()=>{l=st(e,s[13],{duration:400}),l.start()}))},o:$e,d(n){n&&d(e)}}}function qe(s){let e,t,l,n,f,r,_,o,c,i,h=[],u=new Map,w,v,I,g,q,y=s[0].components;const B=$=>$[47].id;for(let $=0;$<y.length;$+=1){let H=Oe(s,y,$),T=B(H);u.set(T,h[$]=ye(T,H))}let O=s[0].isParent&&je(s);return{c(){e=E("div"),t=E("div"),l=W("content_copy"),f=S(),r=E("div"),_=W("delete"),c=S(),i=E("div");for(let $=0;$<h.length;$+=1)h[$].c();w=S(),O&&O.c(),this.h()},l($){e=D($,"DIV",{class:!0});var H=M(e);t=D(H,"DIV",{class:!0,title:!0});var T=M(t);l=z(T,"content_copy"),T.forEach(d),f=R(H),r=D(H,"DIV",{class:!0,title:!0});var L=M(r);_=z(L,"delete"),L.forEach(d),H.forEach(d),c=R($),i=D($,"DIV",{class:!0});var P=M(i);for(let a=0;a<h.length;a+=1)h[a].l(P);w=R(P),O&&O.l(P),P.forEach(d),this.h()},h(){A(t,"class","material-symbols-rounded control copy svelte-3kwxiu"),A(t,"title","Copy"),A(r,"class","material-symbols-rounded control delete svelte-3kwxiu"),A(r,"title","Delete"),A(e,"class","controls svelte-3kwxiu"),A(i,"class","children svelte-3kwxiu")},m($,H){k($,e,H),b(e,t),b(t,l),b(e,f),b(e,r),b(r,_),k($,c,H),k($,i,H);for(let T=0;T<h.length;T+=1)h[T]&&h[T].m(i,null);b(i,w),O&&O.m(i,null),I=!0,g||(q=[X(t,"click",ce(s[15])),X(r,"click",ce(s[16]))],g=!0)},p($,H){H[0]&3&&(y=$[0].components,_e(),h=ct(h,H,B,1,$,y,u,i,ut,ye,w,Oe),de()),$[0].isParent?O?O.p($,H):(O=je($),O.c(),O.m(i,null)):O&&(O.d(1),O=null)},i($){if(!I){ue(()=>{I&&(n||(n=re(t,ie,{},!0)),n.run(1))}),ue(()=>{I&&(o||(o=re(r,ie,{},!0)),o.run(1))});for(let H=0;H<y.length;H+=1)J(h[H]);$&&ue(()=>{I&&(v||(v=re(i,ie,{},!0)),v.run(1))}),I=!0}},o($){n||(n=re(t,ie,{},!1)),n.run(0),o||(o=re(r,ie,{},!1)),o.run(0);for(let H=0;H<h.length;H+=1)K(h[H]);$&&(v||(v=re(i,ie,{},!1)),v.run(0)),I=!1},d($){$&&d(e),$&&n&&n.end(),$&&o&&o.end(),$&&d(c),$&&d(i);for(let H=0;H<h.length;H+=1)h[H].d();O&&O.d(),$&&v&&v.end(),g=!1,nt(q)}}}function ye(s,e){let t,l,n,f,r;function _(c){e[17](c,e[47],e[48],e[49])}let o={skill:e[1]};return e[47]!==void 0&&(o.component=e[47]),l=new ot({props:o}),ne.push(()=>se(l,"component",_)),l.$on("update",e[18]),l.$on("save",e[19]),{key:s,first:null,c(){t=E("span"),Y(l.$$.fragment),this.h()},l(c){t=D(c,"SPAN",{});var i=M(t);x(l.$$.fragment,i),i.forEach(d),this.h()},h(){this.first=t},m(c,i){k(c,t,i),Z(l,t,null),r=!0},p(c,i){e=c;const h={};i[0]&2&&(h.skill=e[1]),!n&&i[0]&1&&(n=!0,h.component=e[47],oe(()=>n=!1)),l.$set(h)},i(c){r||(J(l.$$.fragment,c),c&&ue(()=>{r&&(f||(f=re(t,ie,{},!0)),f.run(1))}),r=!0)},o(c){K(l.$$.fragment,c),c&&(f||(f=re(t,ie,{},!1)),f.run(0)),r=!1},d(c){c&&d(t),G(l),c&&f&&f.end()}}}function je(s){let e,t,l,n;return{c(){e=E("div"),t=W("+ Add Component"),this.h()},l(f){e=D(f,"DIV",{class:!0});var r=M(e);t=z(r,"+ Add Component"),r.forEach(d),this.h()},h(){A(e,"class","chip svelte-3kwxiu")},m(f,r){k(f,e,r),b(e,t),l||(n=X(e,"click",ce(s[20])),l=!0)},p:$e,d(f){f&&d(e),l=!1,n()}}}function Be(s){let e,t,l,n;return e=new ve({props:{label:"Mana",$$slots:{default:[vt]},$$scope:{ctx:s}}}),l=new ve({props:{label:"Cooldown",$$slots:{default:[gt]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=S(),Y(l.$$.fragment)},l(f){x(e.$$.fragment,f),t=R(f),x(l.$$.fragment,f)},m(f,r){Z(e,f,r),k(f,t,r),Z(l,f,r),n=!0},p(f,r){const _={};r[0]&1|r[1]&524288&&(_.$$scope={dirty:r,ctx:f}),e.$set(_);const o={};r[0]&1|r[1]&524288&&(o.$$scope={dirty:r,ctx:f}),l.$set(o)},i(f){n||(J(e.$$.fragment,f),J(l.$$.fragment,f),n=!0)},o(f){K(e.$$.fragment,f),K(l.$$.fragment,f),n=!1},d(f){G(e,f),f&&d(t),G(l,f)}}}function vt(s){let e,t,l;function n(r){s[24](r)}let f={};return s[0].mana!==void 0&&(f.data=s[0].mana),e=new it({props:f}),ne.push(()=>se(e,"data",n)),{c(){Y(e.$$.fragment)},l(r){x(e.$$.fragment,r)},m(r,_){Z(e,r,_),l=!0},p(r,_){const o={};!t&&_[0]&1&&(t=!0,o.data=r[0].mana,oe(()=>t=!1)),e.$set(o)},i(r){l||(J(e.$$.fragment,r),l=!0)},o(r){K(e.$$.fragment,r),l=!1},d(r){G(e,r)}}}function gt(s){let e,t,l;function n(r){s[25](r)}let f={};return s[0].cooldown!==void 0&&(f.data=s[0].cooldown),e=new it({props:f}),ne.push(()=>se(e,"data",n)),{c(){Y(e.$$.fragment)},l(r){x(e.$$.fragment,r)},m(r,_){Z(e,r,_),l=!0},p(r,_){const o={};!t&&_[0]&1&&(t=!0,o.data=r[0].cooldown,oe(()=>t=!1)),e.$set(o)},i(r){l||(J(e.$$.fragment,r),l=!0)},o(r){K(e.$$.fragment,r),l=!1},d(r){G(e,r)}}}function Je(s){let e,t,l,n;function f(o){s[26](o,s[44])}var r=s[44].component;function _(o){let c={color:!0};return o[44].data!==void 0&&(c.data=o[44].data),{props:c}}return r&&(e=we(r,_(s)),ne.push(()=>se(e,"data",f)),e.$on("save",s[27])),{c(){e&&Y(e.$$.fragment),l=Ee()},l(o){e&&x(e.$$.fragment,o),l=Ee()},m(o,c){e&&Z(e,o,c),k(o,l,c),n=!0},p(o,c){s=o;const i={};if(!t&&c[0]&1&&(t=!0,i.data=s[44].data,oe(()=>t=!1)),c[0]&1&&r!==(r=s[44].component)){if(e){_e();const h=e;K(h.$$.fragment,1,0,()=>{G(h,1)}),de()}r?(e=we(r,_(s)),ne.push(()=>se(e,"data",f)),e.$on("save",s[27]),Y(e.$$.fragment),J(e.$$.fragment,1),Z(e,l.parentNode,l)):e=null}else r&&e.$set(i)},i(o){n||(e&&J(e.$$.fragment,o),n=!0)},o(o){e&&K(e.$$.fragment,o),n=!1},d(o){o&&d(l),e&&G(e,o)}}}function kt(s){let e,t=s[0].name+"",l,n,f,r,_,o,c,i=s[0]instanceof me&&Be(s),h=s[0].data,u=[];for(let v=0;v<h.length;v+=1)u[v]=Je(Le(s,h,v));const w=v=>K(u[v],1,1,()=>{u[v]=null});return{c(){e=E("h2"),l=W(t),n=S(),f=E("hr"),r=S(),_=E("div"),i&&i.c(),o=S();for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){e=D(v,"H2",{});var I=M(e);l=z(I,t),I.forEach(d),n=R(v),f=D(v,"HR",{}),r=R(v),_=D(v,"DIV",{class:!0});var g=M(_);i&&i.l(g),o=R(g);for(let q=0;q<u.length;q+=1)u[q].l(g);g.forEach(d),this.h()},h(){A(_,"class","component-entry svelte-3kwxiu")},m(v,I){k(v,e,I),b(e,l),k(v,n,I),k(v,f,I),k(v,r,I),k(v,_,I),i&&i.m(_,null),b(_,o);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(_,null);c=!0},p(v,I){if((!c||I[0]&1)&&t!==(t=v[0].name+"")&&fe(l,t),v[0]instanceof me?i?(i.p(v,I),I[0]&1&&J(i,1)):(i=Be(v),i.c(),J(i,1),i.m(_,o)):i&&(_e(),K(i,1,1,()=>{i=null}),de()),I[0]&1){h=v[0].data;let g;for(g=0;g<h.length;g+=1){const q=Le(v,h,g);u[g]?(u[g].p(q,I),J(u[g],1)):(u[g]=Je(q),u[g].c(),J(u[g],1),u[g].m(_,null))}for(_e(),g=h.length;g<u.length;g+=1)w(g);de()}},i(v){if(!c){J(i);for(let I=0;I<h.length;I+=1)J(u[I]);c=!0}},o(v){K(i),u=u.filter(Boolean);for(let I=0;I<u.length;I+=1)K(u[I]);c=!1},d(v){v&&d(e),v&&d(n),v&&d(f),v&&d(r),v&&d(_),i&&i.d(),pe(u,v)}}}function Qe(s){let e,t,l,n,f,r,_,o=s[7],c=[];for(let i=0;i<o.length;i+=1)c[i]=We(Re(s,o,i));return{c(){e=E("hr"),t=S(),l=E("div"),n=E("h3"),f=W("Conditions"),r=S(),_=E("div");for(let i=0;i<c.length;i+=1)c[i].c();this.h()},l(i){e=D(i,"HR",{}),t=R(i),l=D(i,"DIV",{class:!0});var h=M(l);n=D(h,"H3",{class:!0});var u=M(n);f=z(u,"Conditions"),u.forEach(d),h.forEach(d),r=R(i),_=D(i,"DIV",{class:!0});var w=M(_);for(let v=0;v<c.length;v+=1)c[v].l(w);w.forEach(d),this.h()},h(){A(n,"class","svelte-3kwxiu"),A(l,"class","comp-modal-header svelte-3kwxiu"),A(_,"class","triggers")},m(i,h){k(i,e,h),k(i,t,h),k(i,l,h),b(l,n),b(n,f),k(i,r,h),k(i,_,h);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(_,null)},p(i,h){if(h[0]&2176){o=i[7];let u;for(u=0;u<o.length;u+=1){const w=Re(i,o,u);c[u]?c[u].p(w,h):(c[u]=We(w),c[u].c(),c[u].m(_,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},d(i){i&&d(e),i&&d(t),i&&d(l),i&&d(r),i&&d(_),pe(c,i)}}}function We(s){let e,t=s[41].name+"",l,n,f;function r(){return s[30](s[41])}return{c(){e=E("div"),l=W(t),this.h()},l(_){e=D(_,"DIV",{class:!0});var o=M(e);l=z(o,t),o.forEach(d),this.h()},h(){A(e,"class","comp-select")},m(_,o){k(_,e,o),b(e,l),n||(f=X(e,"click",r),n=!0)},p(_,o){s=_,o[0]&128&&t!==(t=s[41].name+"")&&fe(l,t)},d(_){_&&d(e),n=!1,f()}}}function ze(s){let e,t,l,n,f,r,_,o=s[6],c=[];for(let i=0;i<o.length;i+=1)c[i]=Fe(Se(s,o,i));return{c(){e=E("hr"),t=S(),l=E("div"),n=E("h3"),f=W("Targets"),r=S(),_=E("div");for(let i=0;i<c.length;i+=1)c[i].c();this.h()},l(i){e=D(i,"HR",{}),t=R(i),l=D(i,"DIV",{class:!0});var h=M(l);n=D(h,"H3",{class:!0});var u=M(n);f=z(u,"Targets"),u.forEach(d),h.forEach(d),r=R(i),_=D(i,"DIV",{class:!0});var w=M(_);for(let v=0;v<c.length;v+=1)c[v].l(w);w.forEach(d),this.h()},h(){A(n,"class","svelte-3kwxiu"),A(l,"class","comp-modal-header svelte-3kwxiu"),A(_,"class","triggers")},m(i,h){k(i,e,h),k(i,t,h),k(i,l,h),b(l,n),b(n,f),k(i,r,h),k(i,_,h);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(_,null)},p(i,h){if(h[0]&2112){o=i[6];let u;for(u=0;u<o.length;u+=1){const w=Se(i,o,u);c[u]?c[u].p(w,h):(c[u]=Fe(w),c[u].c(),c[u].m(_,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},d(i){i&&d(e),i&&d(t),i&&d(l),i&&d(r),i&&d(_),pe(c,i)}}}function Fe(s){let e,t=s[38].name+"",l,n,f;function r(){return s[31](s[38])}return{c(){e=E("div"),l=W(t),this.h()},l(_){e=D(_,"DIV",{class:!0});var o=M(e);l=z(o,t),o.forEach(d),this.h()},h(){A(e,"class","comp-select")},m(_,o){k(_,e,o),b(e,l),n||(f=X(e,"click",r),n=!0)},p(_,o){s=_,o[0]&64&&t!==(t=s[38].name+"")&&fe(l,t)},d(_){_&&d(e),n=!1,f()}}}function Ke(s){let e,t,l,n,f,r,_,o=s[8],c=[];for(let i=0;i<o.length;i+=1)c[i]=Ue(Ne(s,o,i));return{c(){e=E("hr"),t=S(),l=E("div"),n=E("h3"),f=W("Mechanics"),r=S(),_=E("div");for(let i=0;i<c.length;i+=1)c[i].c();this.h()},l(i){e=D(i,"HR",{}),t=R(i),l=D(i,"DIV",{class:!0});var h=M(l);n=D(h,"H3",{class:!0});var u=M(n);f=z(u,"Mechanics"),u.forEach(d),h.forEach(d),r=R(i),_=D(i,"DIV",{class:!0});var w=M(_);for(let v=0;v<c.length;v+=1)c[v].l(w);w.forEach(d),this.h()},h(){A(n,"class","svelte-3kwxiu"),A(l,"class","comp-modal-header svelte-3kwxiu"),A(_,"class","triggers")},m(i,h){k(i,e,h),k(i,t,h),k(i,l,h),b(l,n),b(n,f),k(i,r,h),k(i,_,h);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(_,null)},p(i,h){if(h[0]&2304){o=i[8];let u;for(u=0;u<o.length;u+=1){const w=Ne(i,o,u);c[u]?c[u].p(w,h):(c[u]=Ue(w),c[u].c(),c[u].m(_,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},d(i){i&&d(e),i&&d(t),i&&d(l),i&&d(r),i&&d(_),pe(c,i)}}}function Ue(s){let e,t=s[35].name+"",l,n,f;function r(){return s[32](s[35])}return{c(){e=E("div"),l=W(t),this.h()},l(_){e=D(_,"DIV",{class:!0});var o=M(e);l=z(o,t),o.forEach(d),this.h()},h(){A(e,"class","comp-select")},m(_,o){k(_,e,o),b(e,l),n||(f=X(e,"click",r),n=!0)},p(_,o){s=_,o[0]&256&&t!==(t=s[35].name+"")&&fe(l,t)},d(_){_&&d(e),n=!1,f()}}}function $t(s){let e,t,l,n,f,r,_,o,c,i,h,u,w,v,I,g,q,y,B,O;function $(a){s[29](a)}let H={placeholder:"Search..."};s[2]!==void 0&&(H.value=s[2]),o=new ve({props:H}),ne.push(()=>se(o,"value",$));let T=s[7].length>0&&Qe(s),L=s[6].length>0&&ze(s),P=s[8].length>0&&Ke(s);return{c(){e=E("div"),t=E("div"),l=S(),n=E("h2"),f=W("Add a Component"),r=S(),_=E("div"),Y(o.$$.fragment),i=S(),T&&T.c(),h=S(),L&&L.c(),u=S(),P&&P.c(),w=S(),v=E("hr"),I=S(),g=E("div"),q=W("Cancel"),this.h()},l(a){e=D(a,"DIV",{class:!0});var m=M(e);t=D(m,"DIV",{}),M(t).forEach(d),l=R(m),n=D(m,"H2",{});var F=M(n);f=z(F,"Add a Component"),F.forEach(d),r=R(m),_=D(m,"DIV",{class:!0});var N=M(_);x(o.$$.fragment,N),N.forEach(d),m.forEach(d),i=R(a),T&&T.l(a),h=R(a),L&&L.l(a),u=R(a),P&&P.l(a),w=R(a),v=D(a,"HR",{}),I=R(a),g=D(a,"DIV",{class:!0});var U=M(g);q=z(U,"Cancel"),U.forEach(d),this.h()},h(){A(_,"class","search-bar"),A(e,"class","modal-header-wrapper"),A(g,"class","cancel")},m(a,m){k(a,e,m),b(e,t),b(e,l),b(e,n),b(n,f),b(e,r),b(e,_),Z(o,_,null),k(a,i,m),T&&T.m(a,m),k(a,h,m),L&&L.m(a,m),k(a,u,m),P&&P.m(a,m),k(a,w,m),k(a,v,m),k(a,I,m),k(a,g,m),b(g,q),y=!0,B||(O=X(g,"click",s[33]),B=!0)},p(a,m){const F={};!c&&m[0]&4&&(c=!0,F.value=a[2],oe(()=>c=!1)),o.$set(F),a[7].length>0?T?T.p(a,m):(T=Qe(a),T.c(),T.m(h.parentNode,h)):T&&(T.d(1),T=null),a[6].length>0?L?L.p(a,m):(L=ze(a),L.c(),L.m(u.parentNode,u)):L&&(L.d(1),L=null),a[8].length>0?P?P.p(a,m):(P=Ke(a),P.c(),P.m(w.parentNode,w)):P&&(P.d(1),P=null)},i(a){y||(J(o.$$.fragment,a),y=!0)},o(a){K(o.$$.fragment,a),y=!1},d(a){a&&d(e),G(o),a&&d(i),T&&T.d(a),a&&d(h),L&&L.d(a),a&&d(u),P&&P.d(a),a&&d(w),a&&d(v),a&&d(I),a&&d(g),B=!1,O()}}}function bt(s){let e,t,l,n,f,r,_,o=s[10]()+"",c,i,h=s[0].name+"",u,w,v,I,g,q,y,B,O,$,H,T;function L(p,C){return p[5]?mt:ht}let P=L(s),a=P(s),m=!s[5]&&qe(s);function F(p){s[28](p)}let N={width:"70%",$$slots:{default:[kt]},$$scope:{ctx:s}};s[3]!==void 0&&(N.open=s[3]),g=new ke({props:N}),ne.push(()=>se(g,"open",F));function U(p){s[34](p)}let ee={width:"70%",$$slots:{default:[$t]},$$scope:{ctx:s}};return s[4]!==void 0&&(ee.open=s[4]),B=new ke({props:ee}),ne.push(()=>se(B,"open",U)),{c(){e=E("div"),t=E("div"),a.c(),l=S(),n=E("div"),f=S(),r=E("div"),_=E("span"),c=W(o),i=W(": "),u=W(h),w=S(),m&&m.c(),I=S(),Y(g.$$.fragment),y=S(),Y(B.$$.fragment),this.h()},l(p){e=D(p,"DIV",{class:!0});var C=M(e);t=D(C,"DIV",{draggable:!0,class:!0});var Q=M(t);a.l(Q),l=R(Q),n=D(Q,"DIV",{class:!0}),M(n).forEach(d),f=R(Q),r=D(Q,"DIV",{class:!0});var j=M(r);_=D(j,"SPAN",{class:!0});var te=M(_);c=z(te,o),te.forEach(d),i=z(j,": "),u=z(j,h),j.forEach(d),w=R(Q),m&&m.l(Q),Q.forEach(d),C.forEach(d),I=R(p),x(g.$$.fragment,p),y=R(p),x(B.$$.fragment,p),this.h()},h(){A(n,"class","corner svelte-3kwxiu"),A(_,"class","svelte-3kwxiu"),A(r,"class","name svelte-3kwxiu"),A(t,"draggable","true"),A(t,"class","comp-body svelte-3kwxiu"),rt(t,"--comp-color",s[12]()),A(e,"class","wrapper svelte-3kwxiu")},m(p,C){k(p,e,C),b(e,t),a.m(t,null),b(t,l),b(t,n),b(t,f),b(t,r),b(r,_),b(_,c),b(r,i),b(r,u),b(t,w),m&&m.m(t,null),k(p,I,C),Z(g,p,C),k(p,y,C),Z(B,p,C),$=!0,H||(T=[X(n,"click",ce(s[14])),X(t,"dragstart",ce(s[21])),X(t,"dragend",s[22]),X(t,"click",ce(s[23]))],H=!0)},p(p,C){P!==(P=L(p))&&(a.d(1),a=P(p),a&&(a.c(),J(a,1),a.m(t,l))),(!$||C[0]&1)&&h!==(h=p[0].name+"")&&fe(u,h),p[5]?m&&(_e(),K(m,1,1,()=>{m=null}),de()):m?(m.p(p,C),C[0]&32&&J(m,1)):(m=qe(p),m.c(),J(m,1),m.m(t,null));const Q={};C[0]&1|C[1]&524288&&(Q.$$scope={dirty:C,ctx:p}),!q&&C[0]&8&&(q=!0,Q.open=p[3],oe(()=>q=!1)),g.$set(Q);const j={};C[0]&468|C[1]&524288&&(j.$$scope={dirty:C,ctx:p}),!O&&C[0]&16&&(O=!0,j.open=p[4],oe(()=>O=!1)),B.$set(j)},i(p){$||(J(a),J(m),v&&v.end(1),J(g.$$.fragment,p),J(B.$$.fragment,p),$=!0)},o(p){K(m),v=at(t,ie,{}),K(g.$$.fragment,p),K(B.$$.fragment,p),$=!1},d(p){p&&d(e),a.d(),m&&m.d(),p&&v&&v.end(),p&&d(I),G(g,p),p&&d(y),G(B,p),H=!1,nt(T)}}}function wt(s,e,t){let{skill:l}=e,{component:n}=e;const f=ft();let r=!1,_=!1,o=!1,c="",i,h,u;const w=()=>n instanceof me?"Trigger":n instanceof Ce?"Condition":n instanceof Pe?"Target":n instanceof Ae?"Mechanic":"???",v=V=>{t(0,n.components=[...n.components,V],n),t(4,_=!1),t(2,c=""),f("save")},I=()=>n instanceof me?"#0083ef":n instanceof Ce?"#feac00":n instanceof Pe?"#04af38":n instanceof Ae?"#ff3a3a":"orange",g=(V,{duration:le})=>({duration:le,css:ae=>`transform: rotate(${180-pt(ae)*180}deg);`}),q=()=>t(5,o=!o),y=()=>console.log("clicked copy"),B=()=>{l.removeComponent(n),f("update")};function O(V,le,ae,be){ae[be]=V,t(0,n)}function $(V){ge.call(this,s,V)}function H(V){ge.call(this,s,V)}const T=()=>t(4,_=!0),L=()=>Me.set(n),P=()=>Me.set(void 0),a=()=>t(3,r=!0);function m(V){s.$$.not_equal(n.mana,V)&&(n.mana=V,t(0,n))}function F(V){s.$$.not_equal(n.cooldown,V)&&(n.cooldown=V,t(0,n))}function N(V,le){s.$$.not_equal(le.data,V)&&(le.data=V,t(0,n))}function U(V){ge.call(this,s,V)}function ee(V){r=V,t(3,r)}function p(V){c=V,t(2,c)}const C=V=>v(V),Q=V=>v(V),j=V=>v(V),te=()=>t(4,_=!1);function he(V){_=V,t(4,_)}return s.$$set=V=>{"skill"in V&&t(1,l=V.skill),"component"in V&&t(0,n=V.component)},s.$$.update=()=>{s.$$.dirty[0]&4&&(t(6,i=Object.keys(De.MAP).filter(V=>V.toLowerCase().includes(c.toLowerCase())).sort().map(V=>De.MAP[V].new())),t(7,h=Object.keys(Ie.MAP).filter(V=>V.toLowerCase().includes(c.toLowerCase())).sort().map(V=>Ie.MAP[V].new())),t(8,u=Object.keys(Ve.MAP).filter(V=>V.toLowerCase().includes(c.toLowerCase())).sort().map(V=>Ve.MAP[V].new()))),s.$$.dirty[0]&1&&n&&f("save")},[n,l,c,r,_,o,i,h,u,f,w,v,I,g,q,y,B,O,$,H,T,L,P,a,m,F,N,U,ee,p,C,Q,j,te,he]}class ot extends et{constructor(e){super(),tt(this,e,wt,bt,lt,{skill:1,component:0},null,[-1,-1])}}function Xe(s,e,t){const l=s.slice();return l[15]=e[t],l}function Ye(s,e,t){const l=s.slice();return l[18]=e[t],l}function Ze(s){let e,t,l;return t=new ot({props:{skill:s[1],component:s[18]}}),t.$on("update",s[5]),t.$on("save",s[6]),{c(){e=E("div"),Y(t.$$.fragment),this.h()},l(n){e=D(n,"DIV",{class:!0});var f=M(e);x(t.$$.fragment,f),f.forEach(d),this.h()},h(){A(e,"class","widget svelte-4lo1mc")},m(n,f){k(n,e,f),Z(t,e,null),l=!0},p(n,f){const r={};f&2&&(r.skill=n[1]),f&2&&(r.component=n[18]),t.$set(r)},i(n){l||(J(t.$$.fragment,n),l=!0)},o(n){K(t.$$.fragment,n),l=!1},d(n){n&&d(e),G(t)}}}function Ge(s){let e,t;return{c(){e=E("div"),t=W("No triggers added yet.")},l(l){e=D(l,"DIV",{});var n=M(e);t=z(n,"No triggers added yet."),n.forEach(d)},m(l,n){k(l,e,n),b(e,t)},d(l){l&&d(e)}}}function xe(s){let e,t=s[15].name+"",l,n,f,r;function _(){return s[10](s[15])}return{c(){e=E("div"),l=W(t),n=S(),this.h()},l(o){e=D(o,"DIV",{class:!0});var c=M(e);l=z(c,t),n=R(c),c.forEach(d),this.h()},h(){A(e,"class","comp-select")},m(o,c){k(o,e,c),b(e,l),b(e,n),f||(r=X(e,"click",_),f=!0)},p(o,c){s=o,c&8&&t!==(t=s[15].name+"")&&fe(l,t)},d(o){o&&d(e),f=!1,r()}}}function Et(s){let e,t,l,n,f,r,_,o,c,i,h,u,w,v,I,g,q,y,B,O,$;function H(a){s[9](a)}let T={placeholder:"Search..."};s[0]!==void 0&&(T.value=s[0]),o=new ve({props:T}),ne.push(()=>se(o,"value",H));let L=s[3],P=[];for(let a=0;a<L.length;a+=1)P[a]=xe(Xe(s,L,a));return{c(){e=E("div"),t=E("div"),l=S(),n=E("h2"),f=W("Select New Trigger"),r=S(),_=E("div"),Y(o.$$.fragment),i=S(),h=E("hr"),u=S(),w=E("div");for(let a=0;a<P.length;a+=1)P[a].c();v=S(),I=E("hr"),g=S(),q=E("div"),y=W("Cancel"),this.h()},l(a){e=D(a,"DIV",{class:!0});var m=M(e);t=D(m,"DIV",{}),M(t).forEach(d),l=R(m),n=D(m,"H2",{class:!0});var F=M(n);f=z(F,"Select New Trigger"),F.forEach(d),r=R(m),_=D(m,"DIV",{class:!0});var N=M(_);x(o.$$.fragment,N),N.forEach(d),m.forEach(d),i=R(a),h=D(a,"HR",{}),u=R(a),w=D(a,"DIV",{class:!0});var U=M(w);for(let p=0;p<P.length;p+=1)P[p].l(U);U.forEach(d),v=R(a),I=D(a,"HR",{}),g=R(a),q=D(a,"DIV",{class:!0});var ee=M(q);y=z(ee,"Cancel"),ee.forEach(d),this.h()},h(){A(n,"class","modal-header svelte-4lo1mc"),A(_,"class","search-bar"),A(e,"class","modal-header-wrapper"),A(w,"class","triggers"),A(q,"class","cancel")},m(a,m){k(a,e,m),b(e,t),b(e,l),b(e,n),b(n,f),b(e,r),b(e,_),Z(o,_,null),k(a,i,m),k(a,h,m),k(a,u,m),k(a,w,m);for(let F=0;F<P.length;F+=1)P[F]&&P[F].m(w,null);k(a,v,m),k(a,I,m),k(a,g,m),k(a,q,m),b(q,y),B=!0,O||($=X(q,"click",s[11]),O=!0)},p(a,m){const F={};if(!c&&m&1&&(c=!0,F.value=a[0],oe(()=>c=!1)),o.$set(F),m&24){L=a[3];let N;for(N=0;N<L.length;N+=1){const U=Xe(a,L,N);P[N]?P[N].p(U,m):(P[N]=xe(U),P[N].c(),P[N].m(w,null))}for(;N<P.length;N+=1)P[N].d(1);P.length=L.length}},i(a){B||(J(o.$$.fragment,a),B=!0)},o(a){K(o.$$.fragment,a),B=!1},d(a){a&&d(e),G(o),a&&d(i),a&&d(h),a&&d(u),a&&d(w),pe(P,a),a&&d(v),a&&d(I),a&&d(g),a&&d(q),O=!1,$()}}}function Dt(s){let e,t,l,n,f=s[1].name+"",r,_,o,c,i,h,u,w,v,I,g,q,y,B,O,$,H,T,L,P;document.title=e="ProSkillAPI Dynamic Editor - "+s[1].name;let a=s[1].triggers,m=[];for(let p=0;p<a.length;p+=1)m[p]=Ze(Ye(s,a,p));const F=p=>K(m[p],1,1,()=>{m[p]=null});let N=s[1].triggers.length==0&&Ge();function U(p){s[12](p)}let ee={$$slots:{default:[Et]},$$scope:{ctx:s}};return s[2]!==void 0&&(ee.open=s[2]),$=new ke({props:ee}),ne.push(()=>se($,"open",U)),{c(){t=S(),l=E("div"),n=E("h2"),r=W(f),_=S(),o=E("a"),c=W("edit"),h=S(),u=E("div"),w=E("span"),v=W("new_label"),I=S(),g=E("hr"),q=S(),y=E("div");for(let p=0;p<m.length;p+=1)m[p].c();B=S(),N&&N.c(),O=S(),Y($.$$.fragment),this.h()},l(p){_t("svelte-r5m1v8",document.head).forEach(d),t=R(p),l=D(p,"DIV",{class:!0});var Q=M(l);n=D(Q,"H2",{class:!0});var j=M(n);r=z(j,f),_=R(j),o=D(j,"A",{class:!0,title:!0,href:!0});var te=M(o);c=z(te,"edit"),te.forEach(d),h=R(j),u=D(j,"DIV",{class:!0,title:!0});var he=M(u);w=D(he,"SPAN",{class:!0});var V=M(w);v=z(V,"new_label"),V.forEach(d),he.forEach(d),j.forEach(d),Q.forEach(d),I=R(p),g=D(p,"HR",{}),q=R(p),y=D(p,"DIV",{class:!0});var le=M(y);for(let ae=0;ae<m.length;ae+=1)m[ae].l(le);B=R(le),N&&N.l(le),le.forEach(d),O=R(p),x($.$$.fragment,p),this.h()},h(){A(o,"class","material-symbols-rounded edit-skill chip svelte-4lo1mc"),A(o,"title","Edit"),A(o,"href",i="/skill/"+s[1].name+"/edit"),A(w,"class","material-symbols-rounded"),A(u,"class","add-trigger chip svelte-4lo1mc"),A(u,"title","Add Trigger"),A(n,"class","svelte-4lo1mc"),A(l,"class","header svelte-4lo1mc"),A(y,"class","container svelte-4lo1mc")},m(p,C){k(p,t,C),k(p,l,C),b(l,n),b(n,r),b(n,_),b(n,o),b(o,c),b(n,h),b(n,u),b(u,w),b(w,v),k(p,I,C),k(p,g,C),k(p,q,C),k(p,y,C);for(let Q=0;Q<m.length;Q+=1)m[Q]&&m[Q].m(y,null);b(y,B),N&&N.m(y,null),k(p,O,C),Z($,p,C),T=!0,L||(P=X(u,"click",s[8]),L=!0)},p(p,[C]){if((!T||C&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+p[1].name)&&(document.title=e),(!T||C&2)&&f!==(f=p[1].name+"")&&fe(r,f),(!T||C&2&&i!==(i="/skill/"+p[1].name+"/edit"))&&A(o,"href",i),C&98){a=p[1].triggers;let j;for(j=0;j<a.length;j+=1){const te=Ye(p,a,j);m[j]?(m[j].p(te,C),J(m[j],1)):(m[j]=Ze(te),m[j].c(),J(m[j],1),m[j].m(y,B))}for(_e(),j=a.length;j<m.length;j+=1)F(j);de()}p[1].triggers.length==0?N||(N=Ge(),N.c(),N.m(y,null)):N&&(N.d(1),N=null);const Q={};C&2097165&&(Q.$$scope={dirty:C,ctx:p}),!H&&C&4&&(H=!0,Q.open=p[2],oe(()=>H=!1)),$.$set(Q)},i(p){if(!T){for(let C=0;C<a.length;C+=1)J(m[C]);J($.$$.fragment,p),T=!0}},o(p){m=m.filter(Boolean);for(let C=0;C<m.length;C+=1)K(m[C]);K($.$$.fragment,p),T=!1},d(p){p&&d(t),p&&d(l),p&&d(I),p&&d(g),p&&d(q),p&&d(y),pe(m,p),N&&N.d(),p&&d(O),G($,p),L=!1,P()}}}function It(s,e,t){let{data:l}=e,n,f=!1,r="",_;const o=g=>{n.triggers.push(g.detail),c(),setTimeout(()=>t(2,f=!1))},c=()=>{t(1,n.triggers=[...n.triggers],n),i()},i=()=>He.set([...dt(He)]),h=()=>t(2,f=!0);function u(g){r=g,t(0,r)}const w=g=>o({detail:g.clone()}),v=()=>t(2,f=!1);function I(g){f=g,t(2,f)}return s.$$set=g=>{"data"in g&&t(7,l=g.data)},s.$$.update=()=>{s.$$.dirty&128&&l&&t(1,n=l.data),s.$$.dirty&1&&t(3,_=Object.keys(Te.MAP).filter(g=>g.toLowerCase().includes(r.toLowerCase())).sort().map(g=>new Te.MAP[g]))},[r,n,f,_,o,c,i,l,h,u,w,v,I]}class Mt extends et{constructor(e){super(),tt(this,e,It,Dt,lt,{data:7})}}export{Mt as default};
