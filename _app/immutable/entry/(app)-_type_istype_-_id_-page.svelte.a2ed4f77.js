import{S as et,i as tt,s as lt,w as ee,H as te,k as V,a as N,q as B,y as Y,l as C,m as S,c as A,h as _,r as F,z as x,n as y,p as ft,b as $,C as I,A as Z,E as X,J as fe,g as W,u as re,v as ue,d as J,f as _e,O as ie,R as ct,B as G,F as nt,a8 as ut,o as it,X as _t,P as ce,Z as oe,a2 as De,V as $e,Q as st,Y as dt,a1 as de,x as Ce,e as qe,a9 as pt,a0 as ht,U as mt}from"../chunks/index.3926e6cc.js";import{R as me,D as we,F as Pe,t as ye}from"../chunks/store.ed88e814.js";import{M as Ee,b as He,a as Ie,P as Se}from"../chunks/targets.4b474b34.js";import{s as se,P as ve,b as vt,T as ot}from"../chunks/ProInput.846c3776.js";function Te(i,e,t){const n=i.slice();return n[42]=e[t],n}function Ne(i,e,t){const n=i.slice();return n[45]=e[t],n}function Ae(i,e,t){const n=i.slice();return n[48]=e[t],n}function Me(i,e,t){const n=i.slice();return n[51]=e[t],n[52]=e,n[53]=t,n}function Re(i,e,t){const n=i.slice();return n[54]=e[t],n[55]=e,n[56]=t,n}function gt(i){let e,t,n;return{c(){e=V("span"),t=B("expand_less"),this.h()},l(l){e=C(l,"SPAN",{class:!0});var f=S(e);t=F(f,"expand_less"),f.forEach(_),this.h()},h(){y(e,"class","material-symbols-rounded svelte-crwhqu")},m(l,f){$(l,e,f),I(e,t)},i(l){l&&(n||ce(()=>{n=st(e,i[13],{duration:400}),n.start()}))},o:De,d(l){l&&_(e)}}}function bt(i){let e,t,n;return{c(){e=V("span"),t=B("expand_more"),this.h()},l(l){e=C(l,"SPAN",{class:!0});var f=S(e);t=F(f,"expand_more"),f.forEach(_),this.h()},h(){y(e,"class","material-symbols-rounded svelte-crwhqu")},m(l,f){$(l,e,f),I(e,t)},i(l){l&&(n||ce(()=>{n=st(e,i[13],{duration:400}),n.start()}))},o:De,d(l){l&&_(e)}}}function Le(i){let e,t,n,l,f,o,u,r,a,s,h=[],d=new Map,k,H,T,M,R,b=i[0].components;const K=g=>g[54].id;for(let g=0;g<b.length;g+=1){let D=Re(i,b,g),w=K(D);d.set(w,h[g]=Oe(w,D))}let v=i[0].isParent&&Ke(i);return{c(){e=V("div"),t=V("div"),n=B("content_copy"),f=N(),o=V("div"),u=B("delete"),a=N(),s=V("div");for(let g=0;g<h.length;g+=1)h[g].c();k=N(),v&&v.c(),this.h()},l(g){e=C(g,"DIV",{class:!0});var D=S(e);t=C(D,"DIV",{class:!0,title:!0});var w=S(t);n=F(w,"content_copy"),w.forEach(_),f=A(D),o=C(D,"DIV",{class:!0,title:!0});var O=S(o);u=F(O,"delete"),O.forEach(_),D.forEach(_),a=A(g),s=C(g,"DIV",{class:!0});var P=S(s);for(let c=0;c<h.length;c+=1)h[c].l(P);k=A(P),v&&v.l(P),P.forEach(_),this.h()},h(){y(t,"class","material-symbols-rounded control copy svelte-crwhqu"),y(t,"title","Copy"),y(o,"class","material-symbols-rounded control delete svelte-crwhqu"),y(o,"title","Delete"),y(e,"class","controls svelte-crwhqu"),y(s,"class","children svelte-crwhqu")},m(g,D){$(g,e,D),I(e,t),I(t,n),I(e,f),I(e,o),I(o,u),$(g,a,D),$(g,s,D);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(s,null);I(s,k),v&&v.m(s,null),T=!0,M||(R=[X(t,"click",fe(i[18])),X(o,"click",fe(i[19]))],M=!0)},p(g,D){D[0]&3&&(b=g[0].components,ue(),h=_t(h,D,K,1,g,b,d,s,dt,Oe,k,Re),_e()),g[0].isParent?v?v.p(g,D):(v=Ke(g),v.c(),v.m(s,null)):v&&(v.d(1),v=null)},i(g){if(!T){ce(()=>{T&&(l||(l=oe(t,se,{},!0)),l.run(1))}),ce(()=>{T&&(r||(r=oe(o,se,{},!0)),r.run(1))});for(let D=0;D<b.length;D+=1)W(h[D]);g&&ce(()=>{T&&(H||(H=oe(s,se,{},!0)),H.run(1))}),T=!0}},o(g){l||(l=oe(t,se,{},!1)),l.run(0),r||(r=oe(o,se,{},!1)),r.run(0);for(let D=0;D<h.length;D+=1)J(h[D]);g&&(H||(H=oe(s,se,{},!1)),H.run(0)),T=!1},d(g){g&&_(e),g&&l&&l.end(),g&&r&&r.end(),g&&_(a),g&&_(s);for(let D=0;D<h.length;D+=1)h[D].d();v&&v.d(),g&&H&&H.end(),M=!1,nt(R)}}}function Oe(i,e){let t,n,l,f,o;function u(a){e[20](a,e[54],e[55],e[56])}let r={skill:e[1]};return e[54]!==void 0&&(r.component=e[54]),n=new rt({props:r}),ee.push(()=>te(n,"component",u)),n.$on("update",e[21]),n.$on("save",e[22]),{key:i,first:null,c(){t=V("span"),Y(n.$$.fragment),this.h()},l(a){t=C(a,"SPAN",{});var s=S(t);x(n.$$.fragment,s),s.forEach(_),this.h()},h(){this.first=t},m(a,s){$(a,t,s),Z(n,t,null),o=!0},p(a,s){e=a;const h={};s[0]&2&&(h.skill=e[1]),!l&&s[0]&1&&(l=!0,h.component=e[54],ie(()=>l=!1)),n.$set(h)},i(a){o||(W(n.$$.fragment,a),a&&ce(()=>{o&&(f||(f=oe(t,se,{},!0)),f.run(1))}),o=!0)},o(a){J(n.$$.fragment,a),a&&(f||(f=oe(t,se,{},!1)),f.run(0)),o=!1},d(a){a&&_(t),G(n),a&&f&&f.end()}}}function Ke(i){let e,t,n,l;return{c(){e=V("div"),t=B("+ Add Component"),this.h()},l(f){e=C(f,"DIV",{class:!0});var o=S(e);t=F(o,"+ Add Component"),o.forEach(_),this.h()},h(){y(e,"class","chip svelte-crwhqu")},m(f,o){$(f,e,o),I(e,t),n||(l=X(e,"click",fe(i[23])),n=!0)},p:De,d(f){f&&_(e),n=!1,l()}}}function je(i){let e,t=i[0].description+"",n;return{c(){e=V("div"),n=B(t),this.h()},l(l){e=C(l,"DIV",{class:!0});var f=S(e);n=F(f,t),f.forEach(_),this.h()},h(){y(e,"class","modal-desc svelte-crwhqu")},m(l,f){$(l,e,f),I(e,n)},p(l,f){f[0]&1&&t!==(t=l[0].description+"")&&re(n,t)},d(l){l&&_(e)}}}function kt(i){let e,t,n;function l(o){i[29](o)}let f={label:"Icon Key",tooltip:'The key used by the component in the Icon Lore. If this is set to "example" and has a value name of "value", it can be referenced using the string "{attr:example.value}"'};return i[0].iconKey!==void 0&&(f.value=i[0].iconKey),e=new ve({props:f}),ee.push(()=>te(e,"value",l)),{c(){Y(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,u){Z(e,o,u),n=!0},p(o,u){const r={};!t&&u[0]&1&&(t=!0,r.value=o[0].iconKey,ie(()=>t=!1)),e.$set(r)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){J(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function $t(i){let e,t,n,l;return e=new ve({props:{label:"Mana",tooltip:"Whether this trigger requires the mana cost to activate",$$slots:{default:[wt]},$$scope:{ctx:i}}}),n=new ve({props:{label:"Cooldown",tooltip:"Whether this trigger requires to be off cooldown to activate",$$slots:{default:[Et]},$$scope:{ctx:i}}}),{c(){Y(e.$$.fragment),t=N(),Y(n.$$.fragment)},l(f){x(e.$$.fragment,f),t=A(f),x(n.$$.fragment,f)},m(f,o){Z(e,f,o),$(f,t,o),Z(n,f,o),l=!0},p(f,o){const u={};o[0]&1|o[1]&67108864&&(u.$$scope={dirty:o,ctx:f}),e.$set(u);const r={};o[0]&1|o[1]&67108864&&(r.$$scope={dirty:o,ctx:f}),n.$set(r)},i(f){l||(W(e.$$.fragment,f),W(n.$$.fragment,f),l=!0)},o(f){J(e.$$.fragment,f),J(n.$$.fragment,f),l=!1},d(f){G(e,f),f&&_(t),G(n,f)}}}function wt(i){let e,t,n;function l(o){i[27](o)}let f={};return i[0].mana!==void 0&&(f.data=i[0].mana),e=new ot({props:f}),ee.push(()=>te(e,"data",l)),{c(){Y(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,u){Z(e,o,u),n=!0},p(o,u){const r={};!t&&u[0]&1&&(t=!0,r.data=o[0].mana,ie(()=>t=!1)),e.$set(r)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){J(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function Et(i){let e,t,n;function l(o){i[28](o)}let f={};return i[0].cooldown!==void 0&&(f.data=i[0].cooldown),e=new ot({props:f}),ee.push(()=>te(e,"data",l)),{c(){Y(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,u){Z(e,o,u),n=!0},p(o,u){const r={};!t&&u[0]&1&&(t=!0,r.data=o[0].cooldown,ie(()=>t=!1)),e.$set(r)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){J(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function We(i){let e,t,n,l;function f(r){i[30](r,i[51])}var o=i[51].component;function u(r){let a={name:r[51].name,tooltip:r[51].tooltip};return r[51].data!==void 0&&(a.data=r[51].data),{props:a}}return o&&(e=Ce(o,u(i)),ee.push(()=>te(e,"data",f)),e.$on("save",i[31])),{c(){e&&Y(e.$$.fragment),n=qe()},l(r){e&&x(e.$$.fragment,r),n=qe()},m(r,a){e&&Z(e,r,a),$(r,n,a),l=!0},p(r,a){i=r;const s={};if(a[0]&1&&(s.name=i[51].name),a[0]&1&&(s.tooltip=i[51].tooltip),!t&&a[0]&1&&(t=!0,s.data=i[51].data,ie(()=>t=!1)),a[0]&1&&o!==(o=i[51].component)){if(e){ue();const h=e;J(h.$$.fragment,1,0,()=>{G(h,1)}),_e()}o?(e=Ce(o,u(i)),ee.push(()=>te(e,"data",f)),e.$on("save",i[31]),Y(e.$$.fragment),W(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}else o&&e.$set(s)},i(r){l||(e&&W(e.$$.fragment,r),l=!0)},o(r){e&&J(e.$$.fragment,r),l=!1},d(r){r&&_(n),e&&G(e,r)}}}function It(i){let e,t=i[0].name+"",n,l,f,o,u,r,a,s,h,d,k=i[0].description&&je(i);const H=[$t,kt],T=[];function M(v,g){return v[0]instanceof we&&v[0].name!="Cast"&&v[0].name!="Initialize"&&v[0].name!="Cleanup"?0:v[0]instanceof Ie?1:-1}~(a=M(i))&&(s=T[a]=H[a](i));let R=i[0].data,b=[];for(let v=0;v<R.length;v+=1)b[v]=We(Me(i,R,v));const K=v=>J(b[v],1,1,()=>{b[v]=null});return{c(){e=V("h2"),n=B(t),l=N(),k&&k.c(),f=N(),o=V("hr"),u=N(),r=V("div"),s&&s.c(),h=N();for(let v=0;v<b.length;v+=1)b[v].c();this.h()},l(v){e=C(v,"H2",{});var g=S(e);n=F(g,t),g.forEach(_),l=A(v),k&&k.l(v),f=A(v),o=C(v,"HR",{}),u=A(v),r=C(v,"DIV",{class:!0});var D=S(r);s&&s.l(D),h=A(D);for(let w=0;w<b.length;w+=1)b[w].l(D);D.forEach(_),this.h()},h(){y(r,"class","component-entry svelte-crwhqu")},m(v,g){$(v,e,g),I(e,n),$(v,l,g),k&&k.m(v,g),$(v,f,g),$(v,o,g),$(v,u,g),$(v,r,g),~a&&T[a].m(r,null),I(r,h);for(let D=0;D<b.length;D+=1)b[D]&&b[D].m(r,null);d=!0},p(v,g){(!d||g[0]&1)&&t!==(t=v[0].name+"")&&re(n,t),v[0].description?k?k.p(v,g):(k=je(v),k.c(),k.m(f.parentNode,f)):k&&(k.d(1),k=null);let D=a;if(a=M(v),a===D?~a&&T[a].p(v,g):(s&&(ue(),J(T[D],1,1,()=>{T[D]=null}),_e()),~a?(s=T[a],s?s.p(v,g):(s=T[a]=H[a](v),s.c()),W(s,1),s.m(r,h)):s=null),g[0]&1){R=v[0].data;let w;for(w=0;w<R.length;w+=1){const O=Me(v,R,w);b[w]?(b[w].p(O,g),W(b[w],1)):(b[w]=We(O),b[w].c(),W(b[w],1),b[w].m(r,null))}for(ue(),w=R.length;w<b.length;w+=1)K(w);_e()}},i(v){if(!d){W(s);for(let g=0;g<R.length;g+=1)W(b[g]);d=!0}},o(v){J(s),b=b.filter(Boolean);for(let g=0;g<b.length;g+=1)J(b[g]);d=!1},d(v){v&&_(e),v&&_(l),k&&k.d(v),v&&_(f),v&&_(o),v&&_(u),v&&_(r),~a&&T[a].d(),de(b,v)}}}function ze(i){let e,t,n,l,f,o,u,r=i[7],a=[];for(let s=0;s<r.length;s+=1)a[s]=Be(Ae(i,r,s));return{c(){e=V("hr"),t=N(),n=V("div"),l=V("h3"),f=B("Conditions"),o=N(),u=V("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=C(s,"HR",{}),t=A(s),n=C(s,"DIV",{class:!0});var h=S(n);l=C(h,"H3",{class:!0});var d=S(l);f=F(d,"Conditions"),d.forEach(_),h.forEach(_),o=A(s),u=C(s,"DIV",{class:!0});var k=S(u);for(let H=0;H<a.length;H+=1)a[H].l(k);k.forEach(_),this.h()},h(){y(l,"class","svelte-crwhqu"),y(n,"class","comp-modal-header svelte-crwhqu"),y(u,"class","triggers")},m(s,h){$(s,e,h),$(s,t,h),$(s,n,h),I(n,l),I(l,f),$(s,o,h),$(s,u,h);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(u,null)},p(s,h){if(h[0]&2176){r=s[7];let d;for(d=0;d<r.length;d+=1){const k=Ae(s,r,d);a[d]?a[d].p(k,h):(a[d]=Be(k),a[d].c(),a[d].m(u,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=r.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(o),s&&_(u),de(a,s)}}}function Be(i){let e,t=i[48].name+"",n,l,f;function o(){return i[34](i[48])}return{c(){e=V("div"),n=B(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var r=S(e);n=F(r,t),r.forEach(_),this.h()},h(){y(e,"class","comp-select")},m(u,r){$(u,e,r),I(e,n),l||(f=X(e,"click",o),l=!0)},p(u,r){i=u,r[0]&128&&t!==(t=i[48].name+"")&&re(n,t)},d(u){u&&_(e),l=!1,f()}}}function Fe(i){let e,t,n,l,f,o,u,r=i[6],a=[];for(let s=0;s<r.length;s+=1)a[s]=Je(Ne(i,r,s));return{c(){e=V("hr"),t=N(),n=V("div"),l=V("h3"),f=B("Targets"),o=N(),u=V("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=C(s,"HR",{}),t=A(s),n=C(s,"DIV",{class:!0});var h=S(n);l=C(h,"H3",{class:!0});var d=S(l);f=F(d,"Targets"),d.forEach(_),h.forEach(_),o=A(s),u=C(s,"DIV",{class:!0});var k=S(u);for(let H=0;H<a.length;H+=1)a[H].l(k);k.forEach(_),this.h()},h(){y(l,"class","svelte-crwhqu"),y(n,"class","comp-modal-header svelte-crwhqu"),y(u,"class","triggers")},m(s,h){$(s,e,h),$(s,t,h),$(s,n,h),I(n,l),I(l,f),$(s,o,h),$(s,u,h);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(u,null)},p(s,h){if(h[0]&2112){r=s[6];let d;for(d=0;d<r.length;d+=1){const k=Ne(s,r,d);a[d]?a[d].p(k,h):(a[d]=Je(k),a[d].c(),a[d].m(u,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=r.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(o),s&&_(u),de(a,s)}}}function Je(i){let e,t=i[45].name+"",n,l,f;function o(){return i[35](i[45])}return{c(){e=V("div"),n=B(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var r=S(e);n=F(r,t),r.forEach(_),this.h()},h(){y(e,"class","comp-select")},m(u,r){$(u,e,r),I(e,n),l||(f=X(e,"click",o),l=!0)},p(u,r){i=u,r[0]&64&&t!==(t=i[45].name+"")&&re(n,t)},d(u){u&&_(e),l=!1,f()}}}function Qe(i){let e,t,n,l,f,o,u,r=i[8],a=[];for(let s=0;s<r.length;s+=1)a[s]=Ue(Te(i,r,s));return{c(){e=V("hr"),t=N(),n=V("div"),l=V("h3"),f=B("Mechanics"),o=N(),u=V("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=C(s,"HR",{}),t=A(s),n=C(s,"DIV",{class:!0});var h=S(n);l=C(h,"H3",{class:!0});var d=S(l);f=F(d,"Mechanics"),d.forEach(_),h.forEach(_),o=A(s),u=C(s,"DIV",{class:!0});var k=S(u);for(let H=0;H<a.length;H+=1)a[H].l(k);k.forEach(_),this.h()},h(){y(l,"class","svelte-crwhqu"),y(n,"class","comp-modal-header svelte-crwhqu"),y(u,"class","triggers")},m(s,h){$(s,e,h),$(s,t,h),$(s,n,h),I(n,l),I(l,f),$(s,o,h),$(s,u,h);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(u,null)},p(s,h){if(h[0]&2304){r=s[8];let d;for(d=0;d<r.length;d+=1){const k=Te(s,r,d);a[d]?a[d].p(k,h):(a[d]=Ue(k),a[d].c(),a[d].m(u,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=r.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(o),s&&_(u),de(a,s)}}}function Ue(i){let e,t=i[42].name+"",n,l,f;function o(){return i[36](i[42])}return{c(){e=V("div"),n=B(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var r=S(e);n=F(r,t),r.forEach(_),this.h()},h(){y(e,"class","comp-select")},m(u,r){$(u,e,r),I(e,n),l||(f=X(e,"click",o),l=!0)},p(u,r){i=u,r[0]&256&&t!==(t=i[42].name+"")&&re(n,t)},d(u){u&&_(e),l=!1,f()}}}function Dt(i){let e,t,n,l,f,o,u,r,a,s,h,d,k,H,T,M,R,b,K,v;function g(c){i[33](c)}let D={placeholder:"Search..."};i[3]!==void 0&&(D.value=i[3]),r=new ve({props:D}),ee.push(()=>te(r,"value",g));let w=i[7].length>0&&ze(i),O=i[6].length>0&&Fe(i),P=i[8].length>0&&Qe(i);return{c(){e=V("div"),t=V("div"),n=N(),l=V("h2"),f=B("Add a Component"),o=N(),u=V("div"),Y(r.$$.fragment),s=N(),w&&w.c(),h=N(),O&&O.c(),d=N(),P&&P.c(),k=N(),H=V("hr"),T=N(),M=V("div"),R=B("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var m=S(e);t=C(m,"DIV",{}),S(t).forEach(_),n=A(m),l=C(m,"H2",{});var Q=S(l);f=F(Q,"Add a Component"),Q.forEach(_),o=A(m),u=C(m,"DIV",{class:!0});var L=S(u);x(r.$$.fragment,L),L.forEach(_),m.forEach(_),s=A(c),w&&w.l(c),h=A(c),O&&O.l(c),d=A(c),P&&P.l(c),k=A(c),H=C(c,"HR",{}),T=A(c),M=C(c,"DIV",{class:!0});var U=S(M);R=F(U,"Cancel"),U.forEach(_),this.h()},h(){y(u,"class","search-bar"),y(e,"class","modal-header-wrapper"),y(M,"class","cancel")},m(c,m){$(c,e,m),I(e,t),I(e,n),I(e,l),I(l,f),I(e,o),I(e,u),Z(r,u,null),$(c,s,m),w&&w.m(c,m),$(c,h,m),O&&O.m(c,m),$(c,d,m),P&&P.m(c,m),$(c,k,m),$(c,H,m),$(c,T,m),$(c,M,m),I(M,R),b=!0,K||(v=X(M,"click",i[37]),K=!0)},p(c,m){const Q={};!a&&m[0]&8&&(a=!0,Q.value=c[3],ie(()=>a=!1)),r.$set(Q),c[7].length>0?w?w.p(c,m):(w=ze(c),w.c(),w.m(h.parentNode,h)):w&&(w.d(1),w=null),c[6].length>0?O?O.p(c,m):(O=Fe(c),O.c(),O.m(d.parentNode,d)):O&&(O.d(1),O=null),c[8].length>0?P?P.p(c,m):(P=Qe(c),P.c(),P.m(k.parentNode,k)):P&&(P.d(1),P=null)},i(c){b||(W(r.$$.fragment,c),b=!0)},o(c){J(r.$$.fragment,c),b=!1},d(c){c&&_(e),G(r),c&&_(s),w&&w.d(c),c&&_(h),O&&O.d(c),c&&_(d),P&&P.d(c),c&&_(k),c&&_(H),c&&_(T),c&&_(M),K=!1,v()}}}function Vt(i){let e,t,n,l,f,o,u,r=i[10]()+"",a,s,h=i[0].name+"",d,k,H,T,M,R,b,K,v,g,D,w;function O(p,q){return p[5]?bt:gt}let P=O(i),c=P(i),m=!i[5]&&Le(i);function Q(p){i[32](p)}let L={width:"70%",$$slots:{default:[It]},$$scope:{ctx:i}};i[2]!==void 0&&(L.open=i[2]),M=new Ee({props:L}),ee.push(()=>te(M,"open",Q));function U(p){i[38](p)}let le={width:"70%",$$slots:{default:[Dt]},$$scope:{ctx:i}};return i[4]!==void 0&&(le.open=i[4]),K=new Ee({props:le}),ee.push(()=>te(K,"open",U)),{c(){e=V("div"),t=V("div"),c.c(),n=N(),l=V("div"),f=N(),o=V("div"),u=V("span"),a=B(r),s=B(": "),d=B(h),k=N(),m&&m.c(),T=N(),Y(M.$$.fragment),b=N(),Y(K.$$.fragment),this.h()},l(p){e=C(p,"DIV",{class:!0});var q=S(e);t=C(q,"DIV",{draggable:!0,class:!0});var z=S(t);c.l(z),n=A(z),l=C(z,"DIV",{class:!0}),S(l).forEach(_),f=A(z),o=C(z,"DIV",{class:!0});var j=S(o);u=C(j,"SPAN",{class:!0});var ne=S(u);a=F(ne,r),ne.forEach(_),s=F(j,": "),d=F(j,h),j.forEach(_),k=A(z),m&&m.l(z),z.forEach(_),q.forEach(_),T=A(p),x(M.$$.fragment,p),b=A(p),x(K.$$.fragment,p),this.h()},h(){y(l,"class","corner svelte-crwhqu"),y(u,"class","svelte-crwhqu"),y(o,"class","name svelte-crwhqu"),y(t,"draggable","true"),y(t,"class","comp-body svelte-crwhqu"),ft(t,"--comp-color",i[12]()),y(e,"class","wrapper svelte-crwhqu")},m(p,q){$(p,e,q),I(e,t),c.m(t,null),I(t,n),I(t,l),I(t,f),I(t,o),I(o,u),I(u,a),I(o,s),I(o,d),I(t,k),m&&m.m(t,null),$(p,T,q),Z(M,p,q),$(p,b,q),Z(K,p,q),g=!0,D||(w=[X(l,"click",fe(i[17])),X(t,"dragstart",fe(i[24])),X(t,"dragend",i[25]),X(t,"click",fe(i[26]))],D=!0)},p(p,q){P!==(P=O(p))&&(c.d(1),c=P(p),c&&(c.c(),W(c,1),c.m(t,n))),(!g||q[0]&1)&&h!==(h=p[0].name+"")&&re(d,h),p[5]?m&&(ue(),J(m,1,1,()=>{m=null}),_e()):m?(m.p(p,q),q[0]&32&&W(m,1)):(m=Le(p),m.c(),W(m,1),m.m(t,null));const z={};q[0]&1|q[1]&67108864&&(z.$$scope={dirty:q,ctx:p}),!R&&q[0]&4&&(R=!0,z.open=p[2],ie(()=>R=!1)),M.$set(z);const j={};q[0]&472|q[1]&67108864&&(j.$$scope={dirty:q,ctx:p}),!v&&q[0]&16&&(v=!0,j.open=p[4],ie(()=>v=!1)),K.$set(j)},i(p){g||(W(c),W(m),H&&H.end(1),W(M.$$.fragment,p),W(K.$$.fragment,p),g=!0)},o(p){J(m),H=ct(t,se,{}),J(M.$$.fragment,p),J(K.$$.fragment,p),g=!1},d(p){p&&_(e),c.d(),m&&m.d(),p&&H&&H.end(),p&&_(T),G(M,p),p&&_(b),G(K,p),D=!1,nt(w)}}}function Ct(i,e,t){let{skill:n}=e,{component:l}=e;const f=ut();let o=!1,u=!1,r=!1,a="",s={},h={},d={},k,H,T;it(()=>{me.targets.subscribe(E=>t(14,s=E)),me.conditions.subscribe(E=>t(15,h=E)),me.mechanics.subscribe(E=>t(16,d=E))});const M=()=>l instanceof we?"Trigger":l instanceof He?"Condition":l instanceof Ie?"Target":l instanceof Se?"Mechanic":"???",R=E=>{t(0,l.components=[...l.components,E],l),t(4,u=!1),t(3,a=""),f("save")},b=()=>l instanceof we?"#0083ef":l instanceof He?"#feac00":l instanceof Ie?"#04af38":l instanceof Se?"#ff3a3a":"orange",K=(E,{duration:he})=>({duration:he,css:ke=>`transform: rotate(${180-vt(ke)*180}deg);`}),v=()=>t(5,r=!r),g=()=>console.log("clicked copy"),D=()=>{n.removeComponent(l),f("update")};function w(E,he,ke,Ve){ke[Ve]=E,t(0,l)}function O(E){$e.call(this,i,E)}function P(E){$e.call(this,i,E)}const c=()=>t(4,u=!0),m=()=>Pe.set(l),Q=()=>Pe.set(void 0),L=()=>t(2,o=!0);function U(E){i.$$.not_equal(l.mana,E)&&(l.mana=E,t(0,l))}function le(E){i.$$.not_equal(l.cooldown,E)&&(l.cooldown=E,t(0,l))}function p(E){i.$$.not_equal(l.iconKey,E)&&(l.iconKey=E,t(0,l))}function q(E,he){i.$$.not_equal(he.data,E)&&(he.data=E,t(0,l))}function z(E){$e.call(this,i,E)}function j(E){o=E,t(2,o)}function ne(E){a=E,t(3,a)}const ge=E=>R(E),be=E=>R(E),ae=E=>R(E),pe=()=>t(4,u=!1);function at(E){u=E,t(4,u)}return i.$$set=E=>{"skill"in E&&t(1,n=E.skill),"component"in E&&t(0,l=E.component)},i.$$.update=()=>{i.$$.dirty[0]&114696&&(t(6,k=Object.keys(s).filter(E=>E.toLowerCase().includes(a.toLowerCase())).sort().map(E=>s[E].component.new())),t(7,H=Object.keys(h).filter(E=>E.toLowerCase().includes(a.toLowerCase())).sort().map(E=>h[E].component.new())),t(8,T=Object.keys(d).filter(E=>E.toLowerCase().includes(a.toLowerCase())).sort().map(E=>d[E].component.new()))),i.$$.dirty[0]&1&&l&&f("save"),i.$$.dirty[0]&5&&o&&l&&l.data.filter(E=>E.dataSource).forEach(E=>E.init())},[l,n,o,a,u,r,k,H,T,f,M,R,b,K,s,h,d,v,g,D,w,O,P,c,m,Q,L,U,le,p,q,z,j,ne,ge,be,ae,pe,at]}class rt extends et{constructor(e){super(),tt(this,e,Ct,Vt,lt,{skill:1,component:0},null,[-1,-1])}}function Xe(i,e,t){const n=i.slice();return n[17]=e[t],n}function Ye(i,e,t){const n=i.slice();return n[20]=e[t],n}function Ze(i){let e,t,n;return t=new rt({props:{skill:i[1],component:i[20]}}),t.$on("update",i[5]),t.$on("save",i[6]),{c(){e=V("div"),Y(t.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0});var f=S(e);x(t.$$.fragment,f),f.forEach(_),this.h()},h(){y(e,"class","widget svelte-4lo1mc")},m(l,f){$(l,e,f),Z(t,e,null),n=!0},p(l,f){const o={};f&2&&(o.skill=l[1]),f&2&&(o.component=l[20]),t.$set(o)},i(l){n||(W(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){l&&_(e),G(t)}}}function Ge(i){let e,t;return{c(){e=V("div"),t=B("No triggers added yet.")},l(n){e=C(n,"DIV",{});var l=S(e);t=F(l,"No triggers added yet."),l.forEach(_)},m(n,l){$(n,e,l),I(e,t)},d(n){n&&_(e)}}}function xe(i){let e,t=i[17].name+"",n,l,f,o;function u(){return i[11](i[17])}return{c(){e=V("div"),n=B(t),l=N(),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=S(e);n=F(a,t),l=A(a),a.forEach(_),this.h()},h(){y(e,"class","comp-select")},m(r,a){$(r,e,a),I(e,n),I(e,l),f||(o=X(e,"click",u),f=!0)},p(r,a){i=r,a&8&&t!==(t=i[17].name+"")&&re(n,t)},d(r){r&&_(e),f=!1,o()}}}function qt(i){let e,t,n,l,f,o,u,r,a,s,h,d,k,H,T,M,R,b,K,v,g;function D(c){i[10](c)}let w={placeholder:"Search..."};i[0]!==void 0&&(w.value=i[0]),r=new ve({props:w}),ee.push(()=>te(r,"value",D));let O=i[3],P=[];for(let c=0;c<O.length;c+=1)P[c]=xe(Xe(i,O,c));return{c(){e=V("div"),t=V("div"),n=N(),l=V("h2"),f=B("Select New Trigger"),o=N(),u=V("div"),Y(r.$$.fragment),s=N(),h=V("hr"),d=N(),k=V("div");for(let c=0;c<P.length;c+=1)P[c].c();H=N(),T=V("hr"),M=N(),R=V("div"),b=B("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var m=S(e);t=C(m,"DIV",{}),S(t).forEach(_),n=A(m),l=C(m,"H2",{class:!0});var Q=S(l);f=F(Q,"Select New Trigger"),Q.forEach(_),o=A(m),u=C(m,"DIV",{class:!0});var L=S(u);x(r.$$.fragment,L),L.forEach(_),m.forEach(_),s=A(c),h=C(c,"HR",{}),d=A(c),k=C(c,"DIV",{class:!0});var U=S(k);for(let p=0;p<P.length;p+=1)P[p].l(U);U.forEach(_),H=A(c),T=C(c,"HR",{}),M=A(c),R=C(c,"DIV",{class:!0});var le=S(R);b=F(le,"Cancel"),le.forEach(_),this.h()},h(){y(l,"class","modal-header svelte-4lo1mc"),y(u,"class","search-bar"),y(e,"class","modal-header-wrapper"),y(k,"class","triggers"),y(R,"class","cancel")},m(c,m){$(c,e,m),I(e,t),I(e,n),I(e,l),I(l,f),I(e,o),I(e,u),Z(r,u,null),$(c,s,m),$(c,h,m),$(c,d,m),$(c,k,m);for(let Q=0;Q<P.length;Q+=1)P[Q]&&P[Q].m(k,null);$(c,H,m),$(c,T,m),$(c,M,m),$(c,R,m),I(R,b),K=!0,v||(g=X(R,"click",i[12]),v=!0)},p(c,m){const Q={};if(!a&&m&1&&(a=!0,Q.value=c[0],ie(()=>a=!1)),r.$set(Q),m&24){O=c[3];let L;for(L=0;L<O.length;L+=1){const U=Xe(c,O,L);P[L]?P[L].p(U,m):(P[L]=xe(U),P[L].c(),P[L].m(k,null))}for(;L<P.length;L+=1)P[L].d(1);P.length=O.length}},i(c){K||(W(r.$$.fragment,c),K=!0)},o(c){J(r.$$.fragment,c),K=!1},d(c){c&&_(e),G(r),c&&_(s),c&&_(h),c&&_(d),c&&_(k),de(P,c),c&&_(H),c&&_(T),c&&_(M),c&&_(R),v=!1,g()}}}function Pt(i){let e,t,n,l,f=i[1].name+"",o,u,r,a,s,h,d,k,H,T,M,R,b,K,v,g,D,w,O,P;document.title=e="ProSkillAPI Dynamic Editor - "+i[1].name;let c=i[1].triggers,m=[];for(let p=0;p<c.length;p+=1)m[p]=Ze(Ye(i,c,p));const Q=p=>J(m[p],1,1,()=>{m[p]=null});let L=i[1].triggers.length==0&&Ge();function U(p){i[13](p)}let le={$$slots:{default:[qt]},$$scope:{ctx:i}};return i[2]!==void 0&&(le.open=i[2]),g=new Ee({props:le}),ee.push(()=>te(g,"open",U)),{c(){t=N(),n=V("div"),l=V("h2"),o=B(f),u=N(),r=V("a"),a=B("edit"),h=N(),d=V("div"),k=V("span"),H=B("new_label"),T=N(),M=V("hr"),R=N(),b=V("div");for(let p=0;p<m.length;p+=1)m[p].c();K=N(),L&&L.c(),v=N(),Y(g.$$.fragment),this.h()},l(p){pt("svelte-r5m1v8",document.head).forEach(_),t=A(p),n=C(p,"DIV",{class:!0});var z=S(n);l=C(z,"H2",{class:!0});var j=S(l);o=F(j,f),u=A(j),r=C(j,"A",{class:!0,title:!0,href:!0});var ne=S(r);a=F(ne,"edit"),ne.forEach(_),h=A(j),d=C(j,"DIV",{class:!0,title:!0});var ge=S(d);k=C(ge,"SPAN",{class:!0});var be=S(k);H=F(be,"new_label"),be.forEach(_),ge.forEach(_),j.forEach(_),z.forEach(_),T=A(p),M=C(p,"HR",{}),R=A(p),b=C(p,"DIV",{class:!0});var ae=S(b);for(let pe=0;pe<m.length;pe+=1)m[pe].l(ae);K=A(ae),L&&L.l(ae),ae.forEach(_),v=A(p),x(g.$$.fragment,p),this.h()},h(){y(r,"class","material-symbols-rounded edit-skill chip svelte-4lo1mc"),y(r,"title","Edit"),y(r,"href",s="/skill/"+i[1].name+"/edit"),y(k,"class","material-symbols-rounded"),y(d,"class","add-trigger chip svelte-4lo1mc"),y(d,"title","Add Trigger"),y(l,"class","svelte-4lo1mc"),y(n,"class","header svelte-4lo1mc"),y(b,"class","container svelte-4lo1mc")},m(p,q){$(p,t,q),$(p,n,q),I(n,l),I(l,o),I(l,u),I(l,r),I(r,a),I(l,h),I(l,d),I(d,k),I(k,H),$(p,T,q),$(p,M,q),$(p,R,q),$(p,b,q);for(let z=0;z<m.length;z+=1)m[z]&&m[z].m(b,null);I(b,K),L&&L.m(b,null),$(p,v,q),Z(g,p,q),w=!0,O||(P=X(d,"click",i[9]),O=!0)},p(p,[q]){if((!w||q&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+p[1].name)&&(document.title=e),(!w||q&2)&&f!==(f=p[1].name+"")&&re(o,f),(!w||q&2&&s!==(s="/skill/"+p[1].name+"/edit"))&&y(r,"href",s),q&98){c=p[1].triggers;let j;for(j=0;j<c.length;j+=1){const ne=Ye(p,c,j);m[j]?(m[j].p(ne,q),W(m[j],1)):(m[j]=Ze(ne),m[j].c(),W(m[j],1),m[j].m(b,K))}for(ue(),j=c.length;j<m.length;j+=1)Q(j);_e()}p[1].triggers.length==0?L||(L=Ge(),L.c(),L.m(b,null)):L&&(L.d(1),L=null);const z={};q&8388621&&(z.$$scope={dirty:q,ctx:p}),!D&&q&4&&(D=!0,z.open=p[2],ie(()=>D=!1)),g.$set(z)},i(p){if(!w){for(let q=0;q<c.length;q+=1)W(m[q]);W(g.$$.fragment,p),w=!0}},o(p){m=m.filter(Boolean);for(let q=0;q<m.length;q+=1)J(m[q]);J(g.$$.fragment,p),w=!1},d(p){p&&_(t),p&&_(n),p&&_(T),p&&_(M),p&&_(R),p&&_(b),de(m,p),L&&L.d(),p&&_(v),G(g,p),O=!1,P()}}}function yt(i,e,t){let{data:n}=e,l,f=!1,o="",u,r,a={};it(()=>{r=me.triggers.subscribe(K=>t(8,a=K));let b;b=me.initialized.subscribe(K=>{K&&(b&&b(),h())})}),ht(()=>{r&&r()});const s=b=>{l.triggers.push(b.detail),h(),setTimeout(()=>t(2,f=!1))},h=()=>{t(1,l.triggers=[...l.triggers],l),d()},d=()=>ye.set([...mt(ye)]),k=()=>t(2,f=!0);function H(b){o=b,t(0,o)}const T=b=>s({detail:b.clone()}),M=()=>t(2,f=!1);function R(b){f=b,t(2,f)}return i.$$set=b=>{"data"in b&&t(7,n=b.data)},i.$$.update=()=>{i.$$.dirty&128&&n&&t(1,l=n.data),i.$$.dirty&257&&t(3,u=Object.keys(a).filter(b=>b.toLowerCase().includes(o.toLowerCase())).sort().map(b=>a[b].component.new()))},[o,l,f,u,s,h,d,n,a,k,H,T,M,R]}class At extends et{constructor(e){super(),tt(this,e,yt,Pt,lt,{data:7})}}export{At as default};
