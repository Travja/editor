import{S as tt,i as lt,s as nt,w as ee,H as te,k as V,a as A,q as F,y as Y,l as C,m as S,c as y,h as _,r as J,z as x,n as H,p as ct,b as $,C as I,A as Z,E as X,J as ue,g as W,u as re,v as ae,d as B,f as fe,O as ie,R as ut,B as G,F as it,a8 as _t,o as st,X as dt,P as _e,Z as oe,a2 as Ce,V as we,Q as ot,Y as pt,a1 as de,e as ke,x as Pe,a9 as ht,a0 as mt,U as vt}from"../chunks/index.3926e6cc.js";import{R as me,F as Ee,H as He,t as Ne}from"../chunks/store.f667a01e.js";import{M as Ie,b as De,a as Ve,P as Se}from"../chunks/targets.0f7f0790.js";import{s as se,P as ve,b as gt,T as rt}from"../chunks/ProInput.a5acf289.js";function Te(i,e,t){const n=i.slice();return n[42]=e[t],n}function Ae(i,e,t){const n=i.slice();return n[45]=e[t],n}function ye(i,e,t){const n=i.slice();return n[48]=e[t],n}function Re(i,e,t){const n=i.slice();return n[51]=e[t],n[52]=e,n[53]=t,n}function Me(i,e,t){const n=i.slice();return n[54]=e[t],n[55]=e,n[56]=t,n}function bt(i){let e,t,n;return{c(){e=V("span"),t=F("expand_less"),this.h()},l(l){e=C(l,"SPAN",{class:!0});var r=S(e);t=J(r,"expand_less"),r.forEach(_),this.h()},h(){H(e,"class","material-symbols-rounded svelte-crwhqu")},m(l,r){$(l,e,r),I(e,t)},i(l){l&&(n||_e(()=>{n=ot(e,i[13],{duration:400}),n.start()}))},o:Ce,d(l){l&&_(e)}}}function kt(i){let e,t,n;return{c(){e=V("span"),t=F("expand_more"),this.h()},l(l){e=C(l,"SPAN",{class:!0});var r=S(e);t=J(r,"expand_more"),r.forEach(_),this.h()},h(){H(e,"class","material-symbols-rounded svelte-crwhqu")},m(l,r){$(l,e,r),I(e,t)},i(l){l&&(n||_e(()=>{n=ot(e,i[13],{duration:400}),n.start()}))},o:Ce,d(l){l&&_(e)}}}function Le(i){let e,t,n,l,r,o,u,a,f,s,h=[],d=new Map,k,N,T,R,M,b=i[0].components;const K=g=>g[54].id;for(let g=0;g<b.length;g+=1){let D=Me(i,b,g),w=K(D);d.set(w,h[g]=Oe(w,D))}let v=i[0].isParent&&Ke(i);return{c(){e=V("div"),t=V("div"),n=F("content_copy"),r=A(),o=V("div"),u=F("delete"),f=A(),s=V("div");for(let g=0;g<h.length;g+=1)h[g].c();k=A(),v&&v.c(),this.h()},l(g){e=C(g,"DIV",{class:!0});var D=S(e);t=C(D,"DIV",{class:!0,title:!0});var w=S(t);n=J(w,"content_copy"),w.forEach(_),r=y(D),o=C(D,"DIV",{class:!0,title:!0});var O=S(o);u=J(O,"delete"),O.forEach(_),D.forEach(_),f=y(g),s=C(g,"DIV",{class:!0});var P=S(s);for(let c=0;c<h.length;c+=1)h[c].l(P);k=y(P),v&&v.l(P),P.forEach(_),this.h()},h(){H(t,"class","material-symbols-rounded control copy svelte-crwhqu"),H(t,"title","Copy"),H(o,"class","material-symbols-rounded control delete svelte-crwhqu"),H(o,"title","Delete"),H(e,"class","controls svelte-crwhqu"),H(s,"class","children svelte-crwhqu")},m(g,D){$(g,e,D),I(e,t),I(t,n),I(e,r),I(e,o),I(o,u),$(g,f,D),$(g,s,D);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(s,null);I(s,k),v&&v.m(s,null),T=!0,R||(M=[X(t,"click",ue(i[18])),X(o,"click",ue(i[19]))],R=!0)},p(g,D){D[0]&3&&(b=g[0].components,ae(),h=dt(h,D,K,1,g,b,d,s,pt,Oe,k,Me),fe()),g[0].isParent?v?v.p(g,D):(v=Ke(g),v.c(),v.m(s,null)):v&&(v.d(1),v=null)},i(g){if(!T){_e(()=>{T&&(l||(l=oe(t,se,{},!0)),l.run(1))}),_e(()=>{T&&(a||(a=oe(o,se,{},!0)),a.run(1))});for(let D=0;D<b.length;D+=1)W(h[D]);g&&_e(()=>{T&&(N||(N=oe(s,se,{},!0)),N.run(1))}),T=!0}},o(g){l||(l=oe(t,se,{},!1)),l.run(0),a||(a=oe(o,se,{},!1)),a.run(0);for(let D=0;D<h.length;D+=1)B(h[D]);g&&(N||(N=oe(s,se,{},!1)),N.run(0)),T=!1},d(g){g&&_(e),g&&l&&l.end(),g&&a&&a.end(),g&&_(f),g&&_(s);for(let D=0;D<h.length;D+=1)h[D].d();v&&v.d(),g&&N&&N.end(),R=!1,it(M)}}}function Oe(i,e){let t,n,l,r,o;function u(f){e[20](f,e[54],e[55],e[56])}let a={skill:e[1]};return e[54]!==void 0&&(a.component=e[54]),n=new at({props:a}),ee.push(()=>te(n,"component",u)),n.$on("update",e[21]),n.$on("save",e[22]),{key:i,first:null,c(){t=V("span"),Y(n.$$.fragment),this.h()},l(f){t=C(f,"SPAN",{});var s=S(t);x(n.$$.fragment,s),s.forEach(_),this.h()},h(){this.first=t},m(f,s){$(f,t,s),Z(n,t,null),o=!0},p(f,s){e=f;const h={};s[0]&2&&(h.skill=e[1]),!l&&s[0]&1&&(l=!0,h.component=e[54],ie(()=>l=!1)),n.$set(h)},i(f){o||(W(n.$$.fragment,f),f&&_e(()=>{o&&(r||(r=oe(t,se,{},!0)),r.run(1))}),o=!0)},o(f){B(n.$$.fragment,f),f&&(r||(r=oe(t,se,{},!1)),r.run(0)),o=!1},d(f){f&&_(t),G(n),f&&r&&r.end()}}}function Ke(i){let e,t,n,l;return{c(){e=V("div"),t=F("+ Add Component"),this.h()},l(r){e=C(r,"DIV",{class:!0});var o=S(e);t=J(o,"+ Add Component"),o.forEach(_),this.h()},h(){H(e,"class","chip svelte-crwhqu")},m(r,o){$(r,e,o),I(e,t),n||(l=X(e,"click",ue(i[23])),n=!0)},p:Ce,d(r){r&&_(e),n=!1,l()}}}function je(i){let e,t=i[0].description+"",n;return{c(){e=V("div"),n=F(t),this.h()},l(l){e=C(l,"DIV",{class:!0});var r=S(e);n=J(r,t),r.forEach(_),this.h()},h(){H(e,"class","modal-desc svelte-crwhqu")},m(l,r){$(l,e,r),I(e,n)},p(l,r){r[0]&1&&t!==(t=l[0].description+"")&&re(n,t)},d(l){l&&_(e)}}}function $t(i){let e,t,n;function l(o){i[29](o)}let r={label:"Icon Key",tooltip:'The key used by the component in the Icon Lore. If this is set to "example" and has a value name of "value", it can be referenced using the string "{attr:example.value}"'};return i[0].iconKey!==void 0&&(r.value=i[0].iconKey),e=new ve({props:r}),ee.push(()=>te(e,"value",l)),{c(){Y(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,u){Z(e,o,u),n=!0},p(o,u){const a={};!t&&u[0]&1&&(t=!0,a.value=o[0].iconKey,ie(()=>t=!1)),e.$set(a)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function wt(i){let e,t,n,l;return e=new ve({props:{label:"Mana",tooltip:"Whether this trigger requires the mana cost to activate",$$slots:{default:[Et]},$$scope:{ctx:i}}}),n=new ve({props:{label:"Cooldown",tooltip:"Whether this trigger requires to be off cooldown to activate",$$slots:{default:[It]},$$scope:{ctx:i}}}),{c(){Y(e.$$.fragment),t=A(),Y(n.$$.fragment)},l(r){x(e.$$.fragment,r),t=y(r),x(n.$$.fragment,r)},m(r,o){Z(e,r,o),$(r,t,o),Z(n,r,o),l=!0},p(r,o){const u={};o[0]&1|o[1]&67108864&&(u.$$scope={dirty:o,ctx:r}),e.$set(u);const a={};o[0]&1|o[1]&67108864&&(a.$$scope={dirty:o,ctx:r}),n.$set(a)},i(r){l||(W(e.$$.fragment,r),W(n.$$.fragment,r),l=!0)},o(r){B(e.$$.fragment,r),B(n.$$.fragment,r),l=!1},d(r){G(e,r),r&&_(t),G(n,r)}}}function Et(i){let e,t,n;function l(o){i[27](o)}let r={};return i[0].mana!==void 0&&(r.data=i[0].mana),e=new rt({props:r}),ee.push(()=>te(e,"data",l)),{c(){Y(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,u){Z(e,o,u),n=!0},p(o,u){const a={};!t&&u[0]&1&&(t=!0,a.data=o[0].mana,ie(()=>t=!1)),e.$set(a)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function It(i){let e,t,n;function l(o){i[28](o)}let r={};return i[0].cooldown!==void 0&&(r.data=i[0].cooldown),e=new rt({props:r}),ee.push(()=>te(e,"data",l)),{c(){Y(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,u){Z(e,o,u),n=!0},p(o,u){const a={};!t&&u[0]&1&&(t=!0,a.data=o[0].cooldown,ie(()=>t=!1)),e.$set(a)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function We(i){let e,t,n,l;function r(a){i[30](a,i[51])}var o=i[51].component;function u(a){let f={name:a[51].name,tooltip:a[51].tooltip,multiple:a[51].multiple};return a[51].data!==void 0&&(f.data=a[51].data),{props:f}}return o&&(e=Pe(o,u(i)),ee.push(()=>te(e,"data",r)),e.$on("save",i[31])),{c(){e&&Y(e.$$.fragment),n=ke()},l(a){e&&x(e.$$.fragment,a),n=ke()},m(a,f){e&&Z(e,a,f),$(a,n,f),l=!0},p(a,f){i=a;const s={};if(f[0]&1&&(s.name=i[51].name),f[0]&1&&(s.tooltip=i[51].tooltip),f[0]&1&&(s.multiple=i[51].multiple),!t&&f[0]&1&&(t=!0,s.data=i[51].data,ie(()=>t=!1)),f[0]&1&&o!==(o=i[51].component)){if(e){ae();const h=e;B(h.$$.fragment,1,0,()=>{G(h,1)}),fe()}o?(e=Pe(o,u(i)),ee.push(()=>te(e,"data",r)),e.$on("save",i[31]),Y(e.$$.fragment),W(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}else o&&e.$set(s)},i(a){l||(e&&W(e.$$.fragment,a),l=!0)},o(a){e&&B(e.$$.fragment,a),l=!1},d(a){a&&_(n),e&&G(e,a)}}}function ze(i){let e=i[51].meetsRequirements(i[0]),t,n,l=e&&We(i);return{c(){l&&l.c(),t=ke()},l(r){l&&l.l(r),t=ke()},m(r,o){l&&l.m(r,o),$(r,t,o),n=!0},p(r,o){o[0]&1&&(e=r[51].meetsRequirements(r[0])),e?l?(l.p(r,o),o[0]&1&&W(l,1)):(l=We(r),l.c(),W(l,1),l.m(t.parentNode,t)):l&&(ae(),B(l,1,1,()=>{l=null}),fe())},i(r){n||(W(l),n=!0)},o(r){B(l),n=!1},d(r){l&&l.d(r),r&&_(t)}}}function Dt(i){let e,t=i[0].name+"",n,l,r,o,u,a,f,s,h,d,k=i[0].description&&je(i);const N=[wt,$t],T=[];function R(v,g){return v[0]instanceof Ee&&v[0].name!="Cast"&&v[0].name!="Initialize"&&v[0].name!="Cleanup"?0:v[0]instanceof Ve||v[0]instanceof De?1:-1}~(f=R(i))&&(s=T[f]=N[f](i));let M=i[0].data,b=[];for(let v=0;v<M.length;v+=1)b[v]=ze(Re(i,M,v));const K=v=>B(b[v],1,1,()=>{b[v]=null});return{c(){e=V("h2"),n=F(t),l=A(),k&&k.c(),r=A(),o=V("hr"),u=A(),a=V("div"),s&&s.c(),h=A();for(let v=0;v<b.length;v+=1)b[v].c();this.h()},l(v){e=C(v,"H2",{});var g=S(e);n=J(g,t),g.forEach(_),l=y(v),k&&k.l(v),r=y(v),o=C(v,"HR",{}),u=y(v),a=C(v,"DIV",{class:!0});var D=S(a);s&&s.l(D),h=y(D);for(let w=0;w<b.length;w+=1)b[w].l(D);D.forEach(_),this.h()},h(){H(a,"class","component-entry svelte-crwhqu")},m(v,g){$(v,e,g),I(e,n),$(v,l,g),k&&k.m(v,g),$(v,r,g),$(v,o,g),$(v,u,g),$(v,a,g),~f&&T[f].m(a,null),I(a,h);for(let D=0;D<b.length;D+=1)b[D]&&b[D].m(a,null);d=!0},p(v,g){(!d||g[0]&1)&&t!==(t=v[0].name+"")&&re(n,t),v[0].description?k?k.p(v,g):(k=je(v),k.c(),k.m(r.parentNode,r)):k&&(k.d(1),k=null);let D=f;if(f=R(v),f===D?~f&&T[f].p(v,g):(s&&(ae(),B(T[D],1,1,()=>{T[D]=null}),fe()),~f?(s=T[f],s?s.p(v,g):(s=T[f]=N[f](v),s.c()),W(s,1),s.m(a,h)):s=null),g[0]&1){M=v[0].data;let w;for(w=0;w<M.length;w+=1){const O=Re(v,M,w);b[w]?(b[w].p(O,g),W(b[w],1)):(b[w]=ze(O),b[w].c(),W(b[w],1),b[w].m(a,null))}for(ae(),w=M.length;w<b.length;w+=1)K(w);fe()}},i(v){if(!d){W(s);for(let g=0;g<M.length;g+=1)W(b[g]);d=!0}},o(v){B(s),b=b.filter(Boolean);for(let g=0;g<b.length;g+=1)B(b[g]);d=!1},d(v){v&&_(e),v&&_(l),k&&k.d(v),v&&_(r),v&&_(o),v&&_(u),v&&_(a),~f&&T[f].d(),de(b,v)}}}function Be(i){let e,t,n,l,r,o,u,a=i[7],f=[];for(let s=0;s<a.length;s+=1)f[s]=Fe(ye(i,a,s));return{c(){e=V("hr"),t=A(),n=V("div"),l=V("h3"),r=F("Conditions"),o=A(),u=V("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){e=C(s,"HR",{}),t=y(s),n=C(s,"DIV",{class:!0});var h=S(n);l=C(h,"H3",{class:!0});var d=S(l);r=J(d,"Conditions"),d.forEach(_),h.forEach(_),o=y(s),u=C(s,"DIV",{class:!0});var k=S(u);for(let N=0;N<f.length;N+=1)f[N].l(k);k.forEach(_),this.h()},h(){H(l,"class","svelte-crwhqu"),H(n,"class","comp-modal-header svelte-crwhqu"),H(u,"class","triggers")},m(s,h){$(s,e,h),$(s,t,h),$(s,n,h),I(n,l),I(l,r),$(s,o,h),$(s,u,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(u,null)},p(s,h){if(h[0]&2176){a=s[7];let d;for(d=0;d<a.length;d+=1){const k=ye(s,a,d);f[d]?f[d].p(k,h):(f[d]=Fe(k),f[d].c(),f[d].m(u,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=a.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(o),s&&_(u),de(f,s)}}}function Fe(i){let e,t=i[48].name+"",n,l,r;function o(){return i[34](i[48])}return{c(){e=V("div"),n=F(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var a=S(e);n=J(a,t),a.forEach(_),this.h()},h(){H(e,"class","comp-select")},m(u,a){$(u,e,a),I(e,n),l||(r=X(e,"click",o),l=!0)},p(u,a){i=u,a[0]&128&&t!==(t=i[48].name+"")&&re(n,t)},d(u){u&&_(e),l=!1,r()}}}function Je(i){let e,t,n,l,r,o,u,a=i[6],f=[];for(let s=0;s<a.length;s+=1)f[s]=Qe(Ae(i,a,s));return{c(){e=V("hr"),t=A(),n=V("div"),l=V("h3"),r=F("Targets"),o=A(),u=V("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){e=C(s,"HR",{}),t=y(s),n=C(s,"DIV",{class:!0});var h=S(n);l=C(h,"H3",{class:!0});var d=S(l);r=J(d,"Targets"),d.forEach(_),h.forEach(_),o=y(s),u=C(s,"DIV",{class:!0});var k=S(u);for(let N=0;N<f.length;N+=1)f[N].l(k);k.forEach(_),this.h()},h(){H(l,"class","svelte-crwhqu"),H(n,"class","comp-modal-header svelte-crwhqu"),H(u,"class","triggers")},m(s,h){$(s,e,h),$(s,t,h),$(s,n,h),I(n,l),I(l,r),$(s,o,h),$(s,u,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(u,null)},p(s,h){if(h[0]&2112){a=s[6];let d;for(d=0;d<a.length;d+=1){const k=Ae(s,a,d);f[d]?f[d].p(k,h):(f[d]=Qe(k),f[d].c(),f[d].m(u,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=a.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(o),s&&_(u),de(f,s)}}}function Qe(i){let e,t=i[45].name+"",n,l,r;function o(){return i[35](i[45])}return{c(){e=V("div"),n=F(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var a=S(e);n=J(a,t),a.forEach(_),this.h()},h(){H(e,"class","comp-select")},m(u,a){$(u,e,a),I(e,n),l||(r=X(e,"click",o),l=!0)},p(u,a){i=u,a[0]&64&&t!==(t=i[45].name+"")&&re(n,t)},d(u){u&&_(e),l=!1,r()}}}function Ue(i){let e,t,n,l,r,o,u,a=i[8],f=[];for(let s=0;s<a.length;s+=1)f[s]=Xe(Te(i,a,s));return{c(){e=V("hr"),t=A(),n=V("div"),l=V("h3"),r=F("Mechanics"),o=A(),u=V("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){e=C(s,"HR",{}),t=y(s),n=C(s,"DIV",{class:!0});var h=S(n);l=C(h,"H3",{class:!0});var d=S(l);r=J(d,"Mechanics"),d.forEach(_),h.forEach(_),o=y(s),u=C(s,"DIV",{class:!0});var k=S(u);for(let N=0;N<f.length;N+=1)f[N].l(k);k.forEach(_),this.h()},h(){H(l,"class","svelte-crwhqu"),H(n,"class","comp-modal-header svelte-crwhqu"),H(u,"class","triggers")},m(s,h){$(s,e,h),$(s,t,h),$(s,n,h),I(n,l),I(l,r),$(s,o,h),$(s,u,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(u,null)},p(s,h){if(h[0]&2304){a=s[8];let d;for(d=0;d<a.length;d+=1){const k=Te(s,a,d);f[d]?f[d].p(k,h):(f[d]=Xe(k),f[d].c(),f[d].m(u,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=a.length}},d(s){s&&_(e),s&&_(t),s&&_(n),s&&_(o),s&&_(u),de(f,s)}}}function Xe(i){let e,t=i[42].name+"",n,l,r;function o(){return i[36](i[42])}return{c(){e=V("div"),n=F(t),this.h()},l(u){e=C(u,"DIV",{class:!0});var a=S(e);n=J(a,t),a.forEach(_),this.h()},h(){H(e,"class","comp-select")},m(u,a){$(u,e,a),I(e,n),l||(r=X(e,"click",o),l=!0)},p(u,a){i=u,a[0]&256&&t!==(t=i[42].name+"")&&re(n,t)},d(u){u&&_(e),l=!1,r()}}}function Vt(i){let e,t,n,l,r,o,u,a,f,s,h,d,k,N,T,R,M,b,K,v;function g(c){i[33](c)}let D={placeholder:"Search..."};i[3]!==void 0&&(D.value=i[3]),a=new ve({props:D}),ee.push(()=>te(a,"value",g));let w=i[7].length>0&&Be(i),O=i[6].length>0&&Je(i),P=i[8].length>0&&Ue(i);return{c(){e=V("div"),t=V("div"),n=A(),l=V("h2"),r=F("Add a Component"),o=A(),u=V("div"),Y(a.$$.fragment),s=A(),w&&w.c(),h=A(),O&&O.c(),d=A(),P&&P.c(),k=A(),N=V("hr"),T=A(),R=V("div"),M=F("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var m=S(e);t=C(m,"DIV",{}),S(t).forEach(_),n=y(m),l=C(m,"H2",{});var Q=S(l);r=J(Q,"Add a Component"),Q.forEach(_),o=y(m),u=C(m,"DIV",{class:!0});var L=S(u);x(a.$$.fragment,L),L.forEach(_),m.forEach(_),s=y(c),w&&w.l(c),h=y(c),O&&O.l(c),d=y(c),P&&P.l(c),k=y(c),N=C(c,"HR",{}),T=y(c),R=C(c,"DIV",{class:!0});var U=S(R);M=J(U,"Cancel"),U.forEach(_),this.h()},h(){H(u,"class","search-bar"),H(e,"class","modal-header-wrapper"),H(R,"class","cancel")},m(c,m){$(c,e,m),I(e,t),I(e,n),I(e,l),I(l,r),I(e,o),I(e,u),Z(a,u,null),$(c,s,m),w&&w.m(c,m),$(c,h,m),O&&O.m(c,m),$(c,d,m),P&&P.m(c,m),$(c,k,m),$(c,N,m),$(c,T,m),$(c,R,m),I(R,M),b=!0,K||(v=X(R,"click",i[37]),K=!0)},p(c,m){const Q={};!f&&m[0]&8&&(f=!0,Q.value=c[3],ie(()=>f=!1)),a.$set(Q),c[7].length>0?w?w.p(c,m):(w=Be(c),w.c(),w.m(h.parentNode,h)):w&&(w.d(1),w=null),c[6].length>0?O?O.p(c,m):(O=Je(c),O.c(),O.m(d.parentNode,d)):O&&(O.d(1),O=null),c[8].length>0?P?P.p(c,m):(P=Ue(c),P.c(),P.m(k.parentNode,k)):P&&(P.d(1),P=null)},i(c){b||(W(a.$$.fragment,c),b=!0)},o(c){B(a.$$.fragment,c),b=!1},d(c){c&&_(e),G(a),c&&_(s),w&&w.d(c),c&&_(h),O&&O.d(c),c&&_(d),P&&P.d(c),c&&_(k),c&&_(N),c&&_(T),c&&_(R),K=!1,v()}}}function Ct(i){let e,t,n,l,r,o,u,a=i[10]()+"",f,s,h=i[0].name+"",d,k,N,T,R,M,b,K,v,g,D,w;function O(p,q){return p[5]?kt:bt}let P=O(i),c=P(i),m=!i[5]&&Le(i);function Q(p){i[32](p)}let L={width:"70%",$$slots:{default:[Dt]},$$scope:{ctx:i}};i[2]!==void 0&&(L.open=i[2]),R=new Ie({props:L}),ee.push(()=>te(R,"open",Q));function U(p){i[38](p)}let le={width:"70%",$$slots:{default:[Vt]},$$scope:{ctx:i}};return i[4]!==void 0&&(le.open=i[4]),K=new Ie({props:le}),ee.push(()=>te(K,"open",U)),{c(){e=V("div"),t=V("div"),c.c(),n=A(),l=V("div"),r=A(),o=V("div"),u=V("span"),f=F(a),s=F(": "),d=F(h),k=A(),m&&m.c(),T=A(),Y(R.$$.fragment),b=A(),Y(K.$$.fragment),this.h()},l(p){e=C(p,"DIV",{class:!0});var q=S(e);t=C(q,"DIV",{draggable:!0,class:!0});var z=S(t);c.l(z),n=y(z),l=C(z,"DIV",{class:!0}),S(l).forEach(_),r=y(z),o=C(z,"DIV",{class:!0});var j=S(o);u=C(j,"SPAN",{class:!0});var ne=S(u);f=J(ne,a),ne.forEach(_),s=J(j,": "),d=J(j,h),j.forEach(_),k=y(z),m&&m.l(z),z.forEach(_),q.forEach(_),T=y(p),x(R.$$.fragment,p),b=y(p),x(K.$$.fragment,p),this.h()},h(){H(l,"class","corner svelte-crwhqu"),H(u,"class","svelte-crwhqu"),H(o,"class","name svelte-crwhqu"),H(t,"draggable","true"),H(t,"class","comp-body svelte-crwhqu"),ct(t,"--comp-color",i[12]()),H(e,"class","wrapper svelte-crwhqu")},m(p,q){$(p,e,q),I(e,t),c.m(t,null),I(t,n),I(t,l),I(t,r),I(t,o),I(o,u),I(u,f),I(o,s),I(o,d),I(t,k),m&&m.m(t,null),$(p,T,q),Z(R,p,q),$(p,b,q),Z(K,p,q),g=!0,D||(w=[X(l,"click",ue(i[17])),X(t,"dragstart",ue(i[24])),X(t,"dragend",i[25]),X(t,"click",ue(i[26]))],D=!0)},p(p,q){P!==(P=O(p))&&(c.d(1),c=P(p),c&&(c.c(),W(c,1),c.m(t,n))),(!g||q[0]&1)&&h!==(h=p[0].name+"")&&re(d,h),p[5]?m&&(ae(),B(m,1,1,()=>{m=null}),fe()):m?(m.p(p,q),q[0]&32&&W(m,1)):(m=Le(p),m.c(),W(m,1),m.m(t,null));const z={};q[0]&1|q[1]&67108864&&(z.$$scope={dirty:q,ctx:p}),!M&&q[0]&4&&(M=!0,z.open=p[2],ie(()=>M=!1)),R.$set(z);const j={};q[0]&472|q[1]&67108864&&(j.$$scope={dirty:q,ctx:p}),!v&&q[0]&16&&(v=!0,j.open=p[4],ie(()=>v=!1)),K.$set(j)},i(p){g||(W(c),W(m),N&&N.end(1),W(R.$$.fragment,p),W(K.$$.fragment,p),g=!0)},o(p){B(m),N=ut(t,se,{}),B(R.$$.fragment,p),B(K.$$.fragment,p),g=!1},d(p){p&&_(e),c.d(),m&&m.d(),p&&N&&N.end(),p&&_(T),G(R,p),p&&_(b),G(K,p),D=!1,it(w)}}}function qt(i,e,t){let{skill:n}=e,{component:l}=e;const r=_t();let o=!1,u=!1,a=!1,f="",s={},h={},d={},k,N,T;st(()=>{me.targets.subscribe(E=>t(14,s=E)),me.conditions.subscribe(E=>t(15,h=E)),me.mechanics.subscribe(E=>t(16,d=E))});const R=()=>l instanceof Ee?"Trigger":l instanceof De?"Condition":l instanceof Ve?"Target":l instanceof Se?"Mechanic":"???",M=E=>{t(0,l.components=[...l.components,E],l),t(4,u=!1),t(3,f=""),r("save")},b=()=>l instanceof Ee?"#0083ef":l instanceof De?"#feac00":l instanceof Ve?"#04af38":l instanceof Se?"#ff3a3a":"orange",K=(E,{duration:he})=>({duration:he,css:$e=>`transform: rotate(${180-gt($e)*180}deg);`}),v=()=>t(5,a=!a),g=()=>console.log("clicked copy"),D=()=>{n.removeComponent(l),r("update")};function w(E,he,$e,qe){$e[qe]=E,t(0,l)}function O(E){we.call(this,i,E)}function P(E){we.call(this,i,E)}const c=()=>t(4,u=!0),m=()=>He.set(l),Q=()=>He.set(void 0),L=()=>t(2,o=!0);function U(E){i.$$.not_equal(l.mana,E)&&(l.mana=E,t(0,l))}function le(E){i.$$.not_equal(l.cooldown,E)&&(l.cooldown=E,t(0,l))}function p(E){i.$$.not_equal(l.iconKey,E)&&(l.iconKey=E,t(0,l))}function q(E,he){i.$$.not_equal(he.data,E)&&(he.data=E,t(0,l))}function z(E){we.call(this,i,E)}function j(E){o=E,t(2,o)}function ne(E){f=E,t(3,f)}const ge=E=>M(E),be=E=>M(E),ce=E=>M(E),pe=()=>t(4,u=!1);function ft(E){u=E,t(4,u)}return i.$$set=E=>{"skill"in E&&t(1,n=E.skill),"component"in E&&t(0,l=E.component)},i.$$.update=()=>{i.$$.dirty[0]&114696&&(t(6,k=Object.keys(s).filter(E=>E.toLowerCase().includes(f.toLowerCase())).sort().map(E=>s[E].component.new())),t(7,N=Object.keys(h).filter(E=>E.toLowerCase().includes(f.toLowerCase())).sort().map(E=>h[E].component.new())),t(8,T=Object.keys(d).filter(E=>E.toLowerCase().includes(f.toLowerCase())).sort().map(E=>d[E].component.new()))),i.$$.dirty[0]&1&&l&&r("save"),i.$$.dirty[0]&5&&o&&l&&l.data.filter(E=>E.dataSource).forEach(E=>E.init())},[l,n,o,f,u,a,k,N,T,r,R,M,b,K,s,h,d,v,g,D,w,O,P,c,m,Q,L,U,le,p,q,z,j,ne,ge,be,ce,pe,ft]}class at extends tt{constructor(e){super(),lt(this,e,qt,Ct,nt,{skill:1,component:0},null,[-1,-1])}}function Ye(i,e,t){const n=i.slice();return n[17]=e[t],n}function Ze(i,e,t){const n=i.slice();return n[20]=e[t],n}function Ge(i){let e,t,n;return t=new at({props:{skill:i[1],component:i[20]}}),t.$on("update",i[5]),t.$on("save",i[6]),{c(){e=V("div"),Y(t.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0});var r=S(e);x(t.$$.fragment,r),r.forEach(_),this.h()},h(){H(e,"class","widget svelte-4lo1mc")},m(l,r){$(l,e,r),Z(t,e,null),n=!0},p(l,r){const o={};r&2&&(o.skill=l[1]),r&2&&(o.component=l[20]),t.$set(o)},i(l){n||(W(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){l&&_(e),G(t)}}}function xe(i){let e,t;return{c(){e=V("div"),t=F("No triggers added yet.")},l(n){e=C(n,"DIV",{});var l=S(e);t=J(l,"No triggers added yet."),l.forEach(_)},m(n,l){$(n,e,l),I(e,t)},d(n){n&&_(e)}}}function et(i){let e,t=i[17].name+"",n,l,r,o;function u(){return i[11](i[17])}return{c(){e=V("div"),n=F(t),l=A(),this.h()},l(a){e=C(a,"DIV",{class:!0});var f=S(e);n=J(f,t),l=y(f),f.forEach(_),this.h()},h(){H(e,"class","comp-select")},m(a,f){$(a,e,f),I(e,n),I(e,l),r||(o=X(e,"click",u),r=!0)},p(a,f){i=a,f&8&&t!==(t=i[17].name+"")&&re(n,t)},d(a){a&&_(e),r=!1,o()}}}function Pt(i){let e,t,n,l,r,o,u,a,f,s,h,d,k,N,T,R,M,b,K,v,g;function D(c){i[10](c)}let w={placeholder:"Search..."};i[0]!==void 0&&(w.value=i[0]),a=new ve({props:w}),ee.push(()=>te(a,"value",D));let O=i[3],P=[];for(let c=0;c<O.length;c+=1)P[c]=et(Ye(i,O,c));return{c(){e=V("div"),t=V("div"),n=A(),l=V("h2"),r=F("Select New Trigger"),o=A(),u=V("div"),Y(a.$$.fragment),s=A(),h=V("hr"),d=A(),k=V("div");for(let c=0;c<P.length;c+=1)P[c].c();N=A(),T=V("hr"),R=A(),M=V("div"),b=F("Cancel"),this.h()},l(c){e=C(c,"DIV",{class:!0});var m=S(e);t=C(m,"DIV",{}),S(t).forEach(_),n=y(m),l=C(m,"H2",{class:!0});var Q=S(l);r=J(Q,"Select New Trigger"),Q.forEach(_),o=y(m),u=C(m,"DIV",{class:!0});var L=S(u);x(a.$$.fragment,L),L.forEach(_),m.forEach(_),s=y(c),h=C(c,"HR",{}),d=y(c),k=C(c,"DIV",{class:!0});var U=S(k);for(let p=0;p<P.length;p+=1)P[p].l(U);U.forEach(_),N=y(c),T=C(c,"HR",{}),R=y(c),M=C(c,"DIV",{class:!0});var le=S(M);b=J(le,"Cancel"),le.forEach(_),this.h()},h(){H(l,"class","modal-header svelte-4lo1mc"),H(u,"class","search-bar"),H(e,"class","modal-header-wrapper"),H(k,"class","triggers"),H(M,"class","cancel")},m(c,m){$(c,e,m),I(e,t),I(e,n),I(e,l),I(l,r),I(e,o),I(e,u),Z(a,u,null),$(c,s,m),$(c,h,m),$(c,d,m),$(c,k,m);for(let Q=0;Q<P.length;Q+=1)P[Q]&&P[Q].m(k,null);$(c,N,m),$(c,T,m),$(c,R,m),$(c,M,m),I(M,b),K=!0,v||(g=X(M,"click",i[12]),v=!0)},p(c,m){const Q={};if(!f&&m&1&&(f=!0,Q.value=c[0],ie(()=>f=!1)),a.$set(Q),m&24){O=c[3];let L;for(L=0;L<O.length;L+=1){const U=Ye(c,O,L);P[L]?P[L].p(U,m):(P[L]=et(U),P[L].c(),P[L].m(k,null))}for(;L<P.length;L+=1)P[L].d(1);P.length=O.length}},i(c){K||(W(a.$$.fragment,c),K=!0)},o(c){B(a.$$.fragment,c),K=!1},d(c){c&&_(e),G(a),c&&_(s),c&&_(h),c&&_(d),c&&_(k),de(P,c),c&&_(N),c&&_(T),c&&_(R),c&&_(M),v=!1,g()}}}function Ht(i){let e,t,n,l,r=i[1].name+"",o,u,a,f,s,h,d,k,N,T,R,M,b,K,v,g,D,w,O,P;document.title=e="ProSkillAPI Dynamic Editor - "+i[1].name;let c=i[1].triggers,m=[];for(let p=0;p<c.length;p+=1)m[p]=Ge(Ze(i,c,p));const Q=p=>B(m[p],1,1,()=>{m[p]=null});let L=i[1].triggers.length==0&&xe();function U(p){i[13](p)}let le={$$slots:{default:[Pt]},$$scope:{ctx:i}};return i[2]!==void 0&&(le.open=i[2]),g=new Ie({props:le}),ee.push(()=>te(g,"open",U)),{c(){t=A(),n=V("div"),l=V("h2"),o=F(r),u=A(),a=V("a"),f=F("edit"),h=A(),d=V("div"),k=V("span"),N=F("new_label"),T=A(),R=V("hr"),M=A(),b=V("div");for(let p=0;p<m.length;p+=1)m[p].c();K=A(),L&&L.c(),v=A(),Y(g.$$.fragment),this.h()},l(p){ht("svelte-r5m1v8",document.head).forEach(_),t=y(p),n=C(p,"DIV",{class:!0});var z=S(n);l=C(z,"H2",{class:!0});var j=S(l);o=J(j,r),u=y(j),a=C(j,"A",{class:!0,title:!0,href:!0});var ne=S(a);f=J(ne,"edit"),ne.forEach(_),h=y(j),d=C(j,"DIV",{class:!0,title:!0});var ge=S(d);k=C(ge,"SPAN",{class:!0});var be=S(k);N=J(be,"new_label"),be.forEach(_),ge.forEach(_),j.forEach(_),z.forEach(_),T=y(p),R=C(p,"HR",{}),M=y(p),b=C(p,"DIV",{class:!0});var ce=S(b);for(let pe=0;pe<m.length;pe+=1)m[pe].l(ce);K=y(ce),L&&L.l(ce),ce.forEach(_),v=y(p),x(g.$$.fragment,p),this.h()},h(){H(a,"class","material-symbols-rounded edit-skill chip svelte-4lo1mc"),H(a,"title","Edit"),H(a,"href",s="/skill/"+i[1].name+"/edit"),H(k,"class","material-symbols-rounded"),H(d,"class","add-trigger chip svelte-4lo1mc"),H(d,"title","Add Trigger"),H(l,"class","svelte-4lo1mc"),H(n,"class","header svelte-4lo1mc"),H(b,"class","container svelte-4lo1mc")},m(p,q){$(p,t,q),$(p,n,q),I(n,l),I(l,o),I(l,u),I(l,a),I(a,f),I(l,h),I(l,d),I(d,k),I(k,N),$(p,T,q),$(p,R,q),$(p,M,q),$(p,b,q);for(let z=0;z<m.length;z+=1)m[z]&&m[z].m(b,null);I(b,K),L&&L.m(b,null),$(p,v,q),Z(g,p,q),w=!0,O||(P=X(d,"click",i[9]),O=!0)},p(p,[q]){if((!w||q&2)&&e!==(e="ProSkillAPI Dynamic Editor - "+p[1].name)&&(document.title=e),(!w||q&2)&&r!==(r=p[1].name+"")&&re(o,r),(!w||q&2&&s!==(s="/skill/"+p[1].name+"/edit"))&&H(a,"href",s),q&98){c=p[1].triggers;let j;for(j=0;j<c.length;j+=1){const ne=Ze(p,c,j);m[j]?(m[j].p(ne,q),W(m[j],1)):(m[j]=Ge(ne),m[j].c(),W(m[j],1),m[j].m(b,K))}for(ae(),j=c.length;j<m.length;j+=1)Q(j);fe()}p[1].triggers.length==0?L||(L=xe(),L.c(),L.m(b,null)):L&&(L.d(1),L=null);const z={};q&8388621&&(z.$$scope={dirty:q,ctx:p}),!D&&q&4&&(D=!0,z.open=p[2],ie(()=>D=!1)),g.$set(z)},i(p){if(!w){for(let q=0;q<c.length;q+=1)W(m[q]);W(g.$$.fragment,p),w=!0}},o(p){m=m.filter(Boolean);for(let q=0;q<m.length;q+=1)B(m[q]);B(g.$$.fragment,p),w=!1},d(p){p&&_(t),p&&_(n),p&&_(T),p&&_(R),p&&_(M),p&&_(b),de(m,p),L&&L.d(),p&&_(v),G(g,p),O=!1,P()}}}function Nt(i,e,t){let{data:n}=e,l,r=!1,o="",u,a,f={};st(()=>{a=me.triggers.subscribe(K=>t(8,f=K));let b;b=me.initialized.subscribe(K=>{K&&(b&&b(),h())})}),mt(()=>{a&&a()});const s=b=>{l.triggers.push(b.detail),h(),setTimeout(()=>t(2,r=!1))},h=()=>{t(1,l.triggers=[...l.triggers],l),d()},d=()=>Ne.set([...vt(Ne)]),k=()=>t(2,r=!0);function N(b){o=b,t(0,o)}const T=b=>s({detail:b.clone()}),R=()=>t(2,r=!1);function M(b){r=b,t(2,r)}return i.$$set=b=>{"data"in b&&t(7,n=b.data)},i.$$.update=()=>{i.$$.dirty&128&&n&&t(1,l=n.data),i.$$.dirty&257&&t(3,u=Object.keys(f).filter(b=>b.toLowerCase().includes(o.toLowerCase())).sort().map(b=>f[b].component.new()))},[o,l,r,u,s,h,d,n,f,k,N,T,R,M]}class Rt extends tt{constructor(e){super(),lt(this,e,Nt,Ht,nt,{data:7})}}export{Rt as default};
