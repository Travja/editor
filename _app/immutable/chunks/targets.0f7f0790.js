var S=Object.defineProperty;var q=(o,e,t)=>e in o?S(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var h=(o,e,t)=>(q(o,typeof e!="symbol"?e+"":e,t),t);import{S as A,i as F,s as G,e as K,b as R,E as _,g as m,v as J,d as v,f as Z,h as g,a8 as B,G as H,k as z,l as Y,m as M,n as b,p as C,C as Q,_ as U,J as I,L as W,M as X,N as T,P,Z as p,F as x,V as $,K as tt}from"./index.3926e6cc.js";import{c as et,f as V,a as L}from"./ProInput.a5acf289.js";import{I as D,R as w,Y as E}from"./store.f667a01e.js";function N(o){let e,t,a,n,s,l,d;const u=o[5].default,c=H(u,o,o[4],null);return{c(){e=z("div"),t=z("div"),c&&c.c(),this.h()},l(r){e=Y(r,"DIV",{class:!0,draggable:!0});var i=M(e);t=Y(i,"DIV",{class:!0});var f=M(t);c&&c.l(f),f.forEach(g),i.forEach(g),this.h()},h(){b(t,"class","modal-content svelte-po3u1h"),C(t,"--width",o[1]),b(e,"class","backdrop svelte-po3u1h"),b(e,"draggable","true")},m(r,i){R(r,e,i),Q(e,t),c&&c.m(t,null),s=!0,l||(d=[U(et.call(null,t)),_(t,"outclick",o[2]),_(t,"click",I(o[6])),_(e,"dragstart",I(tt(!1)))],l=!0)},p(r,i){c&&c.p&&(!s||i&16)&&W(c,u,r,r[4],s?T(u,r[4],i,null):X(r[4]),null),i&2&&C(t,"--width",r[1])},i(r){s||(m(c,r),P(()=>{s&&(a||(a=p(t,V,{y:-200},!0)),a.run(1))}),P(()=>{s&&(n||(n=p(e,L,{},!0)),n.run(1))}),s=!0)},o(r){v(c,r),a||(a=p(t,V,{y:-200},!1)),a.run(0),n||(n=p(e,L,{},!1)),n.run(0),s=!1},d(r){r&&g(e),c&&c.d(r),r&&a&&a.end(),r&&n&&n.end(),l=!1,x(d)}}}function at(o){let e,t,a,n,s=o[0]&&N(o);return{c(){s&&s.c(),e=K()},l(l){s&&s.l(l),e=K()},m(l,d){s&&s.m(l,d),R(l,e,d),t=!0,a||(n=_(window,"keyup",o[3]),a=!0)},p(l,[d]){l[0]?s?(s.p(l,d),d&1&&m(s,1)):(s=N(l),s.c(),m(s,1),s.m(e.parentNode,e)):s&&(J(),v(s,1,1,()=>{s=null}),Z())},i(l){t||(m(s),t=!0)},o(l){v(s),t=!1},d(l){s&&s.d(l),l&&g(e),a=!1,n()}}}function st(o,e,t){let{$$slots:a={},$$scope:n}=e,{width:s="auto"}=e,{open:l=!1}=e;const d=B(),u=i=>{var f;t(0,l=!1),d("close"),(f=i==null?void 0:i.detail)==null||f.stopPropagation()},c=i=>{i.key=="Escape"&&(i.preventDefault(),i.stopPropagation(),u())};function r(i){$.call(this,o,i)}return o.$$set=i=>{"width"in i&&t(1,s=i.width),"open"in i&&t(0,l=i.open),"$$scope"in i&&t(4,n=i.$$scope)},[l,s,u,c,n,a,r]}class rt extends A{constructor(e){super(),F(this,e,st,at,G,{width:1,open:0})}}class ct extends D{constructor(e){super("mechanic",e),super.isParent=!1}toYamlObj(){const e=super.toYamlObj(),t=this.getData();return t.getKeys().length>0&&e.put("data",t),this.components.length>0&&e.put("children",this.components),e}getData(){const e=new E("data");return this.data.forEach(t=>{const a=t.getData();Object.keys(a).forEach(n=>e.put(n,a[n]))}),e}deserialize(e){const t=e.get("data");t&&this.data.forEach(a=>a.deserialize(t)),this.components=e.get("children",[],a=>w.deserializeComponents(a))}}const O=class extends D{constructor(t){super("condition",t);h(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),a=this.getData();return a.getKeys().length>0&&t.put("data",a),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new E("data");return t.put("icon-key",this.iconKey),this.data.forEach(a=>{const n=a.getData();Object.keys(n).forEach(s=>t.put(s,n[s]))}),t}deserialize(t){const a=t.get("data");this.iconKey=a.get("icon-key"),a&&this.data.forEach(n=>n.deserialize(a)),this.components=t.get("children",[],n=>w.deserializeComponents(n))}};let y=O;h(y,"new",()=>new O({name:"null"}));const j=class extends D{constructor(t){super("target",t);h(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),a=this.getData();return a.getKeys().length>0&&t.put("data",a),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new E("data");return t.put("icon-key",this.iconKey),this.data.forEach(a=>{const n=a.getData();Object.keys(n).forEach(s=>t.put(s,n[s]))}),t}deserialize(t){const a=t.get("data");this.iconKey=a.get("icon-key"),a&&this.data.forEach(n=>n.deserialize(a)),this.components=t.get("children",[],n=>w.deserializeComponents(n))}};let k=j;h(k,"new",()=>new j({name:"null"}));export{rt as M,ct as P,k as a,y as b};
