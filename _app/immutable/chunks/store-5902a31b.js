var T=Object.defineProperty;var F=(i,e,s)=>e in i?T(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var t=(i,e,s)=>(F(i,typeof e!="symbol"?e+"":e,s),s);import{w as f}from"./index-0e38ea70.js";import{T as o}from"./index-2958cc62.js";const C={INT:/^-?[0-9]+$/,FLOAT:/^-?[0-9]+\.[0-9]+$/,SPACE:/^( +)/},k=i=>{const e=i.match(C.SPACE);return e?e[1].length:0};class a{constructor(e){t(this,"key");t(this,"data",{});t(this,"put",(e,s)=>{this.data[e]=s});t(this,"has",e=>this.data[e]!==void 0);t(this,"get",(e,s)=>this.has(e)?this.data[e]:s);t(this,"parse",(e,s,n)=>{for(;s<e.length&&k(e[s])>=n;){for(;s<e.length&&(k(e[s])!=n||e[s].replace(/ /g,"").charAt(0)=="#"||e[s].indexOf(":")==-1);)s++;if(s==e.length)return s;const c=e[s].substring(n,e[s].indexOf(":"));if(e[s].indexOf(": {}")==e[s].length-4&&e[s].length>=4)this.data[c]={};else if(s<e.length-1&&e[s+1].charAt(n)=="-"&&e[s+1].charAt(n+1)==" "&&k(e[s+1])==n){const r=[];for(;++s<e.length&&e[s].charAt(n)=="-";){let l=e[s].substring(n+2);(l.charAt(0)=="'"||l.charAt(0)=='"')&&(l=l.substring(1,l.length-1)),r.push(l)}this.data[c]=r,s--}else if(s<e.length-1&&k(e[s+1])>n){s++;const r=k(e[s]),l=new a;s=l.parse(e,s,r)-1,this.data[c]=l}else{let r=e[s].substring(e[s].indexOf(":")+2);r.charAt(0)=="'"?r=r.substring(1,r.length-1):isNaN(r)||(C.INT.test(r)?r=parseInt(r):r=parseFloat(r)),this.data[c]=r}do s++;while(s<e.length&&e[s].replace(/ /g,"").charAt(0)=="#")}return s});t(this,"toString",()=>this.toYaml(this.key||this.data.name?'"'+(this.key||this.data.name)+'"':void 0,this.data));t(this,"toYaml",(e,s,n="")=>{let c="";e&&(c+=n+e+`:
`,n+="  ");for(const r of Object.keys(s)){const l=s[r],I=JSON.stringify(l);let M=n+r+": "+I+`
`;if(l!=null){if(l instanceof Object)if(Object.keys(l).includes("toYaml"))if(l instanceof a){c+=l.toYaml("'"+r+"'",l.data,n);continue}else M=l.toYaml(n);else l instanceof Array&&(r!="attributes"?(M=n+r+":",l.length>0&&["string","number"].includes(typeof l[0])?(M+=`
`,l.forEach(L=>L+=n+"- "+JSON.stringify(L)+`
`)):l.length==0&&(M+=` []
`)):M=this.toYaml(r,l,n));c+=M.replaceAll(new RegExp("(?<!\\\\)'","g"),"\\'").replaceAll(new RegExp('(?<!\\\\)"',"g"),"'").replaceAll(/\\"/g,'"')}}return c});this.key=e}}class h{constructor(e,s,n){t(this,"name");t(this,"base");t(this,"scale");t(this,"toYaml",(e="")=>e+this.name.toLowerCase()+"-base: "+this.base+`
`+e+this.name.toLowerCase()+"-scale: "+this.scale+`
`);this.name=e,this.base=s,this.scale=n}}class v{constructor(e){t(this,"isClass",!0);t(this,"key",{});t(this,"name");t(this,"prefix","");t(this,"group","class");t(this,"manaName","&2Mana");t(this,"maxLevel",40);t(this,"parent");t(this,"permission",!1);t(this,"expSources",273);t(this,"manaRegen",1);t(this,"health",new h("health",20,1));t(this,"mana",new h("mana",20,1));t(this,"attributes",[]);t(this,"skillTree","Requirement");t(this,"skills",[]);t(this,"icon",{material:"Pumpkin",customModelData:0});t(this,"unusableItems",[]);t(this,"actionBar","");t(this,"serializeYaml",()=>{var n;const e=new a(this.name),s=new a;return s.put("name",this.name),s.put("action-bar",this.actionBar),s.put("prefix",this.prefix),s.put("group",this.group),s.put("mana",this.manaName),s.put("max-level",this.maxLevel),s.put("parent",((n=this.parent)==null?void 0:n.name)||""),s.put("permission",this.permission),s.put("attributes",[this.health,this.mana,...this.attributes]),s.put("mana-regen",this.manaRegen),s.put("tree",this.skillTree.toUpperCase()),s.put("blacklist",this.unusableItems),s.put("skills",this.skills.map(c=>c.name)),s.put("icon",this.icon.material),s.put("icon-data",this.icon.customModelData),s.put("icon-lore",this.icon.lore),s.put("exp-source",this.expSources),e.data=s.data,e});this.name=e?e.name:"Class",e!=null&&e.prefix&&(this.prefix=e.prefix),e!=null&&e.group&&(this.group=e.group),e!=null&&e.manaName&&(this.manaName=e.manaName),e!=null&&e.maxLevel&&(this.maxLevel=e.maxLevel),e!=null&&e.parent&&(this.parent=e.parent),e!=null&&e.permission&&(this.permission=e.permission),e!=null&&e.expSources&&(this.expSources=e.expSources),e!=null&&e.health&&(this.health=e.health),e!=null&&e.mana&&(this.mana=e.mana),e!=null&&e.manaRegen&&(this.manaRegen=e.manaRegen),e!=null&&e.attributes&&(this.attributes=e.attributes),e!=null&&e.skillTree&&(this.skillTree=e.skillTree),e!=null&&e.skills&&(this.skills=e.skills),e!=null&&e.icon&&(this.icon=e.icon),e!=null&&e.unusableItems&&(this.unusableItems=e.unusableItems),e!=null&&e.actionBar&&(this.actionBar=e.actionBar)}}class y{constructor(e){this.isSkill=!0,this.key={},this.type="Dynamic",this.maxLevel=5,this.permission=!1,this.levelReq=1,this.levelReqModifier=0,this.cost=1,this.costModifier=0,this.cooldown=0,this.cooldownModifier=0,this.cooldownMessage=!0,this.mana=0,this.manaModifier=0,this.minSpent=0,this.minSpentModifier=0,this.castMessage="&6{player} &2has cast &6{skill}",this.indicator="2D",this.icon={material:"Pumpkin",customModelData:0},this.incompatible=[],this.triggers=[],this.serializeYaml=()=>{const s=new a;return s.data.name=this.name,s},this.name=e?e.name:"Skill",e!=null&&e.type&&(this.type=e.type),e!=null&&e.maxLevel&&(this.maxLevel=e.maxLevel),e!=null&&e.skillReq&&(this.skillReq=e.skillReq),e!=null&&e.skillReqLevel&&(this.skillReqLevel=e.skillReqLevel),e!=null&&e.permission&&(this.permission=e.permission),e!=null&&e.levelReq&&(this.levelReq=e.levelReq),e!=null&&e.levelReqModifier&&(this.levelReqModifier=e.levelReqModifier),e!=null&&e.cost&&(this.cost=e.cost),e!=null&&e.costModifier&&(this.costModifier=e.costModifier),e!=null&&e.cooldown&&(this.cooldown=e.cooldown),e!=null&&e.cooldownModifier&&(this.cooldownModifier=e.cooldownModifier),e!=null&&e.cooldownMessage&&(this.cooldownMessage=e.cooldownMessage),e!=null&&e.mana&&(this.mana=e.mana),e!=null&&e.manaModifier&&(this.manaModifier=e.manaModifier),e!=null&&e.minSpent&&(this.minSpent=e.minSpent),e!=null&&e.minSpentModifier&&(this.minSpentModifier=e.minSpentModifier),e!=null&&e.castMessage&&(this.castMessage=e.castMessage),e!=null&&e.combo&&(this.combo=e.combo),e!=null&&e.indicator&&(this.indicator=e.indicator),e!=null&&e.icon&&(this.icon=e.icon),e!=null&&e.incompatible&&(this.incompatible=e.incompatible),e!=null&&e.triggers&&(this.triggers=e.triggers)}}class m{constructor(e){t(this,"key",{});t(this,"isFolder",!0);t(this,"open",!1);t(this,"name","Folder");t(this,"data",[]);t(this,"parent");t(this,"updateParent",e=>{this.parent=e});t(this,"add",e=>{this.data.includes(e)||(e instanceof m&&(R(e,this.data),O(e),e.parent=this),this.data.push(e),this.sort())});t(this,"remove",e=>{this.data=this.data.filter(s=>s!=e),this.sort()});t(this,"sort",()=>{this.data=this.data.sort((e,s)=>{let n=0;return e instanceof m&&(s instanceof m||(n=-100)),e.name.localeCompare(s.name)+n}),D()});t(this,"createFolder",()=>{const e=new m;R(e,this.data),this.data.push(e),this.sort(),e.updateParent(this)});t(this,"deleteFolder",e=>{this.data=this.data.filter(s=>s!=e)});t(this,"contains",e=>{if(this.data.includes(e))return!0;for(const s of this.data.filter(n=>n instanceof m))if(s.contains(e))return!0;return!1});t(this,"getContainingFolder",e=>{if(this.data.includes(e))return this;for(const s of this.data.filter(n=>n instanceof m))if(s.contains(e))return s});e&&(this.data=e,e.forEach(s=>{s instanceof m&&s.isFolder&&s.updateParent(this)}))}}const N=f(),A=f(),z=f(),b=f(!0),H=f(!0),q=f(!0),Y=f(!1),u=f([new y({name:"Particle Blast",type:"Dynamic",maxLevel:40,permission:!1,levelReq:1,levelReqModifier:0,cost:0,costModifier:0,cooldown:0,cooldownModifier:0,cooldownMessage:!1,mana:3,manaModifier:0,minSpent:0,minSpentModifier:0,castMessage:"&6{player} &2has cast &6{skill}",indicator:"2D",icon:{material:"Diamond",customModelData:0},triggers:[]}),new y({name:"Poison Dart",type:"Dynamic",maxLevel:40,permission:!1,levelReq:1,levelReqModifier:0,cost:0,costModifier:0,cooldown:0,cooldownModifier:0,cooldownMessage:!1,mana:3,manaModifier:0,minSpent:0,minSpentModifier:0,castMessage:"&6{player} &2has cast &6{skill}",indicator:"2D",icon:{material:"Diamond",customModelData:0},triggers:[]}),new y({name:"Storm",type:"Dynamic",maxLevel:40,permission:!1,levelReq:1,levelReqModifier:0,cost:0,costModifier:0,cooldown:0,cooldownModifier:0,cooldownMessage:!1,mana:3,manaModifier:0,minSpent:0,minSpentModifier:0,castMessage:"&6{player} &2has cast &6{skill}",indicator:"2D",icon:{material:"Diamond",customModelData:0},triggers:[]})]),w=f([new v({name:"Honor Guard",group:"class",manaName:"&2Mana",maxLevel:40,permission:!1,health:new h("Health",20,1),mana:new h("Mana",20,1),manaRegen:1,attributes:[new h("Vitality",2,1)],skillTree:"Requirement",skills:[],icon:{material:"Pumpkin",customModelData:0,lore:["This is a class","Lore line two"]},unusableItems:[]}),new v({name:"Assassin",group:"class",manaName:"&2Mana",maxLevel:40,permission:!1,health:new h("Health",20,1),mana:new h("Mana",20,1),manaRegen:1,attributes:[new h("Vitality",2,1),new h("Bravery",2,1)],skillTree:"Requirement",skills:[o(u)[0],o(u)[1]],icon:{material:"Pumpkin",customModelData:0,lore:['This is" a class']},unusableItems:[]}),new v({name:"Archer",group:"class",manaName:"&2Mana",maxLevel:40,permission:!1,health:new h("Health",20,1),mana:new h("Mana",20,1),manaRegen:1,attributes:[new h("Vitality",2,1)],skillTree:"Requirement",skills:[],icon:{material:"Pumpkin",customModelData:0,lore:["This is a class"]},unusableItems:[]})]),p=f([new m([new m([o(w)[0]])])]),g=f([new m([new m([o(u)[0]])])]),j=(i,e)=>{N.set(i),A.set(e)},V=()=>{o(b)&&(o(A)=="class"?w.set(o(w)):u.set(o(u)),D())},x=()=>b.set(!o(b)),J=()=>b.set(!1),$=()=>q.set(!0),G=()=>q.set(!1),U=i=>Y.set(i),K=()=>{const i=o(w);i.push(new v({name:"Class "+(i.length+1)})),w.set(i)},Q=()=>{const i=o(u);i.push(new y({name:"Skill "+(i.length+1)})),u.set(i)},W=i=>{const e=o(p);e.includes(i)||(R(i,e),e.push(i),e.sort((s,n)=>s.name.localeCompare(n.name)),p.set(e))},X=i=>{const e=o(g);e.includes(i)||(R(i,e),e.push(i),e.sort((s,n)=>s.name.localeCompare(n.name)),g.set(e))},R=(i,e)=>{const s=i.name;let n=1;for(;e.filter(c=>c instanceof m&&c.name==i.name).length>=1;)i.name=s+" ("+n+++")"},Z=i=>{if(i.parent)i.parent.deleteFolder(i),D();else if(o(q)){const e=o(p).filter(s=>s!=i);p.set(e)}else{const e=o(g).filter(s=>s!=i);g.set(e)}},D=()=>{o(b)&&(o(q)?(p.set(S(o(p))),w.set(S(o(w)))):(g.set(S(o(g))),u.set(S(o(u)))))},_=()=>{const i=o(w),e=o(u),s=new a,n=new a;s.put("loaded",!1),n.put("loaded",!1),i.forEach(c=>s.put(c.name,c.serializeYaml())),i.length>0&&localStorage.setItem("classData",s.toString()),e.length>0&&localStorage.setItem("skillData",n.toString()),console.log(n.toString())},S=i=>i.sort((e,s)=>e.name.localeCompare(s.name)),O=i=>{const e=o(p),s=o(g);e.includes(i)&&p.set(e.filter(n=>n!=i)),s.includes(i)&&g.set(s.filter(n=>n!=i))},d=i=>{if(i instanceof m)return i.parent;const e=i instanceof v?o(p):o(g);for(const s of e){const n=s.getContainingFolder(i);if(n)return n}};export{V as A,_ as B,j as C,m as P,N as a,H as b,W as c,z as d,X as e,Z as f,d as g,$ as h,q as i,G as j,p as k,w as l,g as m,u as n,v as o,y as p,Q as q,O as r,U as s,K as t,D as u,J as v,A as w,x,b as y,Y as z};
