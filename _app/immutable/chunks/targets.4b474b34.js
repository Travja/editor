var N=Object.defineProperty;var R=(o,e,t)=>e in o?N(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var p=(o,e,t)=>(R(o,typeof e!="symbol"?e+"":e,t),t);import{S,i as A,s as F,e as j,b as L,E as _,g as m,v as J,d as D,f as Z,h as g,a8 as B,G as H,k as Y,l as M,m as K,n as b,p as C,C as Q,_ as U,J as q,L as W,M as X,N as T,P,Z as h,F as x,V as $,K as tt}from"./index.3926e6cc.js";import{c as et,f as V,a as G}from"./ProInput.846c3776.js";import{G as k,R as w,Y as E}from"./store.ed88e814.js";function I(o){let e,t,a,n,s,l,d;const u=o[5].default,c=H(u,o,o[4],null);return{c(){e=Y("div"),t=Y("div"),c&&c.c(),this.h()},l(r){e=M(r,"DIV",{class:!0,draggable:!0});var i=K(e);t=M(i,"DIV",{class:!0});var f=K(t);c&&c.l(f),f.forEach(g),i.forEach(g),this.h()},h(){b(t,"class","modal-content svelte-lczuqy"),C(t,"--width",o[1]),b(e,"class","backdrop svelte-lczuqy"),b(e,"draggable","true")},m(r,i){L(r,e,i),Q(e,t),c&&c.m(t,null),s=!0,l||(d=[U(et.call(null,t)),_(t,"outclick",o[2]),_(t,"click",q(o[6])),_(e,"dragstart",q(tt(!1)))],l=!0)},p(r,i){c&&c.p&&(!s||i&16)&&W(c,u,r,r[4],s?T(u,r[4],i,null):X(r[4]),null),i&2&&C(t,"--width",r[1])},i(r){s||(m(c,r),P(()=>{s&&(a||(a=h(t,V,{y:-200},!0)),a.run(1))}),P(()=>{s&&(n||(n=h(e,G,{},!0)),n.run(1))}),s=!0)},o(r){D(c,r),a||(a=h(t,V,{y:-200},!1)),a.run(0),n||(n=h(e,G,{},!1)),n.run(0),s=!1},d(r){r&&g(e),c&&c.d(r),r&&a&&a.end(),r&&n&&n.end(),l=!1,x(d)}}}function at(o){let e,t,a,n,s=o[0]&&I(o);return{c(){s&&s.c(),e=j()},l(l){s&&s.l(l),e=j()},m(l,d){s&&s.m(l,d),L(l,e,d),t=!0,a||(n=_(window,"keyup",o[3]),a=!0)},p(l,[d]){l[0]?s?(s.p(l,d),d&1&&m(s,1)):(s=I(l),s.c(),m(s,1),s.m(e.parentNode,e)):s&&(J(),D(s,1,1,()=>{s=null}),Z())},i(l){t||(m(s),t=!0)},o(l){D(s),t=!1},d(l){s&&s.d(l),l&&g(e),a=!1,n()}}}function st(o,e,t){let{$$slots:a={},$$scope:n}=e,{width:s="auto"}=e,{open:l=!1}=e;const d=B(),u=i=>{var f;t(0,l=!1),d("close"),(f=i==null?void 0:i.detail)==null||f.stopPropagation()},c=i=>{i.key=="Escape"&&(i.preventDefault(),i.stopPropagation(),u())};function r(i){$.call(this,o,i)}return o.$$set=i=>{"width"in i&&t(1,s=i.width),"open"in i&&t(0,l=i.open),"$$scope"in i&&t(4,n=i.$$scope)},[l,s,u,c,n,a,r]}class rt extends S{constructor(e){super(),A(this,e,st,at,F,{width:1,open:0})}}class ct extends k{constructor(e){super("mechanic",e),super.isParent=!1}toYamlObj(){const e=super.toYamlObj(),t=this.getData();return t.getKeys().length>0&&e.put("data",t),this.components.length>0&&e.put("children",this.components),e}getData(){const e=new E("data");return this.data.forEach(t=>{const a=t.getData();Object.keys(a).forEach(n=>e.put(n,a[n]))}),e}deserialize(e){const t=e.get("data");t&&this.data.forEach(a=>a.deserialize(t)),this.components=e.get("children",[],a=>w.deserializeComponents(a))}}const z=class extends k{constructor(e){super("condition",e)}toYamlObj(){const e=super.toYamlObj(),t=this.getData();return t.getKeys().length>0&&e.put("data",t),this.components.length>0&&e.put("children",this.components),e}getData(){const e=new E("data");return this.data.forEach(t=>{const a=t.getData();Object.keys(a).forEach(n=>e.put(n,a[n]))}),e}deserialize(e){const t=e.get("data");t&&this.data.forEach(a=>a.deserialize(t)),this.components=e.get("children",[],a=>w.deserializeComponents(a))}};let v=z;p(v,"new",()=>new z({name:"null"}));const O=class extends k{constructor(t){super("target",t);p(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),a=this.getData();return a.getKeys().length>0&&t.put("data",a),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new E("data");return t.put("icon-key",this.iconKey),this.data.forEach(a=>{const n=a.getData();Object.keys(n).forEach(s=>t.put(s,n[s]))}),t}deserialize(t){const a=t.get("data");a&&this.data.forEach(n=>n.deserialize(a)),this.components=t.get("children",[],n=>w.deserializeComponents(n))}};let y=O;p(y,"new",()=>new O({name:"null"}));export{rt as M,ct as P,y as a,v as b};
