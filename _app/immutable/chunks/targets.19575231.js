var G=Object.defineProperty;var U=(i,n,t)=>n in i?G(i,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[n]=t;var d=(i,n,t)=>(U(i,typeof n!="symbol"?n+"":n,t),t);import{S as Z,i as B,s as H,e as I,b as N,E as b,g as y,v as Q,d as O,f as W,h as m,a6 as X,G as T,k as D,l as w,m as v,n as g,p as M,C as q,_ as x,J as V,L as $,M as tt,N as et,P as A,Z as _,F as at,V as st,U as j}from"./index.d2395b4a.js";import{c as nt,f as P,a as J}from"./ProInput.bf14dba2.js";import{w as F}from"./singletons.a48a70c9.js";import{J as K,R as C,Y as f}from"./store.068d7767.js";function L(i){let n,t,a,e,s,r,l,h;const p=i[5].default,c=T(p,i,i[4],null);return{c(){n=D("div"),t=D("div"),a=D("div"),c&&c.c(),this.h()},l(o){n=w(o,"DIV",{class:!0,draggable:!0});var u=v(n);t=w(u,"DIV",{class:!0});var R=v(t);a=w(R,"DIV",{class:!0});var Y=v(a);c&&c.l(Y),Y.forEach(m),R.forEach(m),u.forEach(m),this.h()},h(){g(a,"class","wrapper svelte-6nrc5"),g(t,"class","modal-content svelte-6nrc5"),M(t,"--width",i[1]),g(n,"class","backdrop svelte-6nrc5"),g(n,"draggable","false")},m(o,u){N(o,n,u),q(n,t),q(t,a),c&&c.m(a,null),r=!0,l||(h=[x(nt.call(null,t)),b(t,"outclick",i[2]),b(t,"click",V(i[6])),b(n,"touchstart",V(it),{passive:!0})],l=!0)},p(o,u){c&&c.p&&(!r||u&16)&&$(c,p,o,o[4],r?et(p,o[4],u,null):tt(o[4]),null),u&2&&M(t,"--width",o[1])},i(o){r||(y(c,o),A(()=>{r&&(e||(e=_(t,P,{y:-200},!0)),e.run(1))}),A(()=>{r&&(s||(s=_(n,J,{},!0)),s.run(1))}),r=!0)},o(o){O(c,o),e||(e=_(t,P,{y:-200},!1)),e.run(0),s||(s=_(n,J,{},!1)),s.run(0),r=!1},d(o){o&&m(n),c&&c.d(o),o&&e&&e.end(),o&&s&&s.end(),l=!1,at(h)}}}function ot(i){let n,t,a,e,s=i[0]&&L(i);return{c(){s&&s.c(),n=I()},l(r){s&&s.l(r),n=I()},m(r,l){s&&s.m(r,l),N(r,n,l),t=!0,a||(e=b(window,"keyup",i[3]),a=!0)},p(r,[l]){r[0]?s?(s.p(r,l),l&1&&y(s,1)):(s=L(r),s.c(),y(s,1),s.m(n.parentNode,n)):s&&(Q(),O(s,1,1,()=>{s=null}),W())},i(r){t||(y(s),t=!0)},o(r){O(s),t=!1},d(r){s&&s.d(r),r&&m(n),a=!1,e()}}}const it=()=>!0;function rt(i,n,t){let{$$slots:a={},$$scope:e}=n,{width:s="auto"}=n,{open:r=!1}=n;const l=X(),h=o=>{var u;t(0,r=!1),l("close"),(u=o==null?void 0:o.detail)==null||u.stopPropagation()},p=o=>{o.key=="Escape"&&(o.preventDefault(),o.stopPropagation(),h())};function c(o){st.call(this,i,o)}return i.$$set=o=>{"width"in o&&t(1,s=o.width),"open"in o&&t(0,r=o.open),"$$scope"in o&&t(4,e=o.$$scope)},[r,s,h,p,e,a,c]}class ht extends Z{constructor(n){super(),B(this,n,rt,ot,H,{width:1,open:0})}}const pt=(()=>{let i=!1;i=localStorage.getItem("use-symbols")==="true";const{subscribe:n,set:t,update:a}=F(i);return{subscribe:n,set:e=>(localStorage.setItem("use-symbols",String(e)),t(e)),update:a}})(),mt=(()=>{let i=!0;i=localStorage.getItem("animation-enabled")==="true";const{subscribe:n,set:t,update:a}=F(i);return{subscribe:n,set:e=>(localStorage.setItem("animation-enabled",String(e)),t(e)),update:a}})();class gt extends K{constructor(t,a=!1){super("mechanic",t);d(this,"iconKey","");d(this,"countsAsCast",!0);super.isParent=a}toYamlObj(){const t=super.toYamlObj(),a=this.getData();a.getKeys().length>0&&t.put("data",a);const e=j(this.components);return e.length>0&&t.put("children",e),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),t.put("counts",this.countsAsCast),this.data.filter(a=>a.meetsRequirements(this)).forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}getRawData(){const t=new f("data");return this.data.forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}deserialize(t){const a=t.get("data");a&&this.data.forEach(e=>e.deserialize(a)),this.setComponents(t.get("children",[],e=>C.deserializeComponents(e)))}}const z=class extends K{constructor(t){super("condition",t);d(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),a=this.getData();a.getKeys().length>0&&t.put("data",a);const e=j(this.components);return e.length>0&&t.put("children",e),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(a=>a.meetsRequirements(this)).forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}deserialize(t){const a=t.get("data");this.iconKey=a.get("icon-key"),a&&this.data.forEach(e=>e.deserialize(a)),this.setComponents(t.get("children",[],e=>C.deserializeComponents(e)))}};let E=z;d(E,"new",()=>new z({name:"null"}));const S=class extends K{constructor(t){super("target",t);d(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),a=this.getData();a.getKeys().length>0&&t.put("data",a);const e=j(this.components);return e.length>0&&t.put("children",e),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(a=>a.meetsRequirements(this)).forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}deserialize(t){const a=t.get("data");this.iconKey=a.get("icon-key"),a&&this.data.forEach(e=>e.deserialize(a)),this.setComponents(t.get("children",[],e=>C.deserializeComponents(e)))}};let k=S;d(k,"new",()=>new S({name:"null"}));export{ht as M,gt as P,mt as a,k as b,E as c,pt as u};
