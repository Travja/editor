var L=Object.defineProperty;var N=(i,a,t)=>a in i?L(i,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[a]=t;var p=(i,a,t)=>(N(i,typeof a!="symbol"?a+"":a,t),t);import{S as A,i as F,s as G,e as K,b as V,E as g,g as _,v as J,d as k,f as Z,h as b,a8 as B,G as H,k as z,l as R,m as Y,n as y,p as M,C as Q,_ as U,J as S,L as W,M as X,N as T,P as C,Z as m,F as x,V as $,K as tt}from"./index.3926e6cc.js";import{c as et,f as I,a as q}from"./ProInput.decbeb7f.js";import{I as E,R as v,Y as f}from"./store.4e015fc7.js";import{w as at}from"./singletons.554b982a.js";function P(i){let a,t,e,s,n,r,u;const d=i[5].default,c=H(d,i,i[4],null);return{c(){a=z("div"),t=z("div"),c&&c.c(),this.h()},l(l){a=R(l,"DIV",{class:!0,draggable:!0});var o=Y(a);t=R(o,"DIV",{class:!0});var h=Y(t);c&&c.l(h),h.forEach(b),o.forEach(b),this.h()},h(){y(t,"class","modal-content svelte-po3u1h"),M(t,"--width",i[1]),y(a,"class","backdrop svelte-po3u1h"),y(a,"draggable","true")},m(l,o){V(l,a,o),Q(a,t),c&&c.m(t,null),n=!0,r||(u=[U(et.call(null,t)),g(t,"outclick",i[2]),g(t,"click",S(i[6])),g(a,"dragstart",S(tt(!1)))],r=!0)},p(l,o){c&&c.p&&(!n||o&16)&&W(c,d,l,l[4],n?T(d,l[4],o,null):X(l[4]),null),o&2&&M(t,"--width",l[1])},i(l){n||(_(c,l),C(()=>{n&&(e||(e=m(t,I,{y:-200},!0)),e.run(1))}),C(()=>{n&&(s||(s=m(a,q,{},!0)),s.run(1))}),n=!0)},o(l){k(c,l),e||(e=m(t,I,{y:-200},!1)),e.run(0),s||(s=m(a,q,{},!1)),s.run(0),n=!1},d(l){l&&b(a),c&&c.d(l),l&&e&&e.end(),l&&s&&s.end(),r=!1,x(u)}}}function st(i){let a,t,e,s,n=i[0]&&P(i);return{c(){n&&n.c(),a=K()},l(r){n&&n.l(r),a=K()},m(r,u){n&&n.m(r,u),V(r,a,u),t=!0,e||(s=g(window,"keyup",i[3]),e=!0)},p(r,[u]){r[0]?n?(n.p(r,u),u&1&&_(n,1)):(n=P(r),n.c(),_(n,1),n.m(a.parentNode,a)):n&&(J(),k(n,1,1,()=>{n=null}),Z())},i(r){t||(_(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&b(a),e=!1,s()}}}function nt(i,a,t){let{$$slots:e={},$$scope:s}=a,{width:n="auto"}=a,{open:r=!1}=a;const u=B(),d=o=>{var h;t(0,r=!1),u("close"),(h=o==null?void 0:o.detail)==null||h.stopPropagation()},c=o=>{o.key=="Escape"&&(o.preventDefault(),o.stopPropagation(),d())};function l(o){$.call(this,i,o)}return i.$$set=o=>{"width"in o&&t(1,n=o.width),"open"in o&&t(0,r=o.open),"$$scope"in o&&t(4,s=o.$$scope)},[r,n,d,c,s,e,l]}class ut extends A{constructor(a){super(),F(this,a,nt,st,G,{width:1,open:0})}}class dt extends E{constructor(a,t=!1){super("mechanic",a),super.isParent=t}toYamlObj(){const a=super.toYamlObj(),t=this.getData();return t.getKeys().length>0&&a.put("data",t),this.components.length>0&&a.put("children",this.components),a}getData(){const a=new f("data");return this.data.filter(t=>t.meetsRequirements(this)).forEach(t=>{const e=t.getData();Object.keys(e).forEach(s=>a.put(s,e[s]))}),a}getRawData(){const a=new f("data");return this.data.forEach(t=>{const e=t.getData();Object.keys(e).forEach(s=>a.put(s,e[s]))}),a}deserialize(a){const t=a.get("data");t&&this.data.forEach(e=>e.deserialize(t)),this.components=a.get("children",[],e=>v.deserializeComponents(e))}}const O=class extends E{constructor(t){super("condition",t);p(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(n=>t.put(n,s[n]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(n=>t.put(n,s[n]))}),t}deserialize(t){const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.components=t.get("children",[],s=>v.deserializeComponents(s))}};let D=O;p(D,"new",()=>new O({name:"null"}));const j=class extends E{constructor(t){super("target",t);p(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(n=>t.put(n,s[n]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(n=>t.put(n,s[n]))}),t}deserialize(t){const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.components=t.get("children",[],s=>v.deserializeComponents(s))}};let w=j;p(w,"new",()=>new j({name:"null"}));const ft=(()=>{let i=!1;i=localStorage.getItem("use-symbols")==="true";const{subscribe:a,set:t,update:e}=at(i);return{subscribe:a,set:s=>(localStorage.setItem("use-symbols",String(s)),t(s)),update:e}})();export{ut as M,dt as P,w as a,D as b,ft as u};
