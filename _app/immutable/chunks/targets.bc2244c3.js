var F=Object.defineProperty;var G=(o,n,t)=>n in o?F(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t;var d=(o,n,t)=>(G(o,typeof n!="symbol"?n+"":n,t),t);import{S as Z,i as B,s as H,e as C,b as L,E as y,g as D,v as Q,d as j,f as U,h as g,a6 as W,G as X,k as w,l as E,m as k,n as _,p as I,C as M,_ as T,J as q,L as x,M as $,N as tt,P as V,Z as b,F as et,V as at}from"./index.d2395b4a.js";import{c as st,f as A,a as P}from"./ProInput.bf14dba2.js";import{w as N}from"./singletons.c08821fe.js";import{J as K,R as z,Y as f}from"./store.8ad6883a.js";function J(o){let n,t,e,a,s,i,u,h;const p=o[5].default,l=X(p,o,o[4],null);return{c(){n=w("div"),t=w("div"),e=w("div"),l&&l.c(),this.h()},l(c){n=E(c,"DIV",{class:!0,draggable:!0});var r=k(n);t=E(r,"DIV",{class:!0});var m=k(t);e=E(m,"DIV",{class:!0});var Y=k(e);l&&l.l(Y),Y.forEach(g),m.forEach(g),r.forEach(g),this.h()},h(){_(e,"class","wrapper svelte-6nrc5"),_(t,"class","modal-content svelte-6nrc5"),I(t,"--width",o[1]),_(n,"class","backdrop svelte-6nrc5"),_(n,"draggable","false")},m(c,r){L(c,n,r),M(n,t),M(t,e),l&&l.m(e,null),i=!0,u||(h=[T(st.call(null,t)),y(t,"outclick",o[2]),y(t,"click",q(o[6])),y(n,"touchstart",q(o[7]),{passive:!0})],u=!0)},p(c,r){l&&l.p&&(!i||r&16)&&x(l,p,c,c[4],i?tt(p,c[4],r,null):$(c[4]),null),r&2&&I(t,"--width",c[1])},i(c){i||(D(l,c),V(()=>{i&&(a||(a=b(t,A,{y:-200},!0)),a.run(1))}),V(()=>{i&&(s||(s=b(n,P,{},!0)),s.run(1))}),i=!0)},o(c){j(l,c),a||(a=b(t,A,{y:-200},!1)),a.run(0),s||(s=b(n,P,{},!1)),s.run(0),i=!1},d(c){c&&g(n),l&&l.d(c),c&&a&&a.end(),c&&s&&s.end(),u=!1,et(h)}}}function nt(o){let n,t,e,a,s=o[0]&&J(o);return{c(){s&&s.c(),n=C()},l(i){s&&s.l(i),n=C()},m(i,u){s&&s.m(i,u),L(i,n,u),t=!0,e||(a=y(window,"keyup",o[3]),e=!0)},p(i,[u]){i[0]?s?(s.p(i,u),u&1&&D(s,1)):(s=J(i),s.c(),D(s,1),s.m(n.parentNode,n)):s&&(Q(),j(s,1,1,()=>{s=null}),U())},i(i){t||(D(s),t=!0)},o(i){j(s),t=!1},d(i){s&&s.d(i),i&&g(n),e=!1,a()}}}function ot(o,n,t){let{$$slots:e={},$$scope:a}=n,{width:s="auto"}=n,{open:i=!1}=n;const u=W(),h=r=>{var m;t(0,i=!1),u("close"),(m=r==null?void 0:r.detail)==null||m.stopPropagation()},p=r=>{r.key=="Escape"&&(r.preventDefault(),r.stopPropagation(),h())};function l(r){at.call(this,o,r)}const c=()=>console.log("Trying to drag");return o.$$set=r=>{"width"in r&&t(1,s=r.width),"open"in r&&t(0,i=r.open),"$$scope"in r&&t(4,a=r.$$scope)},[i,s,h,p,a,e,l,c]}class dt extends Z{constructor(n){super(),B(this,n,ot,nt,H,{width:1,open:0})}}const ft=(()=>{let o=!1;o=localStorage.getItem("use-symbols")==="true";const{subscribe:n,set:t,update:e}=N(o);return{subscribe:n,set:a=>(localStorage.setItem("use-symbols",String(a)),t(a)),update:e}})(),ht=(()=>{let o=!0;o=localStorage.getItem("animation-enabled")==="true";const{subscribe:n,set:t,update:e}=N(o);return{subscribe:n,set:a=>(localStorage.setItem("animation-enabled",String(a)),t(a)),update:e}})();class pt extends K{constructor(t,e=!1){super("mechanic",t);d(this,"iconKey","");d(this,"countsAsCast",!0);super.isParent=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),t.put("counts",this.countsAsCast),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const a=e.getData();Object.keys(a).forEach(s=>t.put(s,a[s]))}),t}getRawData(){const t=new f("data");return this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(s=>t.put(s,a[s]))}),t}deserialize(t){const e=t.get("data");e&&this.data.forEach(a=>a.deserialize(e)),this.components=t.get("children",[],a=>z.deserializeComponents(a))}}const S=class extends K{constructor(t){super("condition",t);d(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const a=e.getData();Object.keys(a).forEach(s=>t.put(s,a[s]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(s=>t.put(s,a[s]))}),t}deserialize(t){const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(a=>a.deserialize(e)),this.components=t.get("children",[],a=>z.deserializeComponents(a))}};let v=S;d(v,"new",()=>new S({name:"null"}));const R=class extends K{constructor(t){super("target",t);d(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const a=e.getData();Object.keys(a).forEach(s=>t.put(s,a[s]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(s=>t.put(s,a[s]))}),t}deserialize(t){const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(a=>a.deserialize(e)),this.components=t.get("children",[],a=>z.deserializeComponents(a))}};let O=R;d(O,"new",()=>new R({name:"null"}));export{dt as M,pt as P,ht as a,O as b,v as c,ft as u};
