var L=Object.defineProperty;var C=(i,e,s)=>e in i?L(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var n=(i,e,s)=>(C(i,typeof e!="symbol"?e+"":e,s),s);import{w as m}from"./index-725e741d.js";import{K as t}from"./index-25cbd9f6.js";const q={INT:/^-?[0-9]+$/,FLOAT:/^-?[0-9]+\.[0-9]+$/,SPACE:/^( +)/},M=i=>{const e=i.match(q.SPACE);return e?e[1].length:0};class a{constructor(e){n(this,"key");n(this,"data",{});n(this,"put",(e,s)=>{this.data[e]=s});n(this,"has",e=>this.data[e]!==void 0);n(this,"get",(e,s)=>this.has(e)?this.data[e]:s);n(this,"parse",(e,s,o)=>{for(;s<e.length&&M(e[s])>=o;){for(;s<e.length&&(M(e[s])!=o||e[s].replace(/ /g,"").charAt(0)=="#"||e[s].indexOf(":")==-1);)s++;if(s==e.length)return s;const r=e[s].substring(o,e[s].indexOf(":"));if(e[s].indexOf(": {}")==e[s].length-4&&e[s].length>=4)this.data[r]={};else if(s<e.length-1&&e[s+1].charAt(o)=="-"&&e[s+1].charAt(o+1)==" "&&M(e[s+1])==o){const l=[];for(;++s<e.length&&e[s].charAt(o)=="-";){let h=e[s].substring(o+2);(h.charAt(0)=="'"||h.charAt(0)=='"')&&(h=h.substring(1,h.length-1)),l.push(h)}this.data[r]=l,s--}else if(s<e.length-1&&M(e[s+1])>o){s++;const l=M(e[s]),h=new a;s=h.parse(e,s,l)-1,this.data[r]=h}else{let l=e[s].substring(e[s].indexOf(":")+2);l.charAt(0)=="'"?l=l.substring(1,l.length-1):isNaN(l)||(q.INT.test(l)?l=parseInt(l):l=parseFloat(l)),this.data[r]=l}do s++;while(s<e.length&&e[s].replace(/ /g,"").charAt(0)=="#")}return s});this.key=e}}class w{constructor(e){n(this,"isClass",!0);n(this,"key",{});n(this,"name");n(this,"prefix");n(this,"group","class");n(this,"manaName","&2Mana");n(this,"maxLevel",40);n(this,"parent");n(this,"permission",!1);n(this,"expSources",[]);n(this,"health",{base:20,scale:1});n(this,"mana",{base:20,scale:1});n(this,"manaRegen",1);n(this,"attributes",{});n(this,"skillTree","Requirement");n(this,"skills",[]);n(this,"icon",{material:"Pumpkin",customModelData:0});n(this,"unusableItems",[]);n(this,"actionBar","");n(this,"serializeYaml",()=>{const e=new a(this.name),s=new a;return s.put("name",this.name),s.put("prefix",this.prefix),s.put("group",this.group),s.put("manaName",this.manaName),s.put("maxLevel",this.maxLevel),this.parent&&s.put("parent",this.parent.name),s.put("permission",this.permission),s.put("expSources",this.expSources),s.put("mana-regen",this.manaRegen),s.put("tree",this.skillTree),s.put("blacklist",this.unusableItems),s.put("icon",this.icon.material),s.put("icon-data",this.icon.customModelData),s.put("icon-lore",this.icon.lore),s.put("action-bar",this.actionBar),s.put("health-base",this.health.base),s.put("health-scale",this.health.scale),s.put("skills",this.skillTree),s.put("attributes",this.attributes),s.put("mana-base",this.mana.base),s.put("mana-scale",this.mana.scale),e.data=s.data,e});this.name=e?e.name:"Class",e!=null&&e.prefix&&(this.prefix=e.prefix),e!=null&&e.group&&(this.group=e.group),e!=null&&e.manaName&&(this.manaName=e.manaName),e!=null&&e.maxLevel&&(this.maxLevel=e.maxLevel),e!=null&&e.parent&&(this.parent=e.parent),e!=null&&e.permission&&(this.permission=e.permission),e!=null&&e.expSources&&(this.expSources=e.expSources),e!=null&&e.health&&(this.health=e.health),e!=null&&e.mana&&(this.mana=e.mana),e!=null&&e.manaRegen&&(this.manaRegen=e.manaRegen),e!=null&&e.attributes&&(this.attributes=e.attributes),e!=null&&e.skillTree&&(this.skillTree=e.skillTree),e!=null&&e.skills&&(this.skills=e.skills),e!=null&&e.icon&&(this.icon=e.icon),e!=null&&e.unusableItems&&(this.unusableItems=e.unusableItems),e!=null&&e.actionBar&&(this.actionBar=e.actionBar)}}class k{constructor(e){this.isSkill=!0,this.key={},this.type="Dynamic",this.maxLevel=5,this.permission=!1,this.levelReq=1,this.levelReqModifier=0,this.cost=1,this.costModifier=0,this.cooldown=0,this.cooldownModifier=0,this.cooldownMessage=!0,this.mana=0,this.manaModifier=0,this.minSpent=0,this.minSpentModifier=0,this.castMessage="&6{player} &2has cast &6{skill}",this.indicator="2D",this.icon={material:"Pumpkin",customModelData:0},this.incompatible=[],this.triggers=[],this.serializeYaml=()=>{const s=new a;return s.data.name=this.name,s},this.name=e?e.name:"Skill",e!=null&&e.type&&(this.type=e.type),e!=null&&e.maxLevel&&(this.maxLevel=e.maxLevel),e!=null&&e.skillReq&&(this.skillReq=e.skillReq),e!=null&&e.skillReqLevel&&(this.skillReqLevel=e.skillReqLevel),e!=null&&e.permission&&(this.permission=e.permission),e!=null&&e.levelReq&&(this.levelReq=e.levelReq),e!=null&&e.levelReqModifier&&(this.levelReqModifier=e.levelReqModifier),e!=null&&e.cost&&(this.cost=e.cost),e!=null&&e.costModifier&&(this.costModifier=e.costModifier),e!=null&&e.cooldown&&(this.cooldown=e.cooldown),e!=null&&e.cooldownModifier&&(this.cooldownModifier=e.cooldownModifier),e!=null&&e.cooldownMessage&&(this.cooldownMessage=e.cooldownMessage),e!=null&&e.mana&&(this.mana=e.mana),e!=null&&e.manaModifier&&(this.manaModifier=e.manaModifier),e!=null&&e.minSpent&&(this.minSpent=e.minSpent),e!=null&&e.minSpentModifier&&(this.minSpentModifier=e.minSpentModifier),e!=null&&e.castMessage&&(this.castMessage=e.castMessage),e!=null&&e.combo&&(this.combo=e.combo),e!=null&&e.indicator&&(this.indicator=e.indicator),e!=null&&e.icon&&(this.icon=e.icon),e!=null&&e.incompatible&&(this.incompatible=e.incompatible),e!=null&&e.triggers&&(this.triggers=e.triggers)}}class c{constructor(e){this.key={},this.isFolder=!0,this.open=!1,this.name="Folder",this.data=[],this.updateParent=s=>{this.parent=s},this.add=s=>{this.data.includes(s)||(s instanceof c&&(S(s,this.data),F(s),s.parent=this),this.data.push(s),this.sort())},this.remove=s=>{this.data=this.data.filter(o=>o!=s),this.sort()},this.sort=()=>{this.data=this.data.sort((s,o)=>{let r=0;return s instanceof c&&(o instanceof c||(r=-100)),s.name.localeCompare(o.name)+r}),y()},this.createFolder=()=>{const s=new c;S(s,this.data),this.data.push(s),this.sort(),s.updateParent(this)},this.deleteFolder=s=>{this.data=this.data.filter(o=>o!=s)},this.contains=s=>{if(this.data.includes(s))return!0;for(const o of this.data.filter(r=>r instanceof c))if(o.contains(s))return!0;return!1},this.getContainingFolder=s=>{if(this.data.includes(s))return this;for(const o of this.data.filter(r=>r instanceof c))if(o.contains(s))return o},e&&(this.data=e,e.forEach(s=>{s instanceof c&&s.isFolder&&s.updateParent(this)}))}}const T=m(),R=m(),B=m(),v=m(!0),O=m(!0),D=m(!0),A=m(!1),f=m([new k({name:"Particle Blast",type:"Dynamic",maxLevel:40,permission:!1,levelReq:1,levelReqModifier:0,cost:0,costModifier:0,cooldown:0,cooldownModifier:0,cooldownMessage:!1,mana:3,manaModifier:0,minSpent:0,minSpentModifier:0,castMessage:"&6{player} &2has cast &6{skill}",indicator:"2D",icon:{material:"Diamond",customModelData:0},triggers:[]}),new k({name:"Poison Dart",type:"Dynamic",maxLevel:40,permission:!1,levelReq:1,levelReqModifier:0,cost:0,costModifier:0,cooldown:0,cooldownModifier:0,cooldownMessage:!1,mana:3,manaModifier:0,minSpent:0,minSpentModifier:0,castMessage:"&6{player} &2has cast &6{skill}",indicator:"2D",icon:{material:"Diamond",customModelData:0},triggers:[]}),new k({name:"Storm",type:"Dynamic",maxLevel:40,permission:!1,levelReq:1,levelReqModifier:0,cost:0,costModifier:0,cooldown:0,cooldownModifier:0,cooldownMessage:!1,mana:3,manaModifier:0,minSpent:0,minSpentModifier:0,castMessage:"&6{player} &2has cast &6{skill}",indicator:"2D",icon:{material:"Diamond",customModelData:0},triggers:[]})]),p=m([new w({name:"Honor Guard",group:"class",manaName:"&2Mana",maxLevel:40,permission:!1,expSources:[],health:{base:20,scale:1},mana:{base:20,scale:1},manaRegen:1,attributes:{vitality:{base:2,modifier:1}},skillTree:"Requirement",skills:[],icon:{material:"Pumpkin",customModelData:0,lore:["This is a class","Lore line two"]},unusableItems:[]}),new w({name:"Assassin",group:"class",manaName:"&2Mana",maxLevel:40,permission:!1,expSources:[],health:{base:20,scale:1},mana:{base:20,scale:1},manaRegen:1,attributes:{vitality:{base:2,modifier:1}},skillTree:"Requirement",skills:[t(f)[0],t(f)[1]],icon:{material:"Pumpkin",customModelData:0,lore:["This is a class"]},unusableItems:[]}),new w({name:"Archer",group:"class",manaName:"&2Mana",maxLevel:40,permission:!1,expSources:[],health:{base:20,scale:1},mana:{base:20,scale:1},manaRegen:1,attributes:{vitality:{base:2,modifier:1}},skillTree:"Requirement",skills:[],icon:{material:"Pumpkin",customModelData:0,lore:["This is a class"]},unusableItems:[]})]),u=m([new c([new c([t(p)[0]])])]),g=m([new c([new c([t(f)[0]])])]),x=(i,e)=>{T.set(i),R.set(e)},z=()=>{t(v)&&(t(R)=="class"?p.set(t(p)):f.set(t(f)),y())},E=()=>v.set(!t(v)),Y=()=>D.set(!0),$=()=>D.set(!1),j=i=>A.set(i),G=()=>{const i=t(p);i.push(new w({name:"Class "+(i.length+1)})),p.set(i)},H=()=>{const i=t(f);i.push(new k({name:"Skill "+(i.length+1)})),f.set(i)},K=i=>{const e=t(u);e.includes(i)||(S(i,e),e.push(i),e.sort((s,o)=>s.name.localeCompare(o.name)),u.set(e))},J=i=>{const e=t(g);e.includes(i)||(S(i,e),e.push(i),e.sort((s,o)=>s.name.localeCompare(o.name)),g.set(e))},S=(i,e)=>{const s=i.name;let o=1;for(;e.filter(r=>r instanceof c&&r.name==i.name).length>=1;)i.name=s+" ("+o+++")"},Q=i=>{if(i.parent)i.parent.deleteFolder(i),y();else{const e=t(u).filter(s=>s!=i);u.set(e)}},y=()=>{t(v)&&(t(R)=="class"?(u.set(b(t(u))),p.set(b(t(p)))):(g.set(b(t(g))),f.set(b(t(f)))))},b=i=>i.sort((e,s)=>e.name.localeCompare(s.name)),F=i=>{const e=t(u),s=t(g);e.includes(i)&&u.set(e.filter(o=>o!=i)),s.includes(i)&&g.set(s.filter(o=>o!=i))},U=i=>{if(i instanceof c)return i.parent;const e=i instanceof w?t(u):t(g);for(const s of e){const o=s.getContainingFolder(i);if(o)return o}};export{x as A,c as P,R as a,T as b,O as c,B as d,K as e,J as f,U as g,Q as h,D as i,Y as j,$ as k,u as l,p as m,g as n,f as o,w as p,k as q,F as r,j as s,E as t,y as u,H as v,G as w,v as x,A as y,z};
