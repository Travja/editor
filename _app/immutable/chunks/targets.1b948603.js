var R=Object.defineProperty;var S=(o,t,e)=>t in o?R(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var g=(o,t,e)=>(S(o,typeof t!="symbol"?t+"":t,e),e);import{S as A,i as F,s as G,e as j,b as N,E as h,g as _,v as J,d as w,f as Z,h as m,a8 as B,G as H,k as Y,l as M,m as C,n as b,p as K,C as Q,_ as U,J as q,L as W,M as X,N as T,P,Z as p,F as x,V as $,K as tt}from"./index.238df454.js";import{c as et,f as V,a as I}from"./ProInput.9b00df2a.js";import{E,R as k,Y as y}from"./store.87c41150.js";function L(o){let t,e,a,i,s,l,d;const u=o[5].default,c=H(u,o,o[4],null);return{c(){t=Y("div"),e=Y("div"),c&&c.c(),this.h()},l(r){t=M(r,"DIV",{class:!0,draggable:!0});var n=C(t);e=M(n,"DIV",{class:!0});var f=C(e);c&&c.l(f),f.forEach(m),n.forEach(m),this.h()},h(){b(e,"class","modal-content svelte-lczuqy"),K(e,"--width",o[1]),b(t,"class","backdrop svelte-lczuqy"),b(t,"draggable","true")},m(r,n){N(r,t,n),Q(t,e),c&&c.m(e,null),s=!0,l||(d=[U(et.call(null,e)),h(e,"outclick",o[2]),h(e,"click",q(o[6])),h(t,"dragstart",q(tt(!1)))],l=!0)},p(r,n){c&&c.p&&(!s||n&16)&&W(c,u,r,r[4],s?T(u,r[4],n,null):X(r[4]),null),n&2&&K(e,"--width",r[1])},i(r){s||(_(c,r),P(()=>{s&&(a||(a=p(e,V,{y:-200},!0)),a.run(1))}),P(()=>{s&&(i||(i=p(t,I,{},!0)),i.run(1))}),s=!0)},o(r){w(c,r),a||(a=p(e,V,{y:-200},!1)),a.run(0),i||(i=p(t,I,{},!1)),i.run(0),s=!1},d(r){r&&m(t),c&&c.d(r),r&&a&&a.end(),r&&i&&i.end(),l=!1,x(d)}}}function at(o){let t,e,a,i,s=o[0]&&L(o);return{c(){s&&s.c(),t=j()},l(l){s&&s.l(l),t=j()},m(l,d){s&&s.m(l,d),N(l,t,d),e=!0,a||(i=h(window,"keyup",o[3]),a=!0)},p(l,[d]){l[0]?s?(s.p(l,d),d&1&&_(s,1)):(s=L(l),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(J(),w(s,1,1,()=>{s=null}),Z())},i(l){e||(_(s),e=!0)},o(l){w(s),e=!1},d(l){s&&s.d(l),l&&m(t),a=!1,i()}}}function st(o,t,e){let{$$slots:a={},$$scope:i}=t,{width:s="auto"}=t,{open:l=!1}=t;const d=B(),u=n=>{var f;e(0,l=!1),d("close"),(f=n==null?void 0:n.detail)==null||f.stopPropagation()},c=n=>{n.key=="Escape"&&(n.preventDefault(),n.stopPropagation(),u())};function r(n){$.call(this,o,n)}return o.$$set=n=>{"width"in n&&e(1,s=n.width),"open"in n&&e(0,l=n.open),"$$scope"in n&&e(4,i=n.$$scope)},[l,s,u,c,i,a,r]}class rt extends A{constructor(t){super(),F(this,t,st,at,G,{width:1,open:0})}}class ct extends E{constructor(t){super("mechanic",t),super.isParent=!1}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new y("data");return this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(i=>t.put(i,a[i]))}),t}deserialize(t){const e=t.get("data");e&&this.data.forEach(a=>a.deserialize(e)),this.components=t.get("children",[],a=>k.deserializeComponents(a))}}const z=class extends E{constructor(t){super("condition",t)}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new y("data");return this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(i=>t.put(i,a[i]))}),t}deserialize(t){const e=t.get("data");e&&this.data.forEach(a=>a.deserialize(e)),this.components=t.get("children",[],a=>k.deserializeComponents(a))}};let v=z;g(v,"new",()=>new z({name:"null"}));const O=class extends E{constructor(t){super("target",t)}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new y("data");return this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(i=>t.put(i,a[i]))}),t}deserialize(t){const e=t.get("data");e&&this.data.forEach(a=>a.deserialize(e)),this.components=t.get("children",[],a=>k.deserializeComponents(a))}};let D=O;g(D,"new",()=>new O({name:"null"}));export{rt as M,ct as P,D as a,v as b};
