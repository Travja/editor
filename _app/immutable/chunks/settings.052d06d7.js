var V=Object.defineProperty;var L=(i,n,t)=>n in i?V(i,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[n]=t;var d=(i,n,t)=>(L(i,typeof n!="symbol"?n+"":n,t),t);import{S as N,i as F,s as G,e as j,b as P,E as g,g as _,v as J,d as k,f as Z,h as b,a6 as B,G as H,k as z,l as R,m as Y,n as y,p as C,C as Q,_ as U,J as M,L as W,M as X,N as T,P as S,Z as m,F as x,V as $,K as tt}from"./index.d989938f.js";import{c as et,f as I,a as q}from"./ProInput.50bce994.js";import{I as E,R as v,Y as h}from"./store.30f84466.js";import{w as at}from"./singletons.8cbd9558.js";function A(i){let n,t,e,s,a,r,u;const f=i[5].default,l=H(f,i,i[4],null);return{c(){n=z("div"),t=z("div"),l&&l.c(),this.h()},l(c){n=R(c,"DIV",{class:!0,draggable:!0});var o=Y(n);t=R(o,"DIV",{class:!0});var p=Y(t);l&&l.l(p),p.forEach(b),o.forEach(b),this.h()},h(){y(t,"class","modal-content svelte-po3u1h"),C(t,"--width",i[1]),y(n,"class","backdrop svelte-po3u1h"),y(n,"draggable","true")},m(c,o){P(c,n,o),Q(n,t),l&&l.m(t,null),a=!0,r||(u=[U(et.call(null,t)),g(t,"outclick",i[2]),g(t,"click",M(i[6])),g(n,"dragstart",M(tt(!1)))],r=!0)},p(c,o){l&&l.p&&(!a||o&16)&&W(l,f,c,c[4],a?T(f,c[4],o,null):X(c[4]),null),o&2&&C(t,"--width",c[1])},i(c){a||(_(l,c),S(()=>{a&&(e||(e=m(t,I,{y:-200},!0)),e.run(1))}),S(()=>{a&&(s||(s=m(n,q,{},!0)),s.run(1))}),a=!0)},o(c){k(l,c),e||(e=m(t,I,{y:-200},!1)),e.run(0),s||(s=m(n,q,{},!1)),s.run(0),a=!1},d(c){c&&b(n),l&&l.d(c),c&&e&&e.end(),c&&s&&s.end(),r=!1,x(u)}}}function st(i){let n,t,e,s,a=i[0]&&A(i);return{c(){a&&a.c(),n=j()},l(r){a&&a.l(r),n=j()},m(r,u){a&&a.m(r,u),P(r,n,u),t=!0,e||(s=g(window,"keyup",i[3]),e=!0)},p(r,[u]){r[0]?a?(a.p(r,u),u&1&&_(a,1)):(a=A(r),a.c(),_(a,1),a.m(n.parentNode,n)):a&&(J(),k(a,1,1,()=>{a=null}),Z())},i(r){t||(_(a),t=!0)},o(r){k(a),t=!1},d(r){a&&a.d(r),r&&b(n),e=!1,s()}}}function nt(i,n,t){let{$$slots:e={},$$scope:s}=n,{width:a="auto"}=n,{open:r=!1}=n;const u=B(),f=o=>{var p;t(0,r=!1),u("close"),(p=o==null?void 0:o.detail)==null||p.stopPropagation()},l=o=>{o.key=="Escape"&&(o.preventDefault(),o.stopPropagation(),f())};function c(o){$.call(this,i,o)}return i.$$set=o=>{"width"in o&&t(1,a=o.width),"open"in o&&t(0,r=o.open),"$$scope"in o&&t(4,s=o.$$scope)},[r,a,f,l,s,e,c]}class ut extends N{constructor(n){super(),F(this,n,nt,st,G,{width:1,open:0})}}class dt extends E{constructor(t,e=!1){super("mechanic",t);d(this,"iconKey","");d(this,"countsAsCast",!0);super.isParent=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new h("data");return t.put("icon-key",this.iconKey),t.put("counts",this.countsAsCast),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new h("data");return this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){const e=t.get("data");e&&this.data.forEach(s=>s.deserialize(e)),this.components=t.get("children",[],s=>v.deserializeComponents(s))}}const K=class extends E{constructor(t){super("condition",t);d(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.components=t.get("children",[],s=>v.deserializeComponents(s))}};let D=K;d(D,"new",()=>new K({name:"null"}));const O=class extends E{constructor(t){super("target",t);d(this,"iconKey","")}toYamlObj(){const t=super.toYamlObj(),e=this.getData();return e.getKeys().length>0&&t.put("data",e),this.components.length>0&&t.put("children",this.components),t}getData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.components=t.get("children",[],s=>v.deserializeComponents(s))}};let w=O;d(w,"new",()=>new O({name:"null"}));const ft=(()=>{let i=!1;i=localStorage.getItem("use-symbols")==="true";const{subscribe:n,set:t,update:e}=at(i);return{subscribe:n,set:s=>(localStorage.setItem("use-symbols",String(s)),t(s)),update:e}})();export{ut as M,dt as P,w as a,D as b,ft as u};
