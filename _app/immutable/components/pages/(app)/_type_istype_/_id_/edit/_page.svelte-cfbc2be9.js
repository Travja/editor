import{S as le,i as ne,s as se,k as P,q as H,a as V,l as y,m as T,r as M,h,c as q,n as D,p as ce,b as E,C as j,u as oe,f as S,g as Y,d as Z,t as z,a2 as re,Y as fe,Z as ue,w as B,x as R,y as W,$ as me,z as O,e as J,ag as _e,E as pe,a3 as de}from"../../../../../../chunks/index-b4b37283.js";import{T as K,U as L,S as ge,V as he}from"../../../../../../chunks/store-f3c78f54.js";import{M as ve}from"../../../../../../chunks/Modal-cafe86d7.js";function Q(s,e,n){const t=s.slice();return t[4]=e[n],t[5]=e,t[6]=n,t}function X(s){let e,n,t;function o(r){s[3](r,s[4],s[5],s[6])}let i={};return s[4]!==void 0&&(i.component=s[4]),e=new ae({props:i}),fe.push(()=>ue(e,"component",o)),{c(){B(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,p){W(e,r,p),t=!0},p(r,p){s=r;const a={};!n&&p&1&&(n=!0,a.component=s[4],me(()=>n=!1)),e.$set(a)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function $e(s){let e,n,t,o=s[1]()+"",i,r,p=s[0].name+"",a,f,b,k,w=s[0].components,m=[];for(let c=0;c<w.length;c+=1)m[c]=X(Q(s,w,c));const A=c=>z(m[c],1,1,()=>{m[c]=null});return{c(){e=P("div"),n=P("div"),t=P("span"),i=H(o),r=H(": "),a=H(p),f=V(),b=P("div");for(let c=0;c<m.length;c+=1)m[c].c();this.h()},l(c){e=y(c,"DIV",{draggable:!0,class:!0});var d=T(e);n=y(d,"DIV",{class:!0});var u=T(n);t=y(u,"SPAN",{class:!0});var C=T(t);i=M(C,o),C.forEach(h),r=M(u,": "),a=M(u,p),u.forEach(h),f=q(d),b=y(d,"DIV",{class:!0});var I=T(b);for(let _=0;_<m.length;_+=1)m[_].l(I);I.forEach(h),d.forEach(h),this.h()},h(){D(t,"class","svelte-1g74roq"),D(n,"class","name svelte-1g74roq"),D(b,"class","children svelte-1g74roq"),D(e,"draggable","true"),D(e,"class","comp-body svelte-1g74roq"),ce(e,"--comp-color",s[2]())},m(c,d){E(c,e,d),j(e,n),j(n,t),j(t,i),j(n,r),j(n,a),j(e,f),j(e,b);for(let u=0;u<m.length;u+=1)m[u].m(b,null);k=!0},p(c,[d]){if((!k||d&1)&&p!==(p=c[0].name+"")&&oe(a,p),d&1){w=c[0].components;let u;for(u=0;u<w.length;u+=1){const C=Q(c,w,u);m[u]?(m[u].p(C,d),S(m[u],1)):(m[u]=X(C),m[u].c(),S(m[u],1),m[u].m(b,null))}for(Y(),u=w.length;u<m.length;u+=1)A(u);Z()}},i(c){if(!k){for(let d=0;d<w.length;d+=1)S(m[d]);k=!0}},o(c){m=m.filter(Boolean);for(let d=0;d<m.length;d+=1)z(m[d]);k=!1},d(c){c&&h(e),re(m,c)}}}function be(s,e,n){let{component:t}=e;const o=()=>t instanceof K?"Trigger":t instanceof L?"Condition":"???",i=()=>t instanceof K?"#0083ef":t instanceof L?"#feac00":"orange";function r(p,a,f,b){f[b]=p,n(0,t)}return s.$$set=p=>{"component"in p&&n(0,t=p.component)},[t,o,i,r]}class ae extends le{constructor(e){super(),ne(this,e,be,$e,se,{component:0})}}function x(s,e,n){const t=s.slice();return t[6]=e[n],t}function ee(s){let e,n,t;return n=new ae({props:{component:s[6]}}),{c(){e=P("div"),B(n.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0});var i=T(e);R(n.$$.fragment,i),i.forEach(h),this.h()},h(){D(e,"class","widget svelte-o1jzjf")},m(o,i){E(o,e,i),W(n,e,null),t=!0},p(o,i){const r={};i&1&&(r.component=o[6]),n.$set(r)},i(o){t||(S(n.$$.fragment,o),t=!0)},o(o){z(n.$$.fragment,o),t=!1},d(o){o&&h(e),O(n)}}}function te(s){let e,n;return e=new ve({props:{$$slots:{default:[ke]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){B(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,o){W(e,t,o),n=!0},p(t,o){const i={};o&512&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ke(s){let e,n,t,o,i,r,p;return r=new ge({props:{data:Object.values(he).map(Ee),display:je}}),r.$on("select",s[2]),{c(){e=P("h2"),n=H("Select New Trigger"),t=V(),o=P("hr"),i=V(),B(r.$$.fragment),this.h()},l(a){e=y(a,"H2",{class:!0});var f=T(e);n=M(f,"Select New Trigger"),f.forEach(h),t=q(a),o=y(a,"HR",{}),i=q(a),R(r.$$.fragment,a),this.h()},h(){D(e,"class","modal-header svelte-o1jzjf")},m(a,f){E(a,e,f),j(e,n),E(a,t,f),E(a,o,f),E(a,i,f),W(r,a,f),p=!0},p:de,i(a){p||(S(r.$$.fragment,a),p=!0)},o(a){z(r.$$.fragment,a),p=!1},d(a){a&&h(e),a&&h(t),a&&h(o),a&&h(i),O(r,a)}}}function we(s){let e,n,t,o=s[0].name+"",i,r,p,a,f,b,k,w,m,A,c,d,u,C;document.title=e="ProSkillAPI Dynamic Editor - "+s[0].name;let I=s[0].triggers,_=[];for(let l=0;l<I.length;l+=1)_[l]=ee(x(s,I,l));const ie=l=>z(_[l],1,1,()=>{_[l]=null});let $=s[1]&&te(s);return{c(){n=V(),t=P("h2"),i=H(o),r=V(),p=P("hr"),a=V(),f=P("div");for(let l=0;l<_.length;l+=1)_[l].c();b=V(),k=P("div"),w=P("span"),m=H("variables"),A=V(),$&&$.c(),c=J(),this.h()},l(l){_e("svelte-r5m1v8",document.head).forEach(h),n=q(l),t=y(l,"H2",{class:!0});var v=T(t);i=M(v,o),v.forEach(h),r=q(l),p=y(l,"HR",{}),a=q(l),f=y(l,"DIV",{class:!0});var N=T(f);for(let U=0;U<_.length;U+=1)_[U].l(N);b=q(N),k=y(N,"DIV",{class:!0,title:!0});var F=T(k);w=y(F,"SPAN",{class:!0});var G=T(w);m=M(G,"variables"),G.forEach(h),F.forEach(h),N.forEach(h),A=q(l),$&&$.l(l),c=J(),this.h()},h(){D(t,"class","svelte-o1jzjf"),D(w,"class","material-symbols-rounded svelte-o1jzjf"),D(k,"class","add-trigger chip svelte-o1jzjf"),D(k,"title","Add Trigger"),D(f,"class","container svelte-o1jzjf")},m(l,g){E(l,n,g),E(l,t,g),j(t,i),E(l,r,g),E(l,p,g),E(l,a,g),E(l,f,g);for(let v=0;v<_.length;v+=1)_[v].m(f,null);j(f,b),j(f,k),j(k,w),j(w,m),E(l,A,g),$&&$.m(l,g),E(l,c,g),d=!0,u||(C=pe(k,"click",s[4]),u=!0)},p(l,[g]){if((!d||g&1)&&e!==(e="ProSkillAPI Dynamic Editor - "+l[0].name)&&(document.title=e),(!d||g&1)&&o!==(o=l[0].name+"")&&oe(i,o),g&1){I=l[0].triggers;let v;for(v=0;v<I.length;v+=1){const N=x(l,I,v);_[v]?(_[v].p(N,g),S(_[v],1)):(_[v]=ee(N),_[v].c(),S(_[v],1),_[v].m(f,b))}for(Y(),v=I.length;v<_.length;v+=1)ie(v);Z()}l[1]?$?($.p(l,g),g&2&&S($,1)):($=te(l),$.c(),S($,1),$.m(c.parentNode,c)):$&&(Y(),z($,1,1,()=>{$=null}),Z())},i(l){if(!d){for(let g=0;g<I.length;g+=1)S(_[g]);S($),d=!0}},o(l){_=_.filter(Boolean);for(let g=0;g<_.length;g+=1)z(_[g]);z($),d=!1},d(l){l&&h(n),l&&h(t),l&&h(r),l&&h(p),l&&h(a),l&&h(f),re(_,l),l&&h(A),$&&$.d(l),l&&h(c),u=!1,C()}}}const Ee=s=>new s,je=s=>s.name;function Se(s,e,n){let{data:t}=e,o=t.data,i=!1;const r=f=>{o.triggers.push(f.detail),n(0,o.triggers=[...o.triggers],o),setTimeout(()=>n(1,i=!1))},p=()=>n(1,i=!0),a=()=>n(1,i=!1);return s.$$set=f=>{"data"in f&&n(3,t=f.data)},[o,i,r,t,p,a]}class Ie extends le{constructor(e){super(),ne(this,e,Se,we,se,{data:3})}}export{Ie as default};
